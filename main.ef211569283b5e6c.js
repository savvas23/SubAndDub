"use strict";(self.webpackChunkSubAndDub=self.webpackChunkSubAndDub||[]).push([[179],{2011:(vt,Ie,G)=>{G.d(Ie,{Dh:()=>we,GT:()=>te,cc:()=>Me,hO:()=>ze,on:()=>Q,pX:()=>he,xv:()=>Ce});var s=G(4650),Y=G(9260),F=G(4976);vt=G.hmd(vt);const oe=["ngOnDestroy"],he=(Pe,Be,je,Ae={})=>new Proxy(Pe,{get:(Te,Fe)=>je.runOutsideAngular(()=>{var qe;if(Pe[Fe])return!(null===(qe=Ae?.spy)||void 0===qe)&&qe.get&&Ae.spy.get(Fe,Pe[Fe]),Pe[Fe];if(oe.indexOf(Fe)>-1)return()=>{};const Ve=Be.toPromise().then(de=>{const rt=de&&de[Fe];return"function"==typeof rt?rt.bind(de):rt&&rt.then?rt.then(Mt=>je.run(()=>Mt)):je.run(()=>rt)});return new Proxy(()=>{},{get:(de,rt)=>Ve[rt],apply:(de,rt,Mt)=>Ve.then(ct=>{var Kt;const ft=ct&&ct(...Mt);return!(null===(Kt=Ae?.spy)||void 0===Kt)&&Kt.apply&&Ae.spy.apply(Fe,Mt,ft),ft})})})}),te=(Pe,Be)=>{Be.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(Ae=>{Object.defineProperty(Pe.prototype,Ae,Object.getOwnPropertyDescriptor(je.prototype||je,Ae))})})};class Se{constructor(Be){return Be}}const we=new s.OlP("angularfire2.app.options"),Ce=new s.OlP("angularfire2.app.name");function Q(Pe,Be,je){const Te="object"==typeof je&&je||{};Te.name=Te.name||"string"==typeof je&&je||"[DEFAULT]";const qe=Y.Z.apps.filter(Ve=>Ve&&Ve.name===Te.name)[0]||Be.runOutsideAngular(()=>Y.Z.initializeApp(Pe,Te));try{JSON.stringify(Pe)!==JSON.stringify(qe.options)&&K("error",`${qe.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(qe)}const K=(Pe,...Be)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Pe](...Be)},ne={provide:Se,useFactory:Q,deps:[we,s.R0b,[new s.FiY,Ce]]};let ze=(()=>{class Pe{constructor(je){Y.Z.registerVersion("angularfire",F.q4.full,"core"),Y.Z.registerVersion("angularfire",F.q4.full,"app-compat"),Y.Z.registerVersion("angular",s.q4F.full,je.toString())}static initializeApp(je,Ae){return{ngModule:Pe,providers:[{provide:we,useValue:je},{provide:Ce,useValue:Ae}]}}}return Pe.\u0275fac=function(je){return new(je||Pe)(s.LFG(s.Lbi))},Pe.\u0275mod=s.oAB({type:Pe}),Pe.\u0275inj=s.cJS({providers:[ne]}),Pe})();function Me(Pe,Be,je,Ae,Te){const[,Fe,qe]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===Pe)||[];if(Fe)return function Xe(Pe,Be){try{return Pe.toString()===Be.toString()}catch{return Pe===Be}}(Te,qe)||(xe("error",`${Be} was already initialized on the ${je} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:Te,was:qe})),Fe;{const Ve=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Pe,Ve,Te]),Ve}}const lt=!!vt.hot,xe=(Pe,...Be)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Pe](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(vt,Ie,G)=>{G.d(Ie,{q4:()=>Kh,iC:()=>pd,fc:()=>Zo,HU:()=>Hr,vb:()=>nu,JM:()=>tu});var s=G(4650),Y=G(259),F=G(5861),oe=G(6881),he=G(2090),te=G(4859),Se=G(1877);const we=(x,S)=>S.some(I=>x instanceof I);let Ce,Q;const ze=new WeakMap,Me=new WeakMap,Xe=new WeakMap,lt=new WeakMap,xe=new WeakMap;let je={get(x,S,I){if(x instanceof IDBTransaction){if("done"===S)return Me.get(x);if("objectStoreNames"===S)return x.objectStoreNames||Xe.get(x);if("store"===S)return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return qe(x[S])},set:(x,S,I)=>(x[S]=I,!0),has:(x,S)=>x instanceof IDBTransaction&&("done"===S||"store"===S)||S in x};function Fe(x){return"function"==typeof x?function Te(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...S){return x.apply(Ve(this),S),qe(ze.get(this))}:function(...S){return qe(x.apply(Ve(this),S))}:function(S,...I){const U=x.call(Ve(this),S,...I);return Xe.set(U,S.sort?S.sort():[S]),qe(U)}}(x):(x instanceof IDBTransaction&&function Be(x){if(Me.has(x))return;const S=new Promise((I,U)=>{const j=()=>{x.removeEventListener("complete",ie),x.removeEventListener("error",ue),x.removeEventListener("abort",ue)},ie=()=>{I(),j()},ue=()=>{U(x.error||new DOMException("AbortError","AbortError")),j()};x.addEventListener("complete",ie),x.addEventListener("error",ue),x.addEventListener("abort",ue)});Me.set(x,S)}(x),we(x,function K(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,je):x)}function qe(x){if(x instanceof IDBRequest)return function Pe(x){const S=new Promise((I,U)=>{const j=()=>{x.removeEventListener("success",ie),x.removeEventListener("error",ue)},ie=()=>{I(qe(x.result)),j()},ue=()=>{U(x.error),j()};x.addEventListener("success",ie),x.addEventListener("error",ue)});return S.then(I=>{I instanceof IDBCursor&&ze.set(I,x)}).catch(()=>{}),xe.set(S,x),S}(x);if(lt.has(x))return lt.get(x);const S=Fe(x);return S!==x&&(lt.set(x,S),xe.set(S,x)),S}const Ve=x=>xe.get(x),Mt=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],Kt=new Map;function ft(x,S){if(!(x instanceof IDBDatabase)||S in x||"string"!=typeof S)return;if(Kt.get(S))return Kt.get(S);const I=S.replace(/FromIndex$/,""),U=S!==I,j=ct.includes(I);if(!(I in(U?IDBIndex:IDBObjectStore).prototype)||!j&&!Mt.includes(I))return;const ie=function(){var ue=(0,F.Z)(function*(Je,...Qe){const dt=this.transaction(Je,j?"readwrite":"readonly");let Gt=dt.store;return U&&(Gt=Gt.index(Qe.shift())),(yield Promise.all([Gt[I](...Qe),j&&dt.done]))[0]});return function(Qe){return ue.apply(this,arguments)}}();return Kt.set(S,ie),ie}!function Ae(x){je=x(je)}(x=>({...x,get:(S,I,U)=>ft(S,I)||x.get(S,I,U),has:(S,I)=>!!ft(S,I)||x.has(S,I)}));const ro="@firebase/installations",Bi="0.6.4",Br=1e4,Gs=`w:${Bi}`,fe="FIS_v2",ge="https://firebaseinstallations.googleapis.com/v1",ve=36e5,ut=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(x){return x instanceof he.ZR&&x.code.includes("request-failed")}function mn({projectId:x}){return`${ge}/projects/${x}/installations`}function Et(x){return{token:x.token,requestStatus:2,expiresIn:vi(x.expiresIn),creationTime:Date.now()}}function ln(x,S){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,F.Z)(function*(x,S){const U=(yield S.json()).error;return ut.create("request-failed",{requestName:x,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function bn({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Gn(x){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,F.Z)(function*(x){const S=yield x();return S.status>=500&&S.status<600?x():S})).apply(this,arguments)}function vi(x){return Number(x.replace("s","000"))}function gt(){return(gt=(0,F.Z)(function*({appConfig:x,heartbeatServiceProvider:S},{fid:I}){const U=mn(x),j=bn(x),ie=S.getImmediate({optional:!0});if(ie){const dt=yield ie.getHeartbeatsHeader();dt&&j.append("x-firebase-client",dt)}const Je={method:"POST",headers:j,body:JSON.stringify({fid:I,authVersion:fe,appId:x.appId,sdkVersion:Gs})},Qe=yield Gn(()=>fetch(U,Je));if(Qe.ok){const dt=yield Qe.json();return{fid:dt.fid||I,registrationStatus:2,refreshToken:dt.refreshToken,authToken:Et(dt.authToken)}}throw yield ln("Create Installation",Qe)})).apply(this,arguments)}function ni(x){return new Promise(S=>{setTimeout(S,x)})}const si=/^[cdef][\w-]{21}$/,cr="";function Cr(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const I=function gn(x){return function js(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return si.test(I)?I:cr}catch{return cr}}function Qt(x){return`${x.appName}!${x.appId}`}const pt=new Map;function Ht(x,S){const I=Qt(x);Wn(I,S),function Er(x,S){const I=function Ei(){return!ii&&"BroadcastChannel"in self&&(ii=new BroadcastChannel("[Firebase] FID Change"),ii.onmessage=x=>{Wn(x.data.key,x.data.fid)}),ii}();I&&I.postMessage({key:x,fid:S}),function Jt(){0===pt.size&&ii&&(ii.close(),ii=null)}()}(I,S)}function Wn(x,S){const I=pt.get(x);if(I)for(const U of I)U(S)}let ii=null;const Zr="firebase-installations-database",en=1,Vr="firebase-installations-store";let $t=null;function ai(){return $t||($t=function de(x,S,{blocked:I,upgrade:U,blocking:j,terminated:ie}={}){const ue=indexedDB.open(x,S),Je=qe(ue);return U&&ue.addEventListener("upgradeneeded",Qe=>{U(qe(ue.result),Qe.oldVersion,Qe.newVersion,qe(ue.transaction))}),I&&ue.addEventListener("blocked",()=>I()),Je.then(Qe=>{ie&&Qe.addEventListener("close",()=>ie()),j&&Qe.addEventListener("versionchange",()=>j())}).catch(()=>{}),Je}(Zr,en,{upgrade:(x,S)=>{0===S&&x.createObjectStore(Vr)}})),$t}function Kn(x,S){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,F.Z)(function*(x,S){const I=Qt(x),j=(yield ai()).transaction(Vr,"readwrite"),ie=j.objectStore(Vr),ue=yield ie.get(I);return yield ie.put(S,I),yield j.done,(!ue||ue.fid!==S.fid)&&Ht(x,S.fid),S})).apply(this,arguments)}function li(x){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,F.Z)(function*(x){const S=Qt(x),U=(yield ai()).transaction(Vr,"readwrite");yield U.objectStore(Vr).delete(S),yield U.done})).apply(this,arguments)}function ur(x,S){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,F.Z)(function*(x,S){const I=Qt(x),j=(yield ai()).transaction(Vr,"readwrite"),ie=j.objectStore(Vr),ue=yield ie.get(I),Je=S(ue);return void 0===Je?yield ie.delete(I):yield ie.put(Je,I),yield j.done,Je&&(!ue||ue.fid!==Je.fid)&&Ht(x,Je.fid),Je})).apply(this,arguments)}function Z(x){return $.apply(this,arguments)}function $(){return $=(0,F.Z)(function*(x){let S;const I=yield ur(x.appConfig,U=>{const j=function L(x){return Tt(x||{fid:Cr(),registrationStatus:0})}(U),ie=function V(x,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(ut.create("app-offline"))};const I={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},U=function O(x,S){return J.apply(this,arguments)}(x,I);return{installationEntry:I,registrationPromise:U}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:De(x)}:{installationEntry:S}}(x,j);return S=ie.registrationPromise,ie.installationEntry});return I.fid===cr?{installationEntry:yield S}:{installationEntry:I,registrationPromise:S}}),$.apply(this,arguments)}function J(){return J=(0,F.Z)(function*(x,S){try{const I=yield function ti(x,S){return gt.apply(this,arguments)}(x,S);return Kn(x.appConfig,I)}catch(I){throw ht(I)&&409===I.customData.serverCode?yield li(x.appConfig):yield Kn(x.appConfig,{fid:S.fid,registrationStatus:0}),I}}),J.apply(this,arguments)}function De(x){return st.apply(this,arguments)}function st(){return(st=(0,F.Z)(function*(x){let S=yield Rt(x.appConfig);for(;1===S.registrationStatus;)yield ni(100),S=yield Rt(x.appConfig);if(0===S.registrationStatus){const{installationEntry:I,registrationPromise:U}=yield Z(x);return U||I}return S})).apply(this,arguments)}function Rt(x){return ur(x,S=>{if(!S)throw ut.create("installation-not-found");return Tt(S)})}function Tt(x){return function Xt(x){return 1===x.registrationStatus&&x.registrationTime+Br<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Ln(){return(Ln=(0,F.Z)(function*({appConfig:x,heartbeatServiceProvider:S},I){const U=function Yt(x,{fid:S}){return`${mn(x)}/${S}/authTokens:generate`}(x,I),j=function yi(x,{refreshToken:S}){const I=bn(x);return I.append("Authorization",function Yr(x){return`${fe} ${x}`}(S)),I}(x,I),ie=S.getImmediate({optional:!0});if(ie){const dt=yield ie.getHeartbeatsHeader();dt&&j.append("x-firebase-client",dt)}const Je={method:"POST",headers:j,body:JSON.stringify({installation:{sdkVersion:Gs,appId:x.appId}})},Qe=yield Gn(()=>fetch(U,Je));if(Qe.ok)return Et(yield Qe.json());throw yield ln("Generate Auth Token",Qe)})).apply(this,arguments)}function Vi(x){return so.apply(this,arguments)}function so(){return so=(0,F.Z)(function*(x,S=!1){let I;const U=yield ur(x.appConfig,ie=>{if(!tn(ie))throw ut.create("not-registered");const ue=ie.authToken;if(!S&&function bt(x){return 2===x.requestStatus&&!function Cn(x){const S=Date.now();return S<x.creationTime||x.creationTime+x.expiresIn<S+ve}(x)}(ue))return ie;if(1===ue.requestStatus)return I=function _e(x,S){return ae.apply(this,arguments)}(x,S),ie;{if(!navigator.onLine)throw ut.create("app-offline");const Je=function un(x){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:S})}(ie);return I=function yt(x,S){return Ot.apply(this,arguments)}(x,Je),Je}});return I?yield I:U.authToken}),so.apply(this,arguments)}function ae(){return(ae=(0,F.Z)(function*(x,S){let I=yield Ue(x.appConfig);for(;1===I.authToken.requestStatus;)yield ni(100),I=yield Ue(x.appConfig);const U=I.authToken;return 0===U.requestStatus?Vi(x,S):U})).apply(this,arguments)}function Ue(x){return ur(x,S=>{if(!tn(S))throw ut.create("not-registered");return function dr(x){return 1===x.requestStatus&&x.requestTime+Br<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Ot(){return Ot=(0,F.Z)(function*(x,S){try{const I=yield function Ft(x,S){return Ln.apply(this,arguments)}(x,S),U=Object.assign(Object.assign({},S),{authToken:I});return yield Kn(x.appConfig,U),I}catch(I){if(!ht(I)||401!==I.customData.serverCode&&404!==I.customData.serverCode){const U=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Kn(x.appConfig,U)}else yield li(x.appConfig);throw I}}),Ot.apply(this,arguments)}function tn(x){return void 0!==x&&2===x.registrationStatus}function Dc(){return(Dc=(0,F.Z)(function*(x){const S=x,{installationEntry:I,registrationPromise:U}=yield Z(S);return U?U.catch(console.error):Vi(S).catch(console.error),I.fid})).apply(this,arguments)}function Io(){return Io=(0,F.Z)(function*(x,S=!1){const I=x;return yield function Hi(x){return tt.apply(this,arguments)}(I),(yield Vi(I,S)).token}),Io.apply(this,arguments)}function tt(){return(tt=(0,F.Z)(function*(x){const{registrationPromise:S}=yield Z(x);S&&(yield S)})).apply(this,arguments)}function ci(x){return ut.create("missing-app-config-values",{valueName:x})}const Wt="installations",os=x=>{const S=x.getProvider("app").getImmediate(),I=function Il(x){if(!x||!x.options)throw ci("App Configuration");if(!x.name)throw ci("App Name");const S=["projectId","apiKey","appId"];for(const I of S)if(!x.options[I])throw ci(I);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(S);return{app:S,appConfig:I,heartbeatServiceProvider:(0,oe._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},oo=x=>{const S=x.getProvider("app").getImmediate(),I=(0,oe._getProvider)(S,Wt).getImmediate();return{getId:()=>function Ui(x){return Dc.apply(this,arguments)}(I),getToken:j=>function Ep(x){return Io.apply(this,arguments)}(I,j)}};(function as(){(0,oe._registerComponent)(new te.wA(Wt,os,"PUBLIC")),(0,oe._registerComponent)(new te.wA("installations-internal",oo,"PRIVATE"))})(),(0,oe.registerVersion)(ro,Bi),(0,oe.registerVersion)(ro,Bi,"esm2017");const ui="@firebase/remote-config",di=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Kg{constructor(S,I,U,j){this.client=S,this.storage=I,this.storageCache=U,this.logger=j}isCachedDataFresh(S,I){if(!I)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-I,j=U<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${j}.`),j}fetch(S){var I=this;return(0,F.Z)(function*(){const[U,j]=yield Promise.all([I.storage.getLastSuccessfulFetchTimestampMillis(),I.storage.getLastSuccessfulFetchResponse()]);if(j&&I.isCachedDataFresh(S.cacheMaxAgeMillis,U))return j;S.eTag=j&&j.eTag;const ie=yield I.client.fetch(S),ue=[I.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&ue.push(I.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(ue),ie})()}}function Uu(x=navigator){return x.languages&&x.languages[0]||x.language}class Dp{constructor(S,I,U,j,ie,ue){this.firebaseInstallations=S,this.sdkVersion=I,this.namespace=U,this.projectId=j,this.apiKey=ie,this.appId=ue}fetch(S){var I=this;return(0,F.Z)(function*(){const[U,j]=yield Promise.all([I.firebaseInstallations.getId(),I.firebaseInstallations.getToken()]),ue=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${I.projectId}/namespaces/${I.namespace}:fetch?key=${I.apiKey}`,Je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Qe={sdk_version:I.sdkVersion,app_instance_id:U,app_instance_id_token:j,app_id:I.appId,language_code:Uu()},dt={method:"POST",headers:Je,body:JSON.stringify(Qe)},Gt=fetch(ue,dt),jt=new Promise((ps,Ks)=>{S.signal.addEventListener(()=>{const rl=new Error("The operation was aborted.");rl.name="AbortError",Ks(rl)})});let Gr;try{yield Promise.race([Gt,jt]),Gr=yield Gt}catch(ps){let Ks="fetch-client-network";throw"AbortError"===ps?.name&&(Ks="fetch-timeout"),di.create(Ks,{originalErrorMessage:ps?.message})}let Mi=Gr.status;const md=Gr.headers.get("ETag")||void 0;let Ws,go;if(200===Gr.status){let ps;try{ps=yield Gr.json()}catch(Ks){throw di.create("fetch-client-parse",{originalErrorMessage:Ks?.message})}Ws=ps.entries,go=ps.state}if("INSTANCE_STATE_UNSPECIFIED"===go?Mi=500:"NO_CHANGE"===go?Mi=304:("NO_TEMPLATE"===go||"EMPTY_CONFIG"===go)&&(Ws={}),304!==Mi&&200!==Mi)throw di.create("fetch-status",{httpStatus:Mi});return{status:Mi,eTag:md,config:Ws}})()}}class gh{constructor(S,I){this.client=S,this.storage=I}fetch(S){var I=this;return(0,F.Z)(function*(){const U=(yield I.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return I.attemptFetch(S,U)})()}attemptFetch(S,{throttleEndTimeMillis:I,backoffCount:U}){var j=this;return(0,F.Z)(function*(){yield function Ol(x,S){return new Promise((I,U)=>{const j=Math.max(S-Date.now(),0),ie=setTimeout(I,j);x.addEventListener(()=>{clearTimeout(ie),U(di.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,I);try{const ie=yield j.client.fetch(S);return yield j.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Qg(x){if(!(x instanceof he.ZR&&x.customData))return!1;const S=Number(x.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ie))throw ie;const ue={throttleEndTimeMillis:Date.now()+(0,he.$s)(U),backoffCount:U+1};return yield j.storage.setThrottleMetadata(ue),j.attemptFetch(S,ue)}})()}}class Pl{constructor(S,I,U,j,ie){this.app=S,this._client=I,this._storageCache=U,this._storage=j,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Oo(x,S){const I=x.target.error||void 0;return di.create(S,{originalErrorMessage:I&&I?.message})}const hr="app_namespace_store";class vh{constructor(S,I,U,j=function Tp(){return new Promise((x,S)=>{try{const I=indexedDB.open("firebase_remote_config",1);I.onerror=U=>{S(Oo(U,"storage-open"))},I.onsuccess=U=>{x(U.target.result)},I.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(hr,{keyPath:"compositeKey"})}}catch(I){S(di.create("storage-open",{originalErrorMessage:I?.message}))}})}()){this.appId=S,this.appName=I,this.namespace=U,this.openDbPromise=j}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var I=this;return(0,F.Z)(function*(){const U=yield I.openDbPromise;return new Promise((j,ie)=>{const Je=U.transaction([hr],"readonly").objectStore(hr),Qe=I.createCompositeKey(S);try{const dt=Je.get(Qe);dt.onerror=Gt=>{ie(Oo(Gt,"storage-get"))},dt.onsuccess=Gt=>{const jt=Gt.target.result;j(jt?jt.value:void 0)}}catch(dt){ie(di.create("storage-get",{originalErrorMessage:dt?.message}))}})})()}set(S,I){var U=this;return(0,F.Z)(function*(){const j=yield U.openDbPromise;return new Promise((ie,ue)=>{const Qe=j.transaction([hr],"readwrite").objectStore(hr),dt=U.createCompositeKey(S);try{const Gt=Qe.put({compositeKey:dt,value:I});Gt.onerror=jt=>{ue(Oo(jt,"storage-set"))},Gt.onsuccess=()=>{ie()}}catch(Gt){ue(di.create("storage-set",{originalErrorMessage:Gt?.message}))}})})()}delete(S){var I=this;return(0,F.Z)(function*(){const U=yield I.openDbPromise;return new Promise((j,ie)=>{const Je=U.transaction([hr],"readwrite").objectStore(hr),Qe=I.createCompositeKey(S);try{const dt=Je.delete(Qe);dt.onerror=Gt=>{ie(Oo(Gt,"storage-delete"))},dt.onsuccess=()=>{j()}}catch(dt){ie(di.create("storage-delete",{originalErrorMessage:dt?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class fr{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,F.Z)(function*(){const I=S.storage.getLastFetchStatus(),U=S.storage.getLastSuccessfulFetchTimestampMillis(),j=S.storage.getActiveConfig(),ie=yield I;ie&&(S.lastFetchStatus=ie);const ue=yield U;ue&&(S.lastSuccessfulFetchTimestampMillis=ue);const Je=yield j;Je&&(S.activeConfig=Je)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function wh(){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,F.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}!function us(){(0,oe._registerComponent)(new te.wA("remote-config",function x(S,{instanceIdentifier:I}){const U=S.getProvider("app").getImmediate(),j=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw di.create("registration-window");if(!(0,he.hl)())throw di.create("indexed-db-unavailable");const{projectId:ie,apiKey:ue,appId:Je}=U.options;if(!ie)throw di.create("registration-project-id");if(!ue)throw di.create("registration-api-key");if(!Je)throw di.create("registration-app-id");const Qe=new vh(Je,U.name,I=I||"firebase"),dt=new fr(Qe),Gt=new Se.Yd(ui);Gt.logLevel=Se.in.ERROR;const jt=new Dp(j,oe.SDK_VERSION,I,ie,ue,Je),Gr=new gh(jt,Qe),Mi=new Kg(Gr,Qe,dt,Gt),md=new Pl(U,Mi,dt,Qe,Gt);return function Tr(x){const S=(0,he.m9)(x);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(md),md},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(ui,"0.4.4"),(0,oe.registerVersion)(ui,"0.4.4","esm2017")}();const Ap=(x,S)=>S.some(I=>x instanceof I);let Po,Hu;const ja=new WeakMap,ua=new WeakMap,Qn=new WeakMap,Fl=new WeakMap,Mc=new WeakMap;let ha={get(x,S,I){if(x instanceof IDBTransaction){if("done"===S)return ua.get(x);if("objectStoreNames"===S)return x.objectStoreNames||Qn.get(x);if("store"===S)return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return Ir(x[S])},set:(x,S,I)=>(x[S]=I,!0),has:(x,S)=>x instanceof IDBTransaction&&("done"===S||"store"===S)||S in x};function kc(x){return"function"==typeof x?function Ip(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xh(){return Hu||(Hu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...S){return x.apply(ji(this),S),Ir(ja.get(this))}:function(...S){return Ir(x.apply(ji(this),S))}:function(S,...I){const U=x.call(ji(this),S,...I);return Qn.set(U,S.sort?S.sort():[S]),Ir(U)}}(x):(x instanceof IDBTransaction&&function da(x){if(ua.has(x))return;const S=new Promise((I,U)=>{const j=()=>{x.removeEventListener("complete",ie),x.removeEventListener("error",ue),x.removeEventListener("abort",ue)},ie=()=>{I(),j()},ue=()=>{U(x.error||new DOMException("AbortError","AbortError")),j()};x.addEventListener("complete",ie),x.addEventListener("error",ue),x.addEventListener("abort",ue)});ua.set(x,S)}(x),Ap(x,function Ic(){return Po||(Po=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,ha):x)}function Ir(x){if(x instanceof IDBRequest)return function Di(x){const S=new Promise((I,U)=>{const j=()=>{x.removeEventListener("success",ie),x.removeEventListener("error",ue)},ie=()=>{I(Ir(x.result)),j()},ue=()=>{U(x.error),j()};x.addEventListener("success",ie),x.addEventListener("error",ue)});return S.then(I=>{I instanceof IDBCursor&&ja.set(I,x)}).catch(()=>{}),Mc.set(S,x),S}(x);if(Fl.has(x))return Fl.get(x);const S=kc(x);return S!==x&&(Fl.set(x,S),Mc.set(S,x)),S}const ji=x=>Mc.get(x);function Nl(x,S,{blocked:I,upgrade:U,blocking:j,terminated:ie}={}){const ue=indexedDB.open(x,S),Je=Ir(ue);return U&&ue.addEventListener("upgradeneeded",Qe=>{U(Ir(ue.result),Qe.oldVersion,Qe.newVersion,Ir(ue.transaction))}),I&&ue.addEventListener("blocked",()=>I()),Je.then(Qe=>{ie&&Qe.addEventListener("close",()=>ie()),j&&Qe.addEventListener("versionchange",()=>j())}).catch(()=>{}),Je}function Fo(x,{blocked:S}={}){const I=indexedDB.deleteDatabase(x);return S&&I.addEventListener("blocked",()=>S()),Ir(I).then(()=>{})}const Ch=["get","getKey","getAll","getAllKeys","count"],co=["put","add","delete","clear"],Ll=new Map;function za(x,S){if(!(x instanceof IDBDatabase)||S in x||"string"!=typeof S)return;if(Ll.get(S))return Ll.get(S);const I=S.replace(/FromIndex$/,""),U=S!==I,j=co.includes(I);if(!(I in(U?IDBIndex:IDBObjectStore).prototype)||!j&&!Ch.includes(I))return;const ie=function(){var ue=(0,F.Z)(function*(Je,...Qe){const dt=this.transaction(Je,j?"readwrite":"readonly");let Gt=dt.store;return U&&(Gt=Gt.index(Qe.shift())),(yield Promise.all([Gt[I](...Qe),j&&dt.done]))[0]});return function(Qe){return ue.apply(this,arguments)}}();return Ll.set(S,ie),ie}!function Ji(x){ha=x(ha)}(x=>({...x,get:(S,I,U)=>za(S,I)||x.get(S,I,U),has:(S,I)=>!!za(S,I)||x.has(S,I)}));const Ut="/firebase-messaging-sw.js",Rc="/firebase-cloud-messaging-push-scope",Mp="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gu="https://fcmregistrations.googleapis.com/v1",ju="google.c.a.c_id",zu="google.c.a.c_l",Eh="google.c.a.ts",Dh="google.c.a.e";var ye=(()=>{return(x=ye||(ye={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",ye;var x})();function zt(x){const S=new Uint8Array(x);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qu(x){const I=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(I),j=new Uint8Array(U.length);for(let ie=0;ie<U.length;++ie)j[ie]=U.charCodeAt(ie);return j}const Bl="fcm_token_details_db",hi=5,Sh="fcm_token_object_Store";function ds(){return ds=(0,F.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Bl))return null;let S=null;return(yield Nl(Bl,hi,{upgrade:(U=(0,F.Z)(function*(j,ie,ue,Je){var Qe;if(ie<2||!j.objectStoreNames.contains(Sh))return;const dt=Je.objectStore(Sh),Gt=yield dt.index("fcmSenderId").get(x);if(yield dt.clear(),Gt)if(2===ie){const jt=Gt;if(!jt.auth||!jt.p256dh||!jt.endpoint)return;S={token:jt.fcmToken,createTime:null!==(Qe=jt.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:jt.auth,p256dh:jt.p256dh,endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:"string"==typeof jt.vapidKey?jt.vapidKey:zt(jt.vapidKey)}}}else if(3===ie){const jt=Gt;S={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:zt(jt.auth),p256dh:zt(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:zt(jt.vapidKey)}}}else if(4===ie){const jt=Gt;S={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:zt(jt.auth),p256dh:zt(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:zt(jt.vapidKey)}}}}),function(ie,ue,Je,Qe){return U.apply(this,arguments)})})).close(),yield Fo(Bl),yield Fo("fcm_vapid_details_db"),yield Fo("undefined"),function Oc(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:S}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var U}),ds.apply(this,arguments)}const Th="firebase-messaging-database",Ah=1,No="firebase-messaging-store";let $a=null;function Xi(){return $a||($a=Nl(Th,Ah,{upgrade:(x,S)=>{0===S&&x.createObjectStore(No)}})),$a}function Ur(x){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,F.Z)(function*(x){const S=Mh(x),U=yield(yield Xi()).transaction(No).objectStore(No).get(S);if(U)return U;{const j=yield function qa(x){return ds.apply(this,arguments)}(x.appConfig.senderId);if(j)return yield uo(x,j),j}}),Lo.apply(this,arguments)}function uo(x,S){return qs.apply(this,arguments)}function qs(){return(qs=(0,F.Z)(function*(x,S){const I=Mh(x),j=(yield Xi()).transaction(No,"readwrite");return yield j.objectStore(No).put(S,I),yield j.done,S})).apply(this,arguments)}function fa(){return(fa=(0,F.Z)(function*(x){const S=Mh(x),U=(yield Xi()).transaction(No,"readwrite");yield U.objectStore(No).delete(S),yield U.done})).apply(this,arguments)}function Mh({appConfig:x}){return x.appId}const fi=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pc(x,S){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,F.Z)(function*(x,S){const I=yield Ul(x),U=Nc(S),j={method:"POST",headers:I,body:JSON.stringify(U)};let ie;try{ie=yield(yield fetch($u(x.appConfig),j)).json()}catch(ue){throw fi.create("token-subscribe-failed",{errorInfo:ue?.toString()})}if(ie.error)throw fi.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw fi.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function Fc(){return(Fc=(0,F.Z)(function*(x,S){const I=yield Ul(x),U=Nc(S.subscriptionOptions),j={method:"PATCH",headers:I,body:JSON.stringify(U)};let ie;try{ie=yield(yield fetch(`${$u(x.appConfig)}/${S.token}`,j)).json()}catch(ue){throw fi.create("token-update-failed",{errorInfo:ue?.toString()})}if(ie.error)throw fi.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw fi.create("token-update-no-token");return ie.token})).apply(this,arguments)}function Rh(x,S){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,F.Z)(function*(x,S){const U={method:"DELETE",headers:yield Ul(x)};try{const ie=yield(yield fetch(`${$u(x.appConfig)}/${S}`,U)).json();if(ie.error)throw fi.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(j){throw fi.create("token-unsubscribe-failed",{errorInfo:j?.toString()})}})).apply(this,arguments)}function $u({projectId:x}){return`${Gu}/projects/${x}/registrations`}function Ul(x){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,F.Z)(function*({appConfig:x,installations:S}){const I=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${I}`})})).apply(this,arguments)}function Nc({p256dh:x,auth:S,endpoint:I,vapidKey:U}){const j={web:{endpoint:I,auth:S,p256dh:x}};return U!==Mp&&(j.web.applicationPubKey=U),j}const Oh=6048e5;function Ph(){return Ph=(0,F.Z)(function*(x){const S=yield function e_(x,S){return Fh.apply(this,arguments)}(x.swRegistration,x.vapidKey),I={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:S.endpoint,auth:zt(S.getKey("auth")),p256dh:zt(S.getKey("p256dh"))},U=yield Ur(x.firebaseDependencies);if(U){if(function t_(x,S){return S.vapidKey===x.vapidKey&&S.endpoint===x.endpoint&&S.auth===x.auth&&S.p256dh===x.p256dh}(U.subscriptionOptions,I))return Date.now()>=U.createTime+Oh?function zn(x,S){return Wu.apply(this,arguments)}(x,{token:U.token,createTime:Date.now(),subscriptionOptions:I}):U.token;try{yield Rh(x.firebaseDependencies,U.token)}catch(j){console.warn(j)}return Za(x.firebaseDependencies,I)}return Za(x.firebaseDependencies,I)}),Ph.apply(this,arguments)}function $s(){return $s=(0,F.Z)(function*(x){const S=yield Ur(x.firebaseDependencies);S&&(yield Rh(x.firebaseDependencies,S.token),yield function Ih(x){return fa.apply(this,arguments)}(x.firebaseDependencies));const I=yield x.swRegistration.pushManager.getSubscription();return!I||I.unsubscribe()}),$s.apply(this,arguments)}function Wu(){return Wu=(0,F.Z)(function*(x,S){try{const I=yield function kh(x,S){return Fc.apply(this,arguments)}(x.firebaseDependencies,S),U=Object.assign(Object.assign({},S),{token:I,createTime:Date.now()});return yield uo(x.firebaseDependencies,U),I}catch(I){throw yield function pr(x){return $s.apply(this,arguments)}(x),I}}),Wu.apply(this,arguments)}function Za(x,S){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,F.Z)(function*(x,S){const U={token:yield Pc(x,S),createTime:Date.now(),subscriptionOptions:S};return yield uo(x,U),U.token})).apply(this,arguments)}function Fh(){return(Fh=(0,F.Z)(function*(x,S){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qu(S)})})).apply(this,arguments)}function Bc(x){const S={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Ku(x,S){if(!S.notification)return;x.notification={};const I=S.notification.title;I&&(x.notification.title=I);const U=S.notification.body;U&&(x.notification.body=U);const j=S.notification.image;j&&(x.notification.image=j);const ie=S.notification.icon;ie&&(x.notification.icon=ie)}(S,x),function Nh(x,S){S.data&&(x.data=S.data)}(S,x),function Lh(x,S){var I,U,j,ie,ue;if(!(S.fcmOptions||null!==(I=S.notification)&&void 0!==I&&I.click_action))return;x.fcmOptions={};const Je=null!==(j=null===(U=S.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==j?j:null===(ie=S.notification)||void 0===ie?void 0:ie.click_action;Je&&(x.fcmOptions.link=Je);const Qe=null===(ue=S.fcmOptions)||void 0===ue?void 0:ue.analytics_label;Qe&&(x.fcmOptions.analyticsLabel=Qe)}(S,x),S}function Wa(x,S){const I=[];for(let U=0;U<x.length;U++)I.push(x.charAt(U)),U<S.length&&I.push(S.charAt(U));return I.join("")}function ho(x){return fi.create("missing-app-config-values",{valueName:x})}Wa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class n_{constructor(S,I,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const j=function Hl(x){if(!x||!x.options)throw ho("App Configuration Object");if(!x.name)throw ho("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:I}=x;for(const U of S)if(!I[U])throw ho(U);return{appName:x.name,projectId:I.projectId,apiKey:I.apiKey,appId:I.appId,senderId:I.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:j,installations:I,analyticsProvider:U}}_delete(){return Promise.resolve()}}function kp(x){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,F.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Ut,{scope:Rc}),x.swRegistration.update().catch(()=>{})}catch(S){throw fi.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function fo(){return(fo=(0,F.Z)(function*(x,S){if(!S&&!x.swRegistration&&(yield kp(x)),S||!x.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw fi.create("invalid-sw-registration");x.swRegistration=S}})).apply(this,arguments)}function Gl(){return(Gl=(0,F.Z)(function*(x,S){S?x.vapidKey=S:x.vapidKey||(x.vapidKey=Mp)})).apply(this,arguments)}function Ka(){return Ka=(0,F.Z)(function*(x,S){if(!navigator)throw fi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fi.create("permission-blocked");return yield function Qu(x,S){return Gl.apply(this,arguments)}(x,S?.vapidKey),yield function Bh(x,S){return fo.apply(this,arguments)}(x,S?.serviceWorkerRegistration),function Zu(x){return Ph.apply(this,arguments)}(x)}),Ka.apply(this,arguments)}function Bo(){return(Bo=(0,F.Z)(function*(x,S,I){const U=function pa(x){switch(x){case ye.NOTIFICATION_CLICKED:return"notification_open";case ye.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:I[ju],message_name:I[zu],message_time:I[Eh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ma(){return ma=(0,F.Z)(function*(x,S){const I=S.data;if(!I.isFirebaseMessaging)return;x.onMessageHandler&&I.messageType===ye.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Bc(I)):x.onMessageHandler.next(Bc(I)));const U=I.data;(function Vc(x){return"object"==typeof x&&!!x&&ju in x})(U)&&"1"===U[Dh]&&(yield function Vh(x,S,I){return Bo.apply(this,arguments)}(x,I.messageType,U))}),ma.apply(this,arguments)}const Ja="@firebase/messaging",zl=x=>{const S=new n_(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",I=>function Qa(x,S){return ma.apply(this,arguments)}(S,I)),S},Ju=x=>{const S=x.getProvider("messaging").getImmediate();return{getToken:U=>function Hc(x,S){return Ka.apply(this,arguments)}(S,U)}};function Rp(){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,F.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ql(){(0,oe._registerComponent)(new te.wA("messaging",zl,"PUBLIC")),(0,oe._registerComponent)(new te.wA("messaging-internal",Ju,"PRIVATE")),(0,oe.registerVersion)(Ja,"0.12.4"),(0,oe.registerVersion)(Ja,"0.12.4","esm2017")}();const Vo="analytics",jc="firebase_id",Gh="origin",$l=6e4,jh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zc="https://www.googletagmanager.com/gtag/js",Si=new Se.Yd("@firebase/analytics"),Jn=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Op(x){if(!x.startsWith(zc)){const S=Jn.create("invalid-gtag-resource",{gtagURL:x});return Si.warn(S.message),""}return x}function Uo(x){return Promise.all(x.map(S=>S.catch(I=>I)))}function Ho(){return(Ho=(0,F.Z)(function*(x,S,I,U,j,ie){const ue=U[j];try{if(ue)yield S[ue];else{const Qe=(yield Uo(I)).find(dt=>dt.measurementId===j);Qe&&(yield S[Qe.appId])}}catch(Je){Si.error(Je)}x("config",j,ie)})).apply(this,arguments)}function ga(){return(ga=(0,F.Z)(function*(x,S,I,U,j){try{let ie=[];if(j&&j.send_to){let ue=j.send_to;Array.isArray(ue)||(ue=[ue]);const Je=yield Uo(I);for(const Qe of ue){const dt=Je.find(jt=>jt.measurementId===Qe),Gt=dt&&S[dt.appId];if(!Gt){ie=[];break}ie.push(Gt)}}0===ie.length&&(ie=Object.values(S)),yield Promise.all(ie),x("event",U,j||{})}catch(ie){Si.error(ie)}})).apply(this,arguments)}const $c=30,va=new class zh{constructor(S={},I=1e3){this.throttleMetadata=S,this.intervalMillis=I}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,I){this.throttleMetadata[S]=I}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Fp(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function fn(){return(fn=(0,F.Z)(function*(x){var S;const{appId:I,apiKey:U}=x,j={method:"GET",headers:Fp(U)},ie=jh.replace("{app-id}",I),ue=yield fetch(ie,j);if(200!==ue.status&&304!==ue.status){let Je="";try{const Qe=yield ue.json();null!==(S=Qe.error)&&void 0!==S&&S.message&&(Je=Qe.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:ue.status,responseMessage:Je})}return ue.json()})).apply(this,arguments)}function $h(){return($h=(0,F.Z)(function*(x,S=va,I){const{appId:U,apiKey:j,measurementId:ie}=x.options;if(!U)throw Jn.create("no-app-id");if(!j){if(ie)return{measurementId:ie,appId:U};throw Jn.create("no-api-key")}const ue=S.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new qv;return setTimeout((0,F.Z)(function*(){Je.abort()}),void 0!==I?I:$l),od({appId:U,apiKey:j,measurementId:ie},ue,Je,S)})).apply(this,arguments)}function od(x,S,I){return ad.apply(this,arguments)}function ad(){return ad=(0,F.Z)(function*(x,{throttleEndTimeMillis:S,backoffCount:I},U,j=va){var ie;const{appId:ue,measurementId:Je}=x;try{yield function Np(x,S){return new Promise((I,U)=>{const j=Math.max(S-Date.now(),0),ie=setTimeout(I,j);x.addEventListener(()=>{clearTimeout(ie),U(Jn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(U,S)}catch(Qe){if(Je)return Si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${Qe?.message}]`),{appId:ue,measurementId:Je};throw Qe}try{const Qe=yield function qh(x){return fn.apply(this,arguments)}(x);return j.deleteThrottleMetadata(ue),Qe}catch(Qe){const dt=Qe;if(!function zv(x){if(!(x instanceof he.ZR&&x.customData))return!1;const S=Number(x.customData.httpStatus);return 429===S||500===S||503===S||504===S}(dt)){if(j.deleteThrottleMetadata(ue),Je)return Si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${dt?.message}]`),{appId:ue,measurementId:Je};throw Qe}const Gt=503===Number(null===(ie=dt?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,he.$s)(I,j.intervalMillis,$c):(0,he.$s)(I,j.intervalMillis),jt={throttleEndTimeMillis:Date.now()+Gt,backoffCount:I+1};return j.setThrottleMetadata(ue,jt),Si.debug(`Calling attemptFetch again in ${Gt} millis`),od(x,jt,U,j)}}),ad.apply(this,arguments)}class qv{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let ba,jo;function Lp(){return(Lp=(0,F.Z)(function*(x,S,I,U,j){if(j&&j.global)x("event",I,U);else{const ie=yield S;x("event",I,Object.assign(Object.assign({},U),{send_to:ie}))}})).apply(this,arguments)}function wa(){return(wa=(0,F.Z)(function*(){if(!(0,he.hl)())return Si.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(x){return Si.warn(Jn.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function zo(){return zo=(0,F.Z)(function*(x,S,I,U,j,ie,ue){var Je;const Qe=function sd(x){return $h.apply(this,arguments)}(x);Qe.then(Mi=>{I[Mi.measurementId]=Mi.appId,x.options.measurementId&&Mi.measurementId!==x.options.measurementId&&Si.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Mi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mi=>Si.error(Mi)),S.push(Qe);const dt=function hs(){return wa.apply(this,arguments)}().then(Mi=>{if(Mi)return U.getId()}),[Gt,jt]=yield Promise.all([Qe,dt]);(function ya(x){const S=window.document.getElementsByTagName("script");for(const I of Object.values(S))if(I.src&&I.src.includes(zc)&&I.src.includes(x))return I;return null})(ie)||function el(x,S){const I=function qc(x,S){let I;return window.trustedTypes&&(I=window.trustedTypes.createPolicy(x,S)),I}("firebase-js-sdk-policy",{createScriptURL:Op}),U=document.createElement("script"),j=`${zc}?l=${x}&id=${S}`;U.src=I?I?.createScriptURL(j):j,U.async=!0,document.head.appendChild(U)}(ie,Gt.measurementId),jo&&(j("consent","default",jo),function Wl(x){jo=x}(void 0)),j("js",new Date);const Gr=null!==(Je=ue?.config)&&void 0!==Je?Je:{};return Gr[Gh]="firebase",Gr.update=!0,null!=jt&&(Gr[jc]=jt),j("config",Gt.measurementId,Gr),ba&&(j("set",ba),function Wc(x){ba=x}(void 0)),Gt.measurementId}),zo.apply(this,arguments)}class Kc{constructor(S){this.app=S}_delete(){return delete Pn[this.app.options.appId],Promise.resolve()}}let Pn={},Bp=[];const qo={};let Vp,er,$o="dataLayer",Vn="gtag",po=!1;function Zh(x,S,I){!function Ds(){const x=[];if((0,he.ru)()&&x.push("This is a browser extension environment."),(0,he.zI)()||x.push("Cookies are not available."),x.length>0){const S=x.map((U,j)=>`(${j+1}) ${U}`).join(" "),I=Jn.create("invalid-analytics-context",{errorInfo:S});Si.warn(I.message)}}();const U=x.options.appId;if(!U)throw Jn.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Jn.create("no-api-key");Si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pn[U])throw Jn.create("already-exists",{id:U});if(!po){!function nd(x){let S=[];Array.isArray(window[x])?S=window[x]:window[x]=S}($o);const{wrappedGtag:ie,gtagCore:ue}=function _a(x,S,I,U,j){let ie=function(...ue){window[U].push(arguments)};return window[j]&&"function"==typeof window[j]&&(ie=window[j]),window[j]=function Yl(x,S,I,U){function ie(){return ie=(0,F.Z)(function*(ue,...Je){try{if("event"===ue){const[Qe,dt]=Je;yield function Pp(x,S,I,U,j){return ga.apply(this,arguments)}(x,S,I,Qe,dt)}else if("config"===ue){const[Qe,dt]=Je;yield function id(x,S,I,U,j,ie){return Ho.apply(this,arguments)}(x,S,I,U,Qe,dt)}else if("consent"===ue){const[Qe]=Je;x("consent","update",Qe)}else if("get"===ue){const[Qe,dt,Gt]=Je;x("get",Qe,dt,Gt)}else if("set"===ue){const[Qe]=Je;x("set",Qe)}else x(ue,...Je)}catch(Qe){Si.error(Qe)}}),ie.apply(this,arguments)}return function j(ue){return ie.apply(this,arguments)}}(ie,x,S,I),{gtagCore:ie,wrappedGtag:window[j]}}(Pn,Bp,qo,$o,Vn);er=ie,Vp=ue,po=!0}return Pn[U]=function nl(x,S,I,U,j,ie,ue){return zo.apply(this,arguments)}(x,Bp,qo,S,Vp,$o,I),new Kc(x)}function Yo(){return fs.apply(this,arguments)}function fs(){return(fs=(0,F.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}const qn="@firebase/analytics";!function Ss(){(0,oe._registerComponent)(new te.wA(Vo,(S,{options:I})=>Zh(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),I),"PUBLIC")),(0,oe._registerComponent)(new te.wA("analytics-internal",function x(S){try{const I=S.getProvider(Vo).getImmediate();return{logEvent:(U,j,ie)=>function Ze(x,S,I,U){x=(0,he.m9)(x),function $v(x,S,I,U,j){return Lp.apply(this,arguments)}(er,Pn[x.app.options.appId],S,I,U).catch(j=>Si.error(j))}(I,U,j,ie)}}catch(I){throw Jn.create("interop-component-reg-failed",{reason:I})}},"PRIVATE")),(0,oe.registerVersion)(qn,"0.10.0"),(0,oe.registerVersion)(qn,"0.10.0","esm2017")}();var hd=G(4408),Dt=G(7565);const Up=new class Ts extends Dt.v{}(class Nt extends hd.o{constructor(S,I){super(S,I),this.scheduler=S,this.work=I}schedule(S,I=0){return I>0?super.schedule(S,I):(this.delay=I,this.state=S,this.scheduler.flush(this),this)}execute(S,I){return I>0||this.closed?super.execute(S,I):this._execute(S,I)}requestAsyncId(S,I,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(S,I,U):(S.flush(this),0)}});var Ii=G(4986),Un=G(8505),Wh=G(5363),Xc=G(9468);const Kh=new s.GfV("7.6.1"),Or="__angularfire_symbol__analyticsIsSupportedValue",As="__angularfire_symbol__analyticsIsSupported",mr="__angularfire_symbol__remoteConfigIsSupportedValue",Ea="__angularfire_symbol__remoteConfigIsSupported",eu="__angularfire_symbol__messagingIsSupportedValue",In="__angularfire_symbol__messagingIsSupported";function tu(x,S,I){if(S){if(1===S.length)return S[0];const ie=S.filter(ue=>ue.app===I);if(1===ie.length)return ie[0]}return I.container.getProvider(x).getImmediate({optional:!0})}globalThis[As]||(globalThis[As]=Yo().then(x=>globalThis[Or]=x).catch(()=>globalThis[Or]=!1)),globalThis[In]||(globalThis[In]=Rp().then(x=>globalThis[eu]=x).catch(()=>globalThis[eu]=!1)),globalThis[Ea]||(globalThis[Ea]=wh().then(x=>globalThis[mr]=x).catch(()=>globalThis[mr]=!1));const nu=(x,S)=>{const I=S?[S]:(0,Y.C6)(),U=[];return I.forEach(j=>{j.container.getProvider(x).instances.forEach(ue=>{U.includes(ue)||U.push(ue)})}),U};function mo(){}class Qh{constructor(S,I=Up){this.zone=S,this.delegate=I}now(){return this.delegate.now()}schedule(S,I,U){const j=this.zone;return this.delegate.schedule(function(ue){j.runGuarded(()=>{S.apply(this,[ue])})},I,U)}}class iu{constructor(S){this.zone=S,this.task=null}call(S,I){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mo,{},mo,mo)),I.pipe((0,Un.b)({next:U,complete:U,error:U})).subscribe(S).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hr=(()=>{class x{constructor(I){this.ngZone=I,this.outsideAngular=I.runOutsideAngular(()=>new Qh(Zone.current)),this.insideAngular=I.run(()=>new Qh(Zone.current,Ii.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(I){return new(I||x)(s.LFG(s.R0b))},x.\u0275prov=s.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Is(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Zo(x){return x.pipe((0,Wh.Q)(Is().outsideAngular))}function pd(x){return Is(),function Hp(x){return function(I){return(I=I.lift(new iu(x.ngZone))).pipe((0,Xc.R)(x.outsideAngular),(0,Wh.Q)(x.insideAngular))}}(Is())(x)}},1389:(vt,Ie,G)=>{G.d(Ie,{$:()=>Ut,A:()=>K,D:()=>Me,I:()=>ri,J:()=>os,L:()=>zs,N:()=>ur,P:()=>nl,Q:()=>vh,R:()=>Zc,U:()=>bh,V:()=>wh,W:()=>Ac,X:()=>lo,Y:()=>Ic,Z:()=>xh,_:()=>Mc,a:()=>Mr,a0:()=>Mp,a1:()=>ju,a2:()=>Jg,a3:()=>Sh,a4:()=>ds,a5:()=>Th,a6:()=>No,a7:()=>Xi,a8:()=>Lo,a9:()=>qs,aA:()=>de,aB:()=>mr,aC:()=>li,aD:()=>Sr,aE:()=>Wh,aF:()=>dd,aG:()=>Rr,aH:()=>En,aL:()=>Ys,aO:()=>Po,aa:()=>Ih,ab:()=>Mh,ac:()=>Xg,ad:()=>kh,ae:()=>Rh,af:()=>$u,ai:()=>Oh,aj:()=>Ph,ak:()=>pr,an:()=>Ip,ao:()=>Ku,aq:()=>Gl,ar:()=>Ja,as:()=>Mt,at:()=>Tt,au:()=>De,av:()=>Ae,aw:()=>Gr,ax:()=>zi,ay:()=>Xt,az:()=>Te,b:()=>Gc,c:()=>er,d:()=>Zh,e:()=>Qc,f:()=>qn,g:()=>Ts,h:()=>hd,i:()=>rd,j:()=>Ii,k:()=>ps,l:()=>Zl,m:()=>Zv,p:()=>we,r:()=>Yh,s:()=>Go,u:()=>hs});var s=G(5861),Y=G(2090),F=G(6881),oe=G(7582),he=G(1877),te=G(4859);const we={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Xe=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pe=new he.Yd("@firebase/auth");function je(w,...g){Pe.logLevel<=he.in.ERROR&&Pe.error(`Auth (${F.SDK_VERSION}): ${w}`,...g)}function Ae(w,...g){throw Ve(w,...g)}function Te(w,...g){return Ve(w,...g)}function Fe(w,g,y){const C=Object.assign(Object.assign({},Xe()),{[g]:y});return new Y.LL("auth","Firebase",C).create(g,{appName:w.name})}function qe(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Ae(w,"argument-error"),Fe(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(w,...g){if("string"!=typeof w){const y=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(y,...C)}return lt.create(w,...g)}function de(w,g,...y){if(!w)throw Ve(g,...y)}function rt(w){const g="INTERNAL ASSERTION FAILED: "+w;throw je(g),new Error(g)}function Mt(w,g){w||rt(g)}function ct(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Kt(){return"http:"===ft()||"https:"===ft()}function ft(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Br{constructor(g,y){this.shortDelay=g,this.longDelay=y,Mt(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return function ro(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,Y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gs(w,g){Mt(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class fe{static initialize(g,y,C){this.fetchImpl=g,y&&(this.headersImpl=y),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new Br(3e4,6e4);function re(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function ke(w,g,y,C){return He.apply(this,arguments)}function He(){return(He=(0,s.Z)(function*(w,g,y,C,k={}){return ut(w,k,(0,s.Z)(function*(){let N={},ee={};C&&("GET"===g?ee=C:N={body:JSON.stringify(C)});const pe=(0,Y.xO)(Object.assign({key:w.config.apiKey},ee)).slice(1),We=yield w._getAdditionalHeaders();return We["Content-Type"]="application/json",w.languageCode&&(We["X-Firebase-Locale"]=w.languageCode),fe.fetch()(ln(w,w.config.apiHost,y,pe),Object.assign({method:g,headers:We,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function ut(w,g,y){return ht.apply(this,arguments)}function ht(){return(ht=(0,s.Z)(function*(w,g,y){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},ge),g);try{const k=new Hn(w),N=yield Promise.race([y(),k.promise]);k.clearNetworkTimeout();const ee=yield N.json();if("needConfirmation"in ee)throw bn(w,"account-exists-with-different-credential",ee);if(N.ok&&!("errorMessage"in ee))return ee;{const pe=N.ok?ee.errorMessage:ee.error.message,[We,nt]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw bn(w,"credential-already-in-use",ee);if("EMAIL_EXISTS"===We)throw bn(w,"email-already-in-use",ee);if("USER_DISABLED"===We)throw bn(w,"user-disabled",ee);const xt=C[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Fe(w,xt,nt);Ae(w,xt)}}catch(k){if(k instanceof Y.ZR)throw k;Ae(w,"network-request-failed",{message:String(k)})}})).apply(this,arguments)}function mn(w,g,y,C){return Et.apply(this,arguments)}function Et(){return(Et=(0,s.Z)(function*(w,g,y,C,k={}){const N=yield ke(w,g,y,C,k);return"mfaPendingCredential"in N&&Ae(w,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function ln(w,g,y,C){const k=`${g}${y}?${C}`;return w.config.emulator?Gs(w.config,k):`${w.config.apiScheme}://${k}`}class Hn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,C)=>{this.timer=setTimeout(()=>C(Te(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bn(w,g,y){const C={appName:w.name};y.email&&(C.email=y.email),y.phoneNumber&&(C.phoneNumber=y.phoneNumber);const k=Te(w,g,C);return k.customData._tokenResponse=y,k}function Gn(){return(Gn=(0,s.Z)(function*(w,g){return ke(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function vi(){return(vi=(0,s.Z)(function*(w,g){return ke(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ti(){return(ti=(0,s.Z)(function*(w,g){return ke(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function gt(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function si(){return(si=(0,s.Z)(function*(w,g=!1){const y=(0,Y.m9)(w),C=yield y.getIdToken(g),k=Cr(C);de(k&&k.exp&&k.auth_time&&k.iat,y.auth,"internal-error");const N="object"==typeof k.firebase?k.firebase:void 0,ee=N?.sign_in_provider;return{claims:k,token:C,authTime:gt(cr(k.auth_time)),issuedAtTime:gt(cr(k.iat)),expirationTime:gt(cr(k.exp)),signInProvider:ee||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function cr(w){return 1e3*Number(w)}function Cr(w){const[g,y,C]=w.split(".");if(void 0===g||void 0===y||void 0===C)return je("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,Y.tV)(y);return k?JSON.parse(k):(je("Failed to decode base64 JWT payload"),null)}catch(k){return je("Caught error parsing JWT payload as JSON",k?.toString()),null}}function Qt(w,g){return pt.apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(C){throw C instanceof Y.ZR&&function Ht({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}class oi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const k=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,s.Z)(function*(){yield y.iteration()}),C)}iteration(){var g=this;return(0,s.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&g.schedule(!0))}g.schedule()})()}}class Wi{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=gt(this.lastLoginAt),this.creationTime=gt(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wn(w){return Er.apply(this,arguments)}function Er(){return Er=(0,s.Z)(function*(w){var g;const y=w.auth,C=yield w.getIdToken(),k=yield Qt(w,function Yr(w,g){return ti.apply(this,arguments)}(y,{idToken:C}));de(k?.users.length,y,"internal-error");const N=k.users[0];w._notifyReloadListener(N);const ee=null!==(g=N.providerUserInfo)&&void 0!==g&&g.length?function Zr(w){return w.map(g=>{var{providerId:y}=g,C=(0,oe._T)(g,["providerId"]);return{providerId:y,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(N.providerUserInfo):[],pe=function Jt(w,g){return[...w.filter(C=>!g.some(k=>k.providerId===C.providerId)),...g]}(w.providerData,ee),xt=!!w.isAnonymous&&!(w.email&&N.passwordHash||pe?.length),nn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:pe,metadata:new Wi(N.createdAt,N.lastLoginAt),isAnonymous:xt};Object.assign(w,nn)}),Er.apply(this,arguments)}function Ei(){return(Ei=(0,s.Z)(function*(w){const g=(0,Y.m9)(w);yield Wn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Vr(){return(Vr=(0,s.Z)(function*(w,g){const y=yield ut(w,{},(0,s.Z)(function*(){const C=(0,Y.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:k,apiKey:N}=w.config,ee=ln(w,k,"/v1/token",`key=${N}`),pe=yield w._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",fe.fetch()(ee,{method:"POST",headers:pe,body:C})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class $t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){de(g.idToken,"internal-error"),de(typeof g.idToken<"u","internal-error"),de(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function gn(w){const g=Cr(w);return de(g,"internal-error"),de(typeof g.exp<"u","internal-error"),de(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var C=this;return(0,s.Z)(function*(){return de(!C.accessToken||C.refreshToken,g,"user-token-expired"),y||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var C=this;return(0,s.Z)(function*(){const{accessToken:k,refreshToken:N,expiresIn:ee}=yield function en(w,g){return Vr.apply(this,arguments)}(g,y);C.updateTokensAndExpiration(k,N,Number(ee))})()}updateTokensAndExpiration(g,y,C){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,y){const{refreshToken:C,accessToken:k,expirationTime:N}=y,ee=new $t;return C&&(de("string"==typeof C,"internal-error",{appName:g}),ee.refreshToken=C),k&&(de("string"==typeof k,"internal-error",{appName:g}),ee.accessToken=k),N&&(de("number"==typeof N,"internal-error",{appName:g}),ee.expirationTime=N),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new $t,this.toJSON())}_performRefresh(){return rt("not implemented")}}function ai(w,g){de("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class Kn{constructor(g){var{uid:y,auth:C,stsTokenManager:k}=g,N=(0,oe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=C,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Wi(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,s.Z)(function*(){const C=yield Qt(y,y.stsTokenManager.getToken(y.auth,g));return de(C,y.auth,"internal-error"),y.accessToken!==C&&(y.accessToken=C,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),C})()}getIdTokenResult(g){return function js(w){return si.apply(this,arguments)}(this,g)}reload(){return function ii(w){return Ei.apply(this,arguments)}(this)}_assign(g){this!==g&&(de(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const y=new Kn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(g){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var C=this;return(0,s.Z)(function*(){let k=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),k=!0),y&&(yield Wn(C)),yield C.auth._persistUserIfCurrent(C),k&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,s.Z)(function*(){const y=yield g.getIdToken();return yield Qt(g,function yi(w,g){return Gn.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var C,k,N,ee,pe,We,nt,xt;const nn=null!==(C=y.displayName)&&void 0!==C?C:void 0,ms=null!==(k=y.email)&&void 0!==k?k:void 0,sl=null!==(N=y.phoneNumber)&&void 0!==N?N:void 0,zp=null!==(ee=y.photoURL)&&void 0!==ee?ee:void 0,UC=null!==(pe=y.tenantId)&&void 0!==pe?pe:void 0,yd=null!==(We=y._redirectEventId)&&void 0!==We?We:void 0,Kv=null!==(nt=y.createdAt)&&void 0!==nt?nt:void 0,l_=null!==(xt=y.lastLoginAt)&&void 0!==xt?xt:void 0,{uid:qp,emailVerified:c_,isAnonymous:$p,providerData:Yp,stsTokenManager:Xh}=y;de(qp&&Xh,g,"internal-error");const Zp=$t.fromJSON(this.name,Xh);de("string"==typeof qp,g,"internal-error"),ai(nn,g.name),ai(ms,g.name),de("boolean"==typeof c_,g,"internal-error"),de("boolean"==typeof $p,g,"internal-error"),ai(sl,g.name),ai(zp,g.name),ai(UC,g.name),ai(yd,g.name),ai(Kv,g.name),ai(l_,g.name);const Wp=new Kn({uid:qp,auth:g,email:ms,emailVerified:c_,displayName:nn,isAnonymous:$p,photoURL:zp,phoneNumber:sl,tenantId:UC,stsTokenManager:Zp,createdAt:Kv,lastLoginAt:l_});return Yp&&Array.isArray(Yp)&&(Wp.providerData=Yp.map(u_=>Object.assign({},u_))),yd&&(Wp._redirectEventId=yd),Wp}static _fromIdTokenResponse(g,y,C=!1){return(0,s.Z)(function*(){const k=new $t;k.updateFromServerResponse(y);const N=new Kn({uid:y.localId,auth:g,stsTokenManager:k,isAnonymous:C});return yield Wn(N),N})()}}const Ki=new Map;function li(w){Mt(w instanceof Function,"Expected a class definition");let g=Ki.get(w);return g?(Mt(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,Ki.set(w,g),g)}const ur=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(y,C){var k=this;return(0,s.Z)(function*(){k.storage[y]=C})()}_get(y){var C=this;return(0,s.Z)(function*(){const k=C.storage[y];return void 0===k?null:k})()}_remove(y){var C=this;return(0,s.Z)(function*(){delete C.storage[y]})()}_addListener(y,C){}_removeListener(y,C){}}return w.type="NONE",w})();function Sr(w,g,y){return`firebase:${w}:${g}:${y}`}class Z{constructor(g,y,C){this.persistence=g,this.auth=y,this.userKey=C;const{config:k,name:N}=this.auth;this.fullUserKey=Sr(this.userKey,k.apiKey,N),this.fullPersistenceKey=Sr("persistence",k.apiKey,N),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,s.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Kn._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,s.Z)(function*(){if(y.persistence===g)return;const C=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,C?y.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,C="authUser"){return(0,s.Z)(function*(){if(!y.length)return new Z(li(ur),g,C);const k=(yield Promise.all(y.map(function(){var nt=(0,s.Z)(function*(xt){if(yield xt._isAvailable())return xt});return function(xt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let N=k[0]||li(ur);const ee=Sr(C,g.config.apiKey,g.name);let pe=null;for(const nt of y)try{const xt=yield nt._get(ee);if(xt){const nn=Kn._fromJSON(g,xt);nt!==N&&(pe=nn),N=nt;break}}catch{}const We=k.filter(nt=>nt._shouldAllowMigration);return N._shouldAllowMigration&&We.length?(N=We[0],pe&&(yield N._set(ee,pe.toJSON())),yield Promise.all(y.map(function(){var nt=(0,s.Z)(function*(xt){if(xt!==N)try{yield xt._remove(ee)}catch{}});return function(xt){return nt.apply(this,arguments)}}())),new Z(N,g,C)):new Z(N,g,C)})()}}function $(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(J(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(L(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(st(g))return"Blackberry";if(Rt(g))return"Webos";if(V(g))return"Safari";if((g.includes("chrome/")||O(g))&&!g.includes("edge/"))return"Chrome";if(De(g))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function L(w=(0,Y.z$)()){return/firefox\//i.test(w)}function V(w=(0,Y.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function O(w=(0,Y.z$)()){return/crios\//i.test(w)}function J(w=(0,Y.z$)()){return/iemobile/i.test(w)}function De(w=(0,Y.z$)()){return/android/i.test(w)}function st(w=(0,Y.z$)()){return/blackberry/i.test(w)}function Rt(w=(0,Y.z$)()){return/webos/i.test(w)}function Tt(w=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Xt(w=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Yt(w=(0,Y.z$)()){return Tt(w)||De(w)||Rt(w)||st(w)||/windows phone/i.test(w)||J(w)}function so(w,g=[]){let y;switch(w){case"Browser":y=$((0,Y.z$)());break;case"Worker":y=`${$((0,Y.z$)())}-${w}`;break;default:y=w}const C=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${F.SDK_VERSION}/${C}`}function ae(){return(ae=(0,s.Z)(function*(w){return(yield ke(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ue(w,g){return yt.apply(this,arguments)}function yt(){return(yt=(0,s.Z)(function*(w,g){return ke(w,"GET","/v2/recaptchaConfig",re(w,g))})).apply(this,arguments)}function Ot(w){return void 0!==w&&void 0!==w.getResponse}function tn(w){return void 0!==w&&void 0!==w.enterprise}class bt{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function un(w){return new Promise((g,y)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=g,C.onerror=k=>{const N=Te("internal-error");N.customData=k,y(N)},C.type="text/javascript",C.charset="UTF-8",function Cn(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(C)})}function dr(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Ep="NO_RECAPTCHA";class Io{constructor(g){this.type="recaptcha-enterprise",this.auth=En(g)}verify(g="verify",y=!1){var C=this;return(0,s.Z)(function*(){function N(){return N=(0,s.Z)(function*(pe){if(!y){if(null==pe.tenantId&&null!=pe._agentRecaptchaConfig)return pe._agentRecaptchaConfig.siteKey;if(null!=pe.tenantId&&void 0!==pe._tenantRecaptchaConfigs[pe.tenantId])return pe._tenantRecaptchaConfigs[pe.tenantId].siteKey}return new Promise(function(){var We=(0,s.Z)(function*(nt,xt){Ue(pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(nn=>{if(void 0!==nn.recaptchaKey){const ms=new bt(nn);return null==pe.tenantId?pe._agentRecaptchaConfig=ms:pe._tenantRecaptchaConfigs[pe.tenantId]=ms,nt(ms.siteKey)}xt(new Error("recaptcha Enterprise site key undefined"))}).catch(nn=>{xt(nn)})});return function(nt,xt){return We.apply(this,arguments)}}())}),N.apply(this,arguments)}function ee(pe,We,nt){const xt=window.grecaptcha;tn(xt)?xt.enterprise.ready(()=>{xt.enterprise.execute(pe,{action:g}).then(nn=>{We(nn)}).catch(()=>{We(Ep)})}):nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pe,We)=>{(function k(pe){return N.apply(this,arguments)})(C.auth).then(nt=>{if(!y&&tn(window.grecaptcha))ee(nt,pe,We);else{if(typeof window>"u")return void We(new Error("RecaptchaVerifier is only supported in browser"));un("https://www.google.com/recaptcha/enterprise.js?render="+nt).then(()=>{ee(nt,pe,We)}).catch(xt=>{We(xt)})}}).catch(nt=>{We(nt)})})})()}}function Hi(w,g,y){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(w,g,y,C=!1){const k=new Io(w);let N;try{N=yield k.verify(y)}catch{N=yield k.verify(y,!0)}const ee=Object.assign({},g);return Object.assign(ee,C?{captchaResp:N}:{captchaResponse:N}),Object.assign(ee,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ee,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ee})).apply(this,arguments)}class Vt{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const C=N=>new Promise((ee,pe)=>{try{ee(g(N))}catch(We){pe(We)}});C.onAbort=y,this.queue.push(C);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,s.Z)(function*(){if(y.auth.currentUser===g)return;const C=[];try{for(const k of y.queue)yield k(g),k.onAbort&&C.push(k.onAbort)}catch(k){C.reverse();for(const N of C)try{N()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}class jn{constructor(g,y,C,k){this.app=g,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=C,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mo(this),this.idTokenSubscription=new Mo(this),this.beforeStateQueue=new Vt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(g,y){var C=this;return y&&(this._popupRedirectResolver=li(y)),this._initializationPromise=this.queue((0,s.Z)(function*(){var k,N;if(!C._deleted&&(C.persistenceManager=yield Z.create(C,g),!C._deleted)){if(null!==(k=C._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(y),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,s.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,s.Z)(function*(){var C;const k=yield y.assertedPersistence.getCurrentUser();let N=k,ee=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const pe=null===(C=y.redirectUser)||void 0===C?void 0:C._redirectEventId,We=N?._redirectEventId,nt=yield y.tryRedirectSignIn(g);(!pe||pe===We)&&nt?.user&&(N=nt.user,ee=!0)}if(!N)return y.directlySetCurrentUser(null);if(!N._redirectEventId){if(ee)try{yield y.beforeStateQueue.runMiddleware(N)}catch(pe){N=k,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(pe))}return N?y.reloadAndSetCurrentUserOrClear(N):y.directlySetCurrentUser(null)}return de(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===N._redirectEventId?y.directlySetCurrentUser(N):y.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(g){var y=this;return(0,s.Z)(function*(){let C=null;try{C=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,s.Z)(function*(){try{yield Wn(g)}catch(C){if("auth/network-request-failed"!==C?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Bi(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,s.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,s.Z)(function*(){const C=g?(0,Y.m9)(g):null;return C&&de(C.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(C&&C._clone(y))})()}_updateCurrentUser(g,y=!1){var C=this;return(0,s.Z)(function*(){if(!C._deleted)return g&&de(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),y||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,s.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,s.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,s.Z)(function*(){yield y.assertedPersistence.setPersistence(li(g))}))}initializeRecaptchaConfig(){var g=this;return(0,s.Z)(function*(){const y=yield Ue(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new bt(y);null==g.tenantId?g._agentRecaptchaConfig=C:g._tenantRecaptchaConfigs[g.tenantId]=C,C.emailPasswordEnabled&&new Io(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new Y.LL("auth","Firebase",g())}onAuthStateChanged(g,y,C){return this.registerStateListener(this.authStateSubscription,g,y,C)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,C){return this.registerStateListener(this.idTokenSubscription,g,y,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var C=this;return(0,s.Z)(function*(){const k=yield C.getOrInitRedirectPersistenceManager(y);return null===g?k.removeCurrentUser():k.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,s.Z)(function*(){if(!y.redirectPersistenceManager){const C=g&&li(g)||y._popupRedirectResolver;de(C,y,"argument-error"),y.redirectPersistenceManager=yield Z.create(y,[li(C._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,s.Z)(function*(){var C,k;return y._isInitialized&&(yield y.queue((0,s.Z)(function*(){}))),(null===(C=y._currentUser)||void 0===C?void 0:C._redirectEventId)===g?y._currentUser:(null===(k=y.redirectUser)||void 0===k?void 0:k._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,s.Z)(function*(){if(g===y.currentUser)return y.queue((0,s.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,C,k){if(this._deleted)return()=>{};const N="function"==typeof y?y:y.next.bind(y),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return de(ee,this,"internal-error"),ee.then(()=>N(this.currentUser)),"function"==typeof y?g.addObserver(y,C,k):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,s.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=so(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,s.Z)(function*(){var y;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const k=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();k&&(C["X-Firebase-Client"]=k);const N=yield g._getAppCheckToken();return N&&(C["X-Firebase-AppCheck"]=N),C})()}_getAppCheckToken(){var g=this;return(0,s.Z)(function*(){var y;const C=yield null===(y=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return C?.error&&function Be(w,...g){Pe.logLevel<=he.in.WARN&&Pe.warn(`Auth (${F.SDK_VERSION}): ${w}`,...g)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function En(w){return(0,Y.m9)(w)}class Mo{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,Y.ne)(y=>this.observer=y)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ri(w,g,y){const C=En(w);de(C._canInitEmulator,C,"emulator-config-failed"),de(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const k=!!y?.disableWarnings,N=Il(g),{host:ee,port:pe}=function ci(w){const g=Il(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const C=y[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(C);if(k){const N=k[1];return{host:N,port:Wt(C.substr(N.length+1))}}{const[N,ee]=C.split(":");return{host:N,port:Wt(ee)}}}(g);C.config.emulator={url:`${N}//${ee}${null===pe?"":`:${pe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ee,port:pe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function Sc(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Il(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Wt(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class os{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return rt("not implemented")}_getIdTokenResponse(g){return rt("not implemented")}_linkToIdToken(g,y){return rt("not implemented")}_getReauthenticationResolver(g){return rt("not implemented")}}function oo(w,g){return as.apply(this,arguments)}function as(){return(as=(0,s.Z)(function*(w,g){return ke(w,"POST","/v1/accounts:resetPassword",re(w,g))})).apply(this,arguments)}function ui(w,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(w,g){return ke(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Kr(){return(Kr=(0,s.Z)(function*(w,g){return ke(w,"POST","/v1/accounts:update",re(w,g))})).apply(this,arguments)}function ao(w,g){return di.apply(this,arguments)}function di(){return(di=(0,s.Z)(function*(w,g){return mn(w,"POST","/v1/accounts:signInWithPassword",re(w,g))})).apply(this,arguments)}function On(w,g){return ls.apply(this,arguments)}function ls(){return(ls=(0,s.Z)(function*(w,g){return ke(w,"POST","/v1/accounts:sendOobCode",re(w,g))})).apply(this,arguments)}function Ml(){return(Ml=(0,s.Z)(function*(w,g){return On(w,g)})).apply(this,arguments)}function Ha(w,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,s.Z)(function*(w,g){return On(w,g)})).apply(this,arguments)}function Qr(w,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,s.Z)(function*(w,g){return On(w,g)})).apply(this,arguments)}function Tr(){return(Tr=(0,s.Z)(function*(w,g){return On(w,g)})).apply(this,arguments)}function ca(){return(ca=(0,s.Z)(function*(w,g){return mn(w,"POST","/v1/accounts:signInWithEmailLink",re(w,g))})).apply(this,arguments)}function kl(){return(kl=(0,s.Z)(function*(w,g){return mn(w,"POST","/v1/accounts:signInWithEmailLink",re(w,g))})).apply(this,arguments)}class Ar extends os{constructor(g,y,C,k=null){super("password",C),this._email=g,this._password=y,this._tenantId=k}static _fromEmailAndPassword(g,y){return new Ar(g,y,"password")}static _fromEmailAndCode(g,y,C=null){return new Ar(g,y,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,s.Z)(function*(){var C;switch(y.signInMethod){case"password":const k={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=g._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const N=yield Hi(g,k,"signInWithPassword");return ao(g,N)}return ao(g,k).catch(function(){var N=(0,s.Z)(function*(ee){if("auth/missing-recaptcha-token"===ee.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pe=yield Hi(g,k,"signInWithPassword");return ao(g,pe)}return Promise.reject(ee)});return function(ee){return N.apply(this,arguments)}}());case"emailLink":return function cs(w,g){return ca.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Ae(g,"internal-error")}})()}_linkToIdToken(g,y){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return ui(g,{idToken:y,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Tc(w,g){return kl.apply(this,arguments)}(g,{idToken:y,email:C._email,oobCode:C._password});default:Ae(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ro(w,g){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,s.Z)(function*(w,g){return mn(w,"POST","/v1/accounts:signInWithIdp",re(w,g))})).apply(this,arguments)}class zs extends os{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new zs(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Ae("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:k}=y,N=(0,oe._T)(y,["providerId","signInMethod"]);if(!C||!k)return null;const ee=new zs(C,k);return ee.idToken=N.idToken||void 0,ee.accessToken=N.accessToken||void 0,ee.secret=N.secret,ee.nonce=N.nonce,ee.pendingToken=N.pendingToken||null,ee}_getIdTokenResponse(g){return Ro(g,this.buildRequest())}_linkToIdToken(g,y){const C=this.buildRequest();return C.idToken=y,Ro(g,C)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Ro(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,Y.xO)(y)}return g}}function Uu(){return(Uu=(0,s.Z)(function*(w,g){return ke(w,"POST","/v1/accounts:sendVerificationCode",re(w,g))})).apply(this,arguments)}function Ol(){return(Ol=(0,s.Z)(function*(w,g){return mn(w,"POST","/v1/accounts:signInWithPhoneNumber",re(w,g))})).apply(this,arguments)}function gh(){return(gh=(0,s.Z)(function*(w,g){const y=yield mn(w,"POST","/v1/accounts:signInWithPhoneNumber",re(w,g));if(y.temporaryProof)throw bn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const _h={USER_NOT_FOUND:"user-not-found"};function Pl(){return(Pl=(0,s.Z)(function*(w,g){return mn(w,"POST","/v1/accounts:signInWithPhoneNumber",re(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),_h)})).apply(this,arguments)}class Oo extends os{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Oo({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Oo({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function Dp(w,g){return Ol.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function Qg(w,g){return gh.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function yh(w,g){return Pl.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:C,verificationCode:k}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:C,code:k}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:C,phoneNumber:k,temporaryProof:N}=g;return C||y||k||N?new Oo({verificationId:y,verificationCode:C,phoneNumber:k,temporaryProof:N}):null}}class Ga{constructor(g){var y,C,k,N,ee,pe;const We=(0,Y.zd)((0,Y.pd)(g)),nt=null!==(y=We.apiKey)&&void 0!==y?y:null,xt=null!==(C=We.oobCode)&&void 0!==C?C:null,nn=function hr(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=We.mode)&&void 0!==k?k:null);de(nt&&xt&&nn,"argument-error"),this.apiKey=nt,this.operation=nn,this.code=xt,this.continueUrl=null!==(N=We.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(ee=We.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(pe=We.tenantId)&&void 0!==pe?pe:null}static parseLink(g){const y=function Sp(w){const g=(0,Y.zd)((0,Y.pd)(w)).link,y=g?(0,Y.zd)((0,Y.pd)(g)).deep_link_id:null,C=(0,Y.zd)((0,Y.pd)(w)).deep_link_id;return(C?(0,Y.zd)((0,Y.pd)(C)).link:null)||C||y||g||w}(g);try{return new Ga(y)}catch{return null}}}let vh=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,C){return Ar._fromEmailAndPassword(y,C)}static credentialWithLink(y,C){const k=Ga.parseLink(C);return de(k,"argument-error"),Ar._fromEmailAndCode(y,k.code,k.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class fr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class us extends fr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class lo extends us{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return de("providerId"in y&&"signInMethod"in y,"argument-error"),zs._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return de(g.idToken||g.accessToken,"argument-error"),zs._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return lo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return lo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:C,oauthTokenSecret:k,pendingToken:N,nonce:ee,providerId:pe}=g;if(!C&&!k&&!y&&!N||!pe)return null;try{return new lo(pe)._credential({idToken:y,accessToken:C,nonce:ee,pendingToken:N})}catch{return null}}}let bh=(()=>{class w extends us{constructor(){super("facebook.com")}static credential(y){return zs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),wh=(()=>{class w extends us{constructor(){super("google.com"),this.addScope("profile")}static credential(y,C){return zs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:C})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:k}=y;if(!C&&!k)return null;try{return w.credential(C,k)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Ac=(()=>{class w extends us{constructor(){super("github.com")}static credential(y){return zs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Po extends os{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return Ro(g,this.buildRequest())}_linkToIdToken(g,y){const C=this.buildRequest();return C.idToken=y,Ro(g,C)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Ro(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:k,pendingToken:N}=y;return C&&k&&N&&C===k?new Po(C,N):null}static _create(g,y){return new Po(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ic extends fr{constructor(g){de(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ic.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ic.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Po.fromJSON(g);return de(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:C}=g;if(!y||!C)return null;try{return Po._create(C,y)}catch{return null}}}let xh=(()=>{class w extends us{constructor(){super("twitter.com")}static credential(y,C){return zs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:C})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:C,oauthTokenSecret:k}=y;if(!C||!k)return null;try{return w.credential(C,k)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ja(w,g){return ua.apply(this,arguments)}function ua(){return(ua=(0,s.Z)(function*(w,g){return mn(w,"POST","/v1/accounts:signUp",re(w,g))})).apply(this,arguments)}class Qn{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,C,k=!1){return(0,s.Z)(function*(){const N=yield Kn._fromIdTokenResponse(g,C,k),ee=Fl(C);return new Qn({user:N,providerId:ee,_tokenResponse:C,operationType:y})})()}static _forOperation(g,y,C){return(0,s.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const k=Fl(C);return new Qn({user:g,providerId:k,_tokenResponse:C,operationType:y})})()}}function Fl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Mc(w){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(w){var g;const y=En(w);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new Qn({user:y.currentUser,providerId:null,operationType:"signIn"});const C=yield ja(y,{returnSecureToken:!0}),k=yield Qn._fromIdTokenResponse(y,"signIn",C,!0);return yield y._updateCurrentUser(k.user),k})).apply(this,arguments)}class da extends Y.ZR{constructor(g,y,C,k){var N;super(y.code,y.message),this.operationType=C,this.user=k,Object.setPrototypeOf(this,da.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:y.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,y,C,k){return new da(g,y,C,k)}}function ha(w,g,y,C){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?da._fromErrorAndOperation(w,N,g,C):N})}function Ji(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function Ip(w,g){return kc.apply(this,arguments)}function kc(){return kc=(0,s.Z)(function*(w,g){const y=(0,Y.m9)(w);yield Nl(!0,y,g);const{providerUserInfo:C}=yield function Zn(w,g){return vi.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),k=Ji(C||[]);return y.providerData=y.providerData.filter(N=>k.has(N.providerId)),k.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),kc.apply(this,arguments)}function Ir(w,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,s.Z)(function*(w,g,y=!1){const C=yield Qt(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return Qn._forOperation(w,"link",C)})).apply(this,arguments)}function Nl(w,g,y){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,s.Z)(function*(w,g,y){yield Wn(g);const k=!1===w?"provider-already-linked":"no-such-provider";de(Ji(g.providerData).has(y)===w,g.auth,k)})).apply(this,arguments)}function Ch(w,g){return co.apply(this,arguments)}function co(){return(co=(0,s.Z)(function*(w,g,y=!1){const{auth:C}=w,k="reauthenticate";try{const N=yield Qt(w,ha(C,k,g,w),y);de(N.idToken,C,"internal-error");const ee=Cr(N.idToken);de(ee,C,"internal-error");const{sub:pe}=ee;return de(w.uid===pe,C,"user-mismatch"),Qn._forOperation(w,k,N)}catch(N){throw"auth/user-not-found"===N?.code&&Ae(C,"user-mismatch"),N}})).apply(this,arguments)}function Ll(w,g){return za.apply(this,arguments)}function za(){return(za=(0,s.Z)(function*(w,g,y=!1){const C="signIn",k=yield ha(w,C,g),N=yield Qn._fromIdTokenResponse(w,C,k);return y||(yield w._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Ut(w,g){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,s.Z)(function*(w,g){return Ll(En(w),g)})).apply(this,arguments)}function Mp(w,g){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,s.Z)(function*(w,g){const y=(0,Y.m9)(w);return yield Nl(!1,y,g.providerId),Ir(y,g)})).apply(this,arguments)}function ju(w,g){return zu.apply(this,arguments)}function zu(){return(zu=(0,s.Z)(function*(w,g){return Ch((0,Y.m9)(w),g)})).apply(this,arguments)}function Dh(){return(Dh=(0,s.Z)(function*(w,g){return mn(w,"POST","/v1/accounts:signInWithCustomToken",re(w,g))})).apply(this,arguments)}function Jg(w,g){return ye.apply(this,arguments)}function ye(){return ye=(0,s.Z)(function*(w,g){const y=En(w),C=yield function Eh(w,g){return Dh.apply(this,arguments)}(y,{token:g,returnSecureToken:!0}),k=yield Qn._fromIdTokenResponse(y,"signIn",C);return yield y._updateCurrentUser(k.user),k}),ye.apply(this,arguments)}class zt{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?qu._fromServerResponse(g,y):"totpInfo"in y?Bl._fromServerResponse(g,y):Ae(g,"internal-error")}}class qu extends zt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new qu(y)}}class Bl extends zt{constructor(g){super("totp",g)}static _fromServerResponse(g,y){return new Bl(y)}}function hi(w,g,y){var C;de((null===(C=y.url)||void 0===C?void 0:C.length)>0,w,"invalid-continue-uri"),de(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(de(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(de(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Sh(w,g,y){return qa.apply(this,arguments)}function qa(){return qa=(0,s.Z)(function*(w,g,y){var C;const k=En(w),N={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ee=yield Hi(k,N,"getOobCode",!0);y&&hi(k,ee,y),yield Ha(k,ee)}else y&&hi(k,N,y),yield Ha(k,N).catch(function(){var ee=(0,s.Z)(function*(pe){if("auth/missing-recaptcha-token"!==pe.code)return Promise.reject(pe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const We=yield Hi(k,N,"getOobCode",!0);y&&hi(k,We,y),yield Ha(k,We)}});return function(pe){return ee.apply(this,arguments)}}())}),qa.apply(this,arguments)}function ds(w,g,y){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,s.Z)(function*(w,g,y){yield oo((0,Y.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function Th(w,g){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,s.Z)(function*(w,g){yield function la(w,g){return Kr.apply(this,arguments)}((0,Y.m9)(w),{oobCode:g})}),Ah.apply(this,arguments)}function No(w,g){return $a.apply(this,arguments)}function $a(){return($a=(0,s.Z)(function*(w,g){const y=(0,Y.m9)(w),C=yield oo(y,{oobCode:g}),k=C.requestType;switch(de(k,y,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(C.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(C.mfaInfo,y,"internal-error");default:de(C.email,y,"internal-error")}let N=null;return C.mfaInfo&&(N=zt._fromServerResponse(En(y),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:k}})).apply(this,arguments)}function Xi(w,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,s.Z)(function*(w,g){const{data:y}=yield No((0,Y.m9)(w),g);return y.email})).apply(this,arguments)}function Lo(w,g,y){return uo.apply(this,arguments)}function uo(){return uo=(0,s.Z)(function*(w,g,y){var C;const k=En(w),N={returnSecureToken:!0,email:g,password:y,clientType:"CLIENT_TYPE_WEB"};let ee;if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const nt=yield Hi(k,N,"signUpPassword");ee=ja(k,nt)}else ee=ja(k,N).catch(function(){var nt=(0,s.Z)(function*(xt){if("auth/missing-recaptcha-token"===xt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const nn=yield Hi(k,N,"signUpPassword");return ja(k,nn)}return Promise.reject(xt)});return function(xt){return nt.apply(this,arguments)}}());const pe=yield ee.catch(nt=>Promise.reject(nt)),We=yield Qn._fromIdTokenResponse(k,"signIn",pe);return yield k._updateCurrentUser(We.user),We}),uo.apply(this,arguments)}function qs(w,g,y){return Ut((0,Y.m9)(w),vh.credential(g,y))}function Ih(w,g,y){return fa.apply(this,arguments)}function fa(){return fa=(0,s.Z)(function*(w,g,y){var C;const k=En(w),N={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function ee(pe,We){de(We.handleCodeInApp,k,"argument-error"),We&&hi(k,pe,We)}if(null!==(C=k._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const pe=yield Hi(k,N,"getOobCode",!0);ee(pe,y),yield Qr(k,pe)}else ee(N,y),yield Qr(k,N).catch(function(){var pe=(0,s.Z)(function*(We){if("auth/missing-recaptcha-token"!==We.code)return Promise.reject(We);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nt=yield Hi(k,N,"getOobCode",!0);ee(nt,y),yield Qr(k,nt)}});return function(We){return pe.apply(this,arguments)}}())}),fa.apply(this,arguments)}function Mh(w,g){return"EMAIL_SIGNIN"===Ga.parseLink(g)?.operation}function Xg(w,g,y){return fi.apply(this,arguments)}function fi(){return(fi=(0,s.Z)(function*(w,g,y){const C=(0,Y.m9)(w),k=vh.credentialWithLink(g,y||ct());return de(k._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ut(C,k)})).apply(this,arguments)}function Vl(){return(Vl=(0,s.Z)(function*(w,g){return ke(w,"POST","/v1/accounts:createAuthUri",re(w,g))})).apply(this,arguments)}function kh(w,g){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,s.Z)(function*(w,g){const C={identifier:g,continueUri:Kt()?ct():"http://localhost"},{signinMethods:k}=yield function Pc(w,g){return Vl.apply(this,arguments)}((0,Y.m9)(w),C);return k||[]}),Fc.apply(this,arguments)}function Rh(w,g){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,s.Z)(function*(w,g){const y=(0,Y.m9)(w),k={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&hi(y.auth,k,g);const{email:N}=yield function Vu(w,g){return Ml.apply(this,arguments)}(y.auth,k);N!==w.email&&(yield w.reload())}),Ya.apply(this,arguments)}function $u(w,g,y){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,s.Z)(function*(w,g,y){const C=(0,Y.m9)(w),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&hi(C.auth,N,y);const{email:ee}=yield function mh(w,g){return Tr.apply(this,arguments)}(C.auth,N);ee!==w.email&&(yield w.reload())}),Ul.apply(this,arguments)}function Nc(){return(Nc=(0,s.Z)(function*(w,g){return ke(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Oh(w,g){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,s.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const C=(0,Y.m9)(w),N={idToken:yield C.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},ee=yield Qt(C,function Yu(w,g){return Nc.apply(this,arguments)}(C.auth,N));C.displayName=ee.displayName||null,C.photoURL=ee.photoUrl||null;const pe=C.providerData.find(({providerId:We})=>"password"===We);pe&&(pe.displayName=C.displayName,pe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ee)}),Zu.apply(this,arguments)}function Ph(w,g){return $s((0,Y.m9)(w),g,null)}function pr(w,g){return $s((0,Y.m9)(w),null,g)}function $s(w,g,y){return zn.apply(this,arguments)}function zn(){return(zn=(0,s.Z)(function*(w,g,y){const{auth:C}=w,N={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(N.email=g),y&&(N.password=y);const ee=yield Qt(w,ui(C,N));yield w._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class Za{constructor(g,y,C={}){this.isNewUser=g,this.providerId=y,this.profile=C}}class Lc extends Za{constructor(g,y,C,k){super(g,y,C),this.username=k}}class e_ extends Za{constructor(g,y){super(g,"facebook.com",y)}}class Fh extends Lc{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class t_ extends Za{constructor(g,y){super(g,"google.com",y)}}class Bc extends Lc{constructor(g,y,C){super(g,"twitter.com",y,C)}}function Ku(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Wu(w){var g,y;if(!w)return null;const{providerId:C}=w,k=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},N=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!C&&w?.idToken){const ee=null===(y=null===(g=Cr(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(ee)return new Za(N,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!C)return null;switch(C){case"facebook.com":return new e_(N,k);case"github.com":return new Fh(N,k);case"google.com":return new t_(N,k);case"twitter.com":return new Bc(N,k,w.screenName||null);case"custom":case"anonymous":return new Za(N,null);default:return new Za(N,C,k)}}(y)}class fo{constructor(g,y,C){this.type=g,this.credential=y,this.auth=C}static _fromIdtoken(g,y){return new fo("enroll",g,y)}static _fromMfaPendingCredential(g){return new fo("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,C;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return fo._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return fo._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Qu{constructor(g,y,C){this.session=g,this.hints=y,this.signInResolver=C}static _fromError(g,y){const C=En(g),k=y.customData._serverResponse,N=(k.mfaInfo||[]).map(pe=>zt._fromServerResponse(C,pe));de(k.mfaPendingCredential,C,"internal-error");const ee=fo._fromMfaPendingCredential(k.mfaPendingCredential);return new Qu(ee,N,function(){var pe=(0,s.Z)(function*(We){const nt=yield We._process(C,ee);delete k.mfaInfo,delete k.mfaPendingCredential;const xt=Object.assign(Object.assign({},k),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(y.operationType){case"signIn":const nn=yield Qn._fromIdTokenResponse(C,y.operationType,xt);return yield C._updateCurrentUser(nn.user),nn;case"reauthenticate":return de(y.user,C,"internal-error"),Qn._forOperation(y.user,y.operationType,xt);default:Ae(C,"internal-error")}});return function(We){return pe.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,s.Z)(function*(){return y.signInResolver(g)})()}}function Gl(w,g){var y;const C=(0,Y.m9)(w),k=g;return de(g.customData.operationType,C,"argument-error"),de(null===(y=k.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,C,"argument-error"),Qu._fromError(C,k)}class Qa{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(C=>zt._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new Qa(g)}getSession(){var g=this;return(0,s.Z)(function*(){return fo._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,y){var C=this;return(0,s.Z)(function*(){const k=g,N=yield C.getSession(),ee=yield Qt(C.user,k._process(C.user.auth,N,y));return yield C.user._updateTokensIfNecessary(ee),C.user.reload()})()}unenroll(g){var y=this;return(0,s.Z)(function*(){const C="string"==typeof g?g:g.uid,k=yield y.user.getIdToken();try{const N=yield Qt(y.user,function pa(w,g){return ke(w,"POST","/v2/accounts/mfaEnrollment:withdraw",re(w,g))}(y.user.auth,{idToken:k,mfaEnrollmentId:C}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ee})=>ee!==C),yield y.user._updateTokensIfNecessary(N),yield y.user.reload()}catch(N){throw N}})()}}const ma=new WeakMap;function Ja(w){const g=(0,Y.m9)(w);return ma.has(g)||ma.set(g,Qa._fromUser(g)),ma.get(g)}const jl="__sak";class zl{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(jl,"1"),this.storage.removeItem(jl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gc=(()=>{class w extends zl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,C)=>this.onStorageEvent(y,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ju(){const w=(0,Y.z$)();return V(w)||Tt(w)}()&&function Vi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const C of Object.keys(this.listeners)){const k=this.storage.getItem(C),N=this.localCache[C];k!==N&&y(C,N,k)}}onStorageEvent(y,C=!1){if(!y.key)return void this.forAllChangedKeys((pe,We,nt)=>{this.notifyListeners(pe,nt)});const k=y.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(k);if(y.newValue!==pe)null!==y.newValue?this.storage.setItem(k,y.newValue):this.storage.removeItem(k);else if(this.localCache[k]===y.newValue&&!C)return}const N=()=>{const pe=this.storage.getItem(k);!C&&this.localCache[k]===pe||this.notifyListeners(k,pe)},ee=this.storage.getItem(k);!function Ln(){return(0,Y.w1)()&&10===document.documentMode}()||ee===y.newValue||y.newValue===y.oldValue?N():setTimeout(N,10)}notifyListeners(y,C){this.localCache[y]=C;const k=this.listeners[y];if(k)for(const N of Array.from(k))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,C,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:C,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,C){var k=()=>super._set,N=this;return(0,s.Z)(function*(){yield k().call(N,y,C),N.localCache[y]=JSON.stringify(C)})()}_get(y){var C=()=>super._get,k=this;return(0,s.Z)(function*(){const N=yield C().call(k,y);return k.localCache[y]=JSON.stringify(N),N})()}_remove(y){var C=()=>super._remove,k=this;return(0,s.Z)(function*(){yield C().call(k,y),delete k.localCache[y]})()}}return w.type="LOCAL",w})(),Mr=(()=>{class w extends zl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,C){}_removeListener(y,C){}}return w.type="SESSION",w})();let td=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const C=this.receivers.find(N=>N.isListeningto(y));if(C)return C;const k=new w(y);return this.receivers.push(k),k}isListeningto(y){return this.eventTarget===y}handleEvent(y){var C=this;return(0,s.Z)(function*(){const k=y,{eventId:N,eventType:ee,data:pe}=k.data,We=C.handlersMap[ee];if(!We?.size)return;k.ports[0].postMessage({status:"ack",eventId:N,eventType:ee});const nt=Array.from(We).map(function(){var nn=(0,s.Z)(function*(ms){return ms(k.origin,pe)});return function(ms){return nn.apply(this,arguments)}}()),xt=yield function Uh(w){return Promise.all(w.map(function(){var g=(0,s.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(C){return{fulfilled:!1,reason:C}}});return function(y){return g.apply(this,arguments)}}()))}(nt);k.ports[0].postMessage({status:"done",eventId:N,eventType:ee,response:xt})})()}_subscribe(y,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(C)}_unsubscribe(y,C){this.handlersMap[y]&&C&&this.handlersMap[y].delete(C),(!C||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Ys(w="",g=10){let y="";for(let C=0;C<g;C++)y+=Math.floor(10*Math.random());return w+y}class Hh{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,C=50){var k=this;return(0,s.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let ee,pe;return new Promise((We,nt)=>{const xt=Ys("",20);N.port1.start();const nn=setTimeout(()=>{nt(new Error("unsupported_event"))},C);pe={messageChannel:N,onMessage(ms){const sl=ms;if(sl.data.eventId===xt)switch(sl.data.status){case"ack":clearTimeout(nn),ee=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),We(sl.data.response);break;default:clearTimeout(nn),clearTimeout(ee),nt(new Error("invalid_response"))}}},k.handlers.add(pe),N.port1.addEventListener("message",pe.onMessage),k.target.postMessage({eventType:g,eventId:xt,data:y},[N.port2])}).finally(()=>{pe&&k.removeMessageHandler(pe)})})()}}function pi(){return window}function jc(){return typeof pi().WorkerGlobalScope<"u"&&"function"==typeof pi().importScripts}function $l(){return($l=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Si="firebaseLocalStorageDb",Xa=1,Jn="firebaseLocalStorage",Op="fbase_key";class Uo{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function qc(w,g){return w.transaction([Jn],g?"readwrite":"readonly").objectStore(Jn)}function nd(){const w=indexedDB.open(Si,Xa);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(Jn,{keyPath:Op})}catch(k){y(k)}}),w.addEventListener("success",(0,s.Z)(function*(){const C=w.result;C.objectStoreNames.contains(Jn)?g(C):(C.close(),yield function el(){const w=indexedDB.deleteDatabase(Si);return new Uo(w).toPromise()}(),g(yield nd()))}))})}function id(w,g,y){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,s.Z)(function*(w,g,y){const C=qc(w,!0).put({[Op]:g,value:y});return new Uo(C).toPromise()})).apply(this,arguments)}function ga(){return(ga=(0,s.Z)(function*(w,g){const y=qc(w,!1).get(g),C=yield new Uo(y).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Yl(w,g){const y=qc(w,!0).delete(g);return new Uo(y).toPromise()}const rd=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,s.Z)(function*(){return y.db||(y.db=yield nd()),y.db})()}_withRetries(y){var C=this;return(0,s.Z)(function*(){let k=0;for(;;)try{const N=yield C._openDb();return yield y(N)}catch(N){if(k++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,s.Z)(function*(){return jc()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,s.Z)(function*(){y.receiver=td._getInstance(function zc(){return jc()?self:null}()),y.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(k,N){return{keyProcessed:(yield y._poll()).includes(N.key)}});return function(k,N){return C.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(k,N){return["keyChanged"]});return function(k,N){return C.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,s.Z)(function*(){var C,k;if(y.activeServiceWorker=yield function Gh(){return $l.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Hh(y.activeServiceWorker);const N=yield y.sender._send("ping",{},800);N&&null!==(C=N[0])&&void 0!==C&&C.fulfilled&&null!==(k=N[0])&&void 0!==k&&k.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function jh(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:y},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const y=yield nd();return yield id(y,jl,"1"),yield Yl(y,jl),!0}catch{}return!1})()}_withPendingWrite(y){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield y()}finally{C.pendingWrites--}})()}_set(y,C){var k=this;return(0,s.Z)(function*(){return k._withPendingWrite((0,s.Z)(function*(){return yield k._withRetries(N=>id(N,y,C)),k.localCache[y]=C,k.notifyServiceWorker(y)}))})()}_get(y){var C=this;return(0,s.Z)(function*(){const k=yield C._withRetries(N=>function Pp(w,g){return ga.apply(this,arguments)}(N,y));return C.localCache[y]=k,k})()}_remove(y){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(k=>Yl(k,y)),delete C.localCache[y],C.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,s.Z)(function*(){const C=yield y._withRetries(ee=>{const pe=qc(ee,!1).getAll();return new Uo(pe).toPromise()});if(!C)return[];if(0!==y.pendingWrites)return[];const k=[],N=new Set;for(const{fbase_key:ee,value:pe}of C)N.add(ee),JSON.stringify(y.localCache[ee])!==JSON.stringify(pe)&&(y.notifyListeners(ee,pe),k.push(ee));for(const ee of Object.keys(y.localCache))y.localCache[ee]&&!N.has(ee)&&(y.notifyListeners(ee,null),k.push(ee));return k})()}notifyListeners(y,C){this.localCache[y]=C;const k=this.listeners[y];if(k)for(const N of Array.from(k))N(C)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),sd=1e12;class $h{constructor(g){this.auth=g,this.counter=sd,this._widgets=new Map}render(g,y){const C=this.counter;return this._widgets.set(C,new od(g,this.auth.name,y||{})),this.counter++,C}reset(g){var y;const C=g||sd;null===(y=this._widgets.get(C))||void 0===y||y.delete(),this._widgets.delete(C)}getResponse(g){var y;return(null===(y=this._widgets.get(g||sd))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,s.Z)(function*(){var C;return null===(C=y._widgets.get(g||sd))||void 0===C||C.execute(),""})()}}class od{constructor(g,y,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof g?document.getElementById(g):g;de(k,"argument-error",{appName:y}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ad(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<w;C++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Np=dr("rcb"),zv=new Br(3e4,6e4);class ba{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=pi().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return de(function $v(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)&&Ot(pi().grecaptcha)?Promise.resolve(pi().grecaptcha):new Promise((C,k)=>{const N=pi().setTimeout(()=>{k(Te(g,"network-request-failed"))},zv.get());pi()[Np]=()=>{pi().clearTimeout(N),delete pi()[Np];const pe=pi().grecaptcha;if(!pe||!Ot(pe))return void k(Te(g,"internal-error"));const We=pe.render;pe.render=(nt,xt)=>{const nn=We(nt,xt);return this.counter++,nn},this.hostLanguage=y,C(pe)},un(`https://www.google.com/recaptcha/api.js??${(0,Y.xO)({onload:Np,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(N),k(Te(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=pi().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lp{load(g){return(0,s.Z)(function*(){return new $h(g)})()}clearedOneInstance(){}}const Ti="recaptcha",Yc={theme:"light",type:"image"};class Zc{constructor(g,y=Object.assign({},Yc),C){this.parameters=y,this.type=Ti,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=En(C),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof g?document.getElementById(g):g;de(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lp:new ba,this.validateStartingState()}verify(){var g=this;return(0,s.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(y)||new Promise(N=>{const ee=pe=>{pe&&(g.tokenChangeListeners.delete(ee),N(pe))};g.tokenChangeListeners.add(ee),g.isInvisible&&C.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(C=>C(y)),"function"==typeof g)g(y);else if("string"==typeof g){const C=pi()[g];"function"==typeof C&&C(y)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,s.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const C=document.createElement("div");y.appendChild(C),y=C}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,s.Z)(function*(){de(Kt()&&!jc(),g.auth,"internal-error"),yield function ld(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function _e(w){return ae.apply(this,arguments)}(g.auth);de(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Jr{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Oo._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Go(w,g,y){return cd.apply(this,arguments)}function cd(){return(cd=(0,s.Z)(function*(w,g,y){const C=En(w),k=yield Wl(C,g,(0,Y.m9)(y));return new Jr(k,N=>Ut(C,N))})).apply(this,arguments)}function Zl(w,g,y){return tl.apply(this,arguments)}function tl(){return(tl=(0,s.Z)(function*(w,g,y){const C=(0,Y.m9)(w);yield Nl(!1,C,"phone");const k=yield Wl(C.auth,g,(0,Y.m9)(y));return new Jr(k,N=>Mp(C,N))})).apply(this,arguments)}function Yh(w,g,y){return jo.apply(this,arguments)}function jo(){return(jo=(0,s.Z)(function*(w,g,y){const C=(0,Y.m9)(w),k=yield Wl(C.auth,g,(0,Y.m9)(y));return new Jr(k,N=>ju(C,N))})).apply(this,arguments)}function Wl(w,g,y){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,s.Z)(function*(w,g,y){var C;const k=yield y.verify();try{let N;if(de("string"==typeof k,w,"argument-error"),de(y.type===Ti,w,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const ee=N.session;if("phoneNumber"in N)return de("enroll"===ee.type,w,"internal-error"),(yield function Hc(w,g){return ke(w,"POST","/v2/accounts/mfaEnrollment:start",re(w,g))}(w,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{de("signin"===ee.type,w,"internal-error");const pe=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return de(pe,w,"missing-multi-factor-info"),(yield function zh(w,g){return ke(w,"POST","/v2/accounts/mfaSignIn:start",re(w,g))}(w,{mfaPendingCredential:ee.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield function Kg(w,g){return Uu.apply(this,arguments)}(w,{phoneNumber:N.phoneNumber,recaptchaToken:k});return ee}}finally{y._reset()}}),Wc.apply(this,arguments)}function hs(w,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,s.Z)(function*(w,g){yield Ir((0,Y.m9)(w),g)})).apply(this,arguments)}let nl=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=En(y)}verifyPhoneNumber(y,C){return Wl(this.auth,y,(0,Y.m9)(C))}static credential(y,C){return Oo._fromVerification(y,C)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:C,temporaryProof:k}=y;return C&&k?Oo._fromTokenResponse(C,k):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function zo(w,g){return g?li(g):(de(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Kc extends os{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ro(g,this._buildIdpRequest())}_linkToIdToken(g,y){return Ro(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return Ro(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Pn(w){return Ll(w.auth,new Kc(w),w.bypassAuthState)}function Bp(w){const{auth:g,user:y}=w;return de(y,g,"internal-error"),Ch(y,new Kc(w),w.bypassAuthState)}function qo(w){return $o.apply(this,arguments)}function $o(){return($o=(0,s.Z)(function*(w){const{auth:g,user:y}=w;return de(y,g,"internal-error"),Ir(y,new Kc(w),w.bypassAuthState)})).apply(this,arguments)}class Vn{constructor(g,y,C,k,N=!1){this.auth=g,this.resolver=C,this.user=k,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,s.Z)(function*(C,k){g.pendingPromise={resolve:C,reject:k};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(C,k){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:k,postBody:N,tenantId:ee,error:pe,type:We}=g;if(pe)return void y.reject(pe);const nt={auth:y.auth,requestUri:C,sessionId:k,tenantId:ee||void 0,postBody:N||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(We)(nt))}catch(xt){y.reject(xt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Pn;case"linkViaPopup":case"linkViaRedirect":return qo;case"reauthViaPopup":case"reauthViaRedirect":return Bp;default:Ae(this.auth,"internal-error")}}resolve(g){Mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vp=new Br(2e3,1e4);function er(w,g,y){return po.apply(this,arguments)}function po(){return(po=(0,s.Z)(function*(w,g,y){const C=En(w);qe(w,g,fr);const k=zo(C,y);return new il(C,"signInViaPopup",g,k).executeNotNull()})).apply(this,arguments)}function Qc(w,g,y){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,s.Z)(function*(w,g,y){const C=(0,Y.m9)(w);qe(C.auth,g,fr);const k=zo(C.auth,y);return new il(C.auth,"reauthViaPopup",g,k,C).executeNotNull()})).apply(this,arguments)}function Zh(w,g,y){return kr.apply(this,arguments)}function kr(){return(kr=(0,s.Z)(function*(w,g,y){const C=(0,Y.m9)(w);qe(C.auth,g,fr);const k=zo(C.auth,y);return new il(C.auth,"linkViaPopup",g,k,C).executeNotNull()})).apply(this,arguments)}let il=(()=>{class w extends Vn{constructor(y,C,k,N,ee){super(y,C,N,ee),this.provider=k,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,s.Z)(function*(){const C=yield y.execute();return de(C,y.auth,"internal-error"),C})()}onExecution(){var y=this;return(0,s.Z)(function*(){Mt(1===y.filter.length,"Popup operations only handle one event");const C=Ys();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],C),y.authWindow.associatedEvent=C,y.resolver._originValidation(y.auth).catch(k=>{y.reject(k)}),y.resolver._isIframeWebStorageSupported(y.auth,k=>{k||y.reject(Te(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var C,k;this.pollId=null!==(k=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,Vp.get())};y()}}return w.currentPopupAction=null,w})();const Yo="pendingRedirect",fs=new Map;class xa extends Vn{constructor(g,y,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,s.Z)(function*(){let C=fs.get(y.auth._key());if(!C){try{const N=(yield function ud(w,g){return Kl.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;C=()=>Promise.resolve(N)}catch(k){C=()=>Promise.reject(k)}fs.set(y.auth._key(),C)}return y.bypassAuthState||fs.set(y.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(C,g);if("unknown"!==g.type){if(g.eventId){const k=yield C.auth._redirectUserForId(g.eventId);if(k)return C.user=k,y().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Kl(){return(Kl=(0,s.Z)(function*(w,g){const y=Ai(g),C=Ze(w);if(!(yield C._isAvailable()))return!1;const k="true"===(yield C._get(y));return yield C._remove(y),k})).apply(this,arguments)}function Jc(w,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,s.Z)(function*(w,g){return Ze(w)._set(Ai(g),"true")})).apply(this,arguments)}function Rr(){fs.clear()}function dd(w,g){fs.set(w._key(),g)}function Ze(w){return li(w._redirectPersistence)}function Ai(w){return Sr(Yo,w.config.apiKey,w.name)}function qn(w,g,y){return function $n(w,g,y){return Ss.apply(this,arguments)}(w,g,y)}function Ss(){return(Ss=(0,s.Z)(function*(w,g,y){const C=En(w);qe(w,g,fr),yield C._initializationPromise;const k=zo(C,y);return yield Jc(k,C),k._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function hd(w,g,y){return function Nt(w,g,y){return Dt.apply(this,arguments)}(w,g,y)}function Dt(){return(Dt=(0,s.Z)(function*(w,g,y){const C=(0,Y.m9)(w);qe(C.auth,g,fr),yield C.auth._initializationPromise;const k=zo(C.auth,y);yield Jc(k,C.auth);const N=yield Kh(C);return k._openRedirect(C.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function Ts(w,g,y){return function Up(w,g,y){return Ca.apply(this,arguments)}(w,g,y)}function Ca(){return(Ca=(0,s.Z)(function*(w,g,y){const C=(0,Y.m9)(w);qe(C.auth,g,fr),yield C.auth._initializationPromise;const k=zo(C.auth,y);yield Nl(!1,C,g.providerId),yield Jc(k,C.auth);const N=yield Kh(C);return k._openRedirect(C.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function Ii(w,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,s.Z)(function*(w,g){return yield En(w)._initializationPromise,Wh(w,g,!1)})).apply(this,arguments)}function Wh(w,g){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,s.Z)(function*(w,g,y=!1){const C=En(w),k=zo(C,g),ee=yield new xa(C,k,y).execute();return ee&&!y&&(delete ee.user._redirectEventId,yield C._persistUserIfCurrent(ee.user),yield C._setRedirectUser(null,g)),ee})).apply(this,arguments)}function Kh(w){return Or.apply(this,arguments)}function Or(){return(Or=(0,s.Z)(function*(w){const g=Ys(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class mr{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(y=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function In(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eu(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var C;if(g.error&&!eu(g)){const k=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";y.onError(Te(this.auth,k))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const C=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ea(g))}saveEventToCache(g){this.cachedEventUids.add(Ea(g)),this.lastProcessedEventTime=Date.now()}}function Ea(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function eu({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function zi(w){return i_.apply(this,arguments)}function i_(){return(i_=(0,s.Z)(function*(w,g={}){return ke(w,"GET","/v1/projects",g)})).apply(this,arguments)}const Xr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yv=/^https?/;function nu(){return(nu=(0,s.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield zi(w);for(const y of g)try{if(mo(y))return}catch{}Ae(w,"unauthorized-domain")})).apply(this,arguments)}function mo(w){const g=ct(),{protocol:y,hostname:C}=new URL(g);if(w.startsWith("chrome-extension://")){const ee=new URL(w);return""===ee.hostname&&""===C?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&ee.hostname===C}if(!Yv.test(y))return!1;if(Xr.test(w))return C===w;const k=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(C)}const Qh=new Br(3e4,6e4);function iu(){const w=pi().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Is=null;const pn=new Br(5e3,15e3),Zo="__/auth/iframe",Ql="emulator/auth/iframe",pd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gp(w){const g=w.config;de(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?Gs(g,Ql):`https://${w.config.authDomain}/${Zo}`,C={apiKey:g.apiKey,appName:w.name,v:F.SDK_VERSION},k=Hp.get(w.config.apiHost);k&&(C.eid=k);const N=w._getFrameworks();return N.length&&(C.fw=N.join(",")),`${y}?${(0,Y.xO)(C).slice(1)}`}function x(){return x=(0,s.Z)(function*(w){const g=yield function fd(w){return Is=Is||function Hr(w){return new Promise((g,y)=>{var C,k,N;function ee(){iu(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{iu(),y(Te(w,"network-request-failed"))},timeout:Qh.get()})}if(null!==(k=null===(C=pi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==k&&k.Iframe)g(gapi.iframes.getContext());else{if(null===(N=pi().gapi)||void 0===N||!N.load){const pe=dr("iframefcb");return pi()[pe]=()=>{gapi.load?ee():y(Te(w,"network-request-failed"))},un(`https://apis.google.com/js/api.js?onload=${pe}`).catch(We=>y(We))}ee()}}).catch(g=>{throw Is=null,g})}(w),Is}(w),y=pi().gapi;return de(y,w,"internal-error"),g.open({where:document.body,url:Gp(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pd,dontclear:!0},C=>new Promise(function(){var k=(0,s.Z)(function*(N,ee){yield C.restyle({setHideOnLeave:!1});const pe=Te(w,"network-request-failed"),We=pi().setTimeout(()=>{ee(pe)},pn.get());function nt(){pi().clearTimeout(We),N(C)}C.ping(nt).then(nt,()=>{ee(pe)})});return function(N,ee){return k.apply(this,arguments)}}()))}),x.apply(this,arguments)}const S={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I=500,U=600,j="_blank",ie="http://localhost";class ue{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const dt="__/auth/handler",Gt="emulator/auth/handler",jt=encodeURIComponent("fac");function Gr(w,g,y,C,k,N){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,s.Z)(function*(w,g,y,C,k,N){de(w.config.authDomain,w,"auth-domain-config-required"),de(w.config.apiKey,w,"invalid-api-key");const ee={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:C,v:F.SDK_VERSION,eventId:k};if(g instanceof fr){g.setDefaultLanguage(w.languageCode),ee.providerId=g.providerId||"",(0,Y.xb)(g.getCustomParameters())||(ee.customParameters=JSON.stringify(g.getCustomParameters()));for(const[xt,nn]of Object.entries(N||{}))ee[xt]=nn}if(g instanceof us){const xt=g.getScopes().filter(nn=>""!==nn);xt.length>0&&(ee.scopes=xt.join(","))}w.tenantId&&(ee.tid=w.tenantId);const pe=ee;for(const xt of Object.keys(pe))void 0===pe[xt]&&delete pe[xt];const We=yield w._getAppCheckToken(),nt=We?`#${jt}=${encodeURIComponent(We)}`:"";return`${function md({config:w}){return w.emulator?Gs(w,Gt):`https://${w.authDomain}/${dt}`}(w)}?${(0,Y.xO)(pe).slice(1)}${nt}`})).apply(this,arguments)}const Ws="webStorageSupport",ps=class go{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mr,this._completeRedirectFn=Wh,this._overrideRedirectResult=dd}_openPopup(g,y,C,k){var N=this;return(0,s.Z)(function*(){var ee;Mt(null===(ee=N.eventManagers[g._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const pe=yield Gr(g,y,C,ct(),k);return function Je(w,g,y,C=I,k=U){const N=Math.max((window.screen.availHeight-k)/2,0).toString(),ee=Math.max((window.screen.availWidth-C)/2,0).toString();let pe="";const We=Object.assign(Object.assign({},S),{width:C.toString(),height:k.toString(),top:N,left:ee}),nt=(0,Y.z$)().toLowerCase();y&&(pe=O(nt)?j:y),L(nt)&&(g=g||ie,We.scrollbars="yes");const xt=Object.entries(We).reduce((ms,[sl,zp])=>`${ms}${sl}=${zp},`,"");if(function Ft(w=(0,Y.z$)()){var g;return Tt(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(nt)&&"_self"!==pe)return function Qe(w,g){const y=document.createElement("a");y.href=w,y.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(C)}(g||"",pe),new ue(null);const nn=window.open(g||"",pe,xt);de(nn,w,"popup-blocked");try{nn.focus()}catch{}return new ue(nn)}(g,pe,Ys())})()}_openRedirect(g,y,C,k){var N=this;return(0,s.Z)(function*(){return yield N._originValidation(g),function Vo(w){pi().location.href=w}(yield Gr(g,y,C,ct(),k)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:k,promise:N}=this.eventManagers[y];return k?Promise.resolve(k):(Mt(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(g);return this.eventManagers[y]={promise:C},C.catch(()=>{delete this.eventManagers[y]}),C}initAndGetManager(g){var y=this;return(0,s.Z)(function*(){const C=yield function Jh(w){return x.apply(this,arguments)}(g),k=new mr(g);return C.register("authEvent",N=>(de(N?.authEvent,g,"invalid-auth-event"),{status:k.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:k},y.iframes[g._key()]=C,k})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Ws,{type:Ws},k=>{var N;const ee=null===(N=k?.[0])||void 0===N?void 0:N[Ws];void 0!==ee&&y(!!ee),Ae(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function tu(w){return nu.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Yt()||V()||Tt()}};class Ks{constructor(g){this.factorId=g}_process(g,y,C){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,C);case"signin":return this._finalizeSignIn(g,y.credential);default:return rt("unexpected MultiFactorSessionType")}}}class rl extends Ks{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new rl(g)}_finalizeEnroll(g,y,C){return function Ka(w,g){return ke(w,"POST","/v2/accounts/mfaEnrollment:finalize",re(w,g))}(g,{idToken:y,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function va(w,g){return ke(w,"POST","/v2/accounts/mfaSignIn:finalize",re(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zv=(()=>{class w{constructor(){}static assertion(y){return rl._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var jp="@firebase/auth";class _d{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,s.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(C=>{g(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);y&&(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Y.Pz)("authIdTokenMaxAge"),function o_(w){(0,F._registerComponent)(new te.wA("auth",(g,{options:y})=>{const C=g.getProvider("app").getImmediate(),k=g.getProvider("heartbeat"),N=g.getProvider("app-check-internal"),{apiKey:ee,authDomain:pe}=C.options;de(ee&&!ee.includes(":"),"invalid-api-key",{appName:C.name});const We={apiKey:ee,authDomain:pe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:so(w)},nt=new jn(C,k,N,We);return function Wr(w,g){const y=g?.persistence||[],C=(Array.isArray(y)?y:[y]).map(li);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(C,g?.popupRedirectResolver)}(nt,y),nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,C)=>{g.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new te.wA("auth-internal",g=>{const y=En(g.getProvider("auth").getImmediate());return new _d(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(jp,"0.23.2",function s_(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,F.registerVersion)(jp,"0.23.2","esm2017")}("Browser")},2090:(vt,Ie,G)=>{G.d(Ie,{$s:()=>li,BH:()=>Fe,DV:()=>vi,Dv:()=>Wn,G6:()=>Gs,GJ:()=>Gn,L:()=>Ce,LL:()=>He,Pz:()=>Te,Sg:()=>qe,UG:()=>rt,UI:()=>ti,US:()=>te,Wj:()=>Ei,Wl:()=>Et,Yr:()=>Br,ZB:()=>ne,ZR:()=>ke,aH:()=>Ae,b$:()=>Kt,cI:()=>mn,dS:()=>Zr,eu:()=>ge,g5:()=>F,gK:()=>Er,gQ:()=>gn,h$:()=>we,hl:()=>fe,hu:()=>Y,jU:()=>Mt,lb:()=>Jt,m9:()=>Sr,ne:()=>Qt,p$:()=>K,pd:()=>Cr,r3:()=>Zn,ru:()=>ct,tV:()=>Q,uI:()=>de,ug:()=>en,vZ:()=>gt,w1:()=>ro,w9:()=>yi,xO:()=>si,xb:()=>Yr,z$:()=>Ve,zI:()=>ve,zd:()=>cr});const s={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Y=function(Z,$){if(!Z)throw F($)},F=function(Z){return new Error("Firebase Database ("+s.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Z)},oe=function(Z){const $=[];let L=0;for(let V=0;V<Z.length;V++){let O=Z.charCodeAt(V);O<128?$[L++]=O:O<2048?($[L++]=O>>6|192,$[L++]=63&O|128):55296==(64512&O)&&V+1<Z.length&&56320==(64512&Z.charCodeAt(V+1))?(O=65536+((1023&O)<<10)+(1023&Z.charCodeAt(++V)),$[L++]=O>>18|240,$[L++]=O>>12&63|128,$[L++]=O>>6&63|128,$[L++]=63&O|128):($[L++]=O>>12|224,$[L++]=O>>6&63|128,$[L++]=63&O|128)}return $},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,$){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let O=0;O<Z.length;O+=3){const J=Z[O],De=O+1<Z.length,st=De?Z[O+1]:0,Rt=O+2<Z.length,Tt=Rt?Z[O+2]:0;let Ln=(15&st)<<2|Tt>>6,Yt=63&Tt;Rt||(Yt=64,De||(Ln=64)),V.push(L[J>>2],L[(3&J)<<4|st>>4],L[Ln],L[Yt])}return V.join("")},encodeString(Z,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(Z):this.encodeByteArray(oe(Z),$)},decodeString(Z,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(Z):function(Z){const $=[];let L=0,V=0;for(;L<Z.length;){const O=Z[L++];if(O<128)$[V++]=String.fromCharCode(O);else if(O>191&&O<224){const J=Z[L++];$[V++]=String.fromCharCode((31&O)<<6|63&J)}else if(O>239&&O<365){const Rt=((7&O)<<18|(63&Z[L++])<<12|(63&Z[L++])<<6|63&Z[L++])-65536;$[V++]=String.fromCharCode(55296+(Rt>>10)),$[V++]=String.fromCharCode(56320+(1023&Rt))}else{const J=Z[L++],De=Z[L++];$[V++]=String.fromCharCode((15&O)<<12|(63&J)<<6|63&De)}}return $.join("")}(this.decodeStringToByteArray(Z,$))},decodeStringToByteArray(Z,$){this.init_();const L=$?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let O=0;O<Z.length;){const J=L[Z.charAt(O++)],st=O<Z.length?L[Z.charAt(O)]:0;++O;const Tt=O<Z.length?L[Z.charAt(O)]:64;++O;const Ft=O<Z.length?L[Z.charAt(O)]:64;if(++O,null==J||null==st||null==Tt||null==Ft)throw new Se;V.push(J<<2|st>>4),64!==Tt&&(V.push(st<<4&240|Tt>>2),64!==Ft&&V.push(Tt<<6&192|Ft))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(Z){const $=oe(Z);return te.encodeByteArray($,!0)},Ce=function(Z){return we(Z).replace(/\./g,"")},Q=function(Z){try{return te.decodeString(Z,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function K(Z){return ne(void 0,Z)}function ne(Z,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return $}for(const L in $)!$.hasOwnProperty(L)||!ze(L)||(Z[L]=ne(Z[L],$[L]));return Z}function ze(Z){return"__proto__"!==Z}const Pe=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=Z&&Q(Z[1]);return $&&JSON.parse($)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},Ae=()=>{var Z;return null===(Z=Pe())||void 0===Z?void 0:Z.config},Te=Z=>{var $;return null===($=Pe())||void 0===$?void 0:$[`_${Z}`]};class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,L)=>{this.resolve=$,this.reject=L})}wrapCallback($){return(L,V)=>{L?this.reject(L):this.resolve(V),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(L):$(L,V))}}}function qe(Z,$){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=$||"demo-project",O=Z.iat||0,J=Z.sub||Z.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const De=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:O,exp:O+3600,auth_time:O,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(De)),""].join(".")}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function rt(){var Z;const $=null===(Z=Pe())||void 0===Z?void 0:Z.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mt(){return"object"==typeof self&&self.self===self}function ct(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ro(){const Z=Ve();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Br(){return!0===s.NODE_CLIENT||!0===s.NODE_ADMIN}function Gs(){return!rt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fe(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((Z,$)=>{try{let L=!0;const V="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(V);O.onsuccess=()=>{O.result.close(),L||self.indexedDB.deleteDatabase(V),Z(!0)},O.onupgradeneeded=()=>{L=!1},O.onerror=()=>{var J;$((null===(J=O.error)||void 0===J?void 0:J.message)||"")}}catch(L){$(L)}})}function ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ke extends Error{constructor($,L,V){super(L),this.code=$,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor($,L,V){this.service=$,this.serviceName=L,this.errors=V}create($,...L){const V=L[0]||{},O=`${this.service}/${$}`,J=this.errors[$],De=J?function ut(Z,$){return Z.replace(ht,(L,V)=>{const O=$[V];return null!=O?String(O):`<${V}?>`})}(J,V):"Error";return new ke(O,`${this.serviceName}: ${De} (${O}).`,V)}}const ht=/\{\$([^}]+)}/g;function mn(Z){return JSON.parse(Z)}function Et(Z){return JSON.stringify(Z)}const ln=function(Z){let $={},L={},V={},O="";try{const J=Z.split(".");$=mn(Q(J[0])||""),L=mn(Q(J[1])||""),O=J[2],V=L.d||{},delete L.d}catch{}return{header:$,claims:L,data:V,signature:O}},yi=function(Z){const L=ln(Z).claims;return!!L&&"object"==typeof L&&L.hasOwnProperty("iat")},Gn=function(Z){const $=ln(Z).claims;return"object"==typeof $&&!0===$.admin};function Zn(Z,$){return Object.prototype.hasOwnProperty.call(Z,$)}function vi(Z,$){if(Object.prototype.hasOwnProperty.call(Z,$))return Z[$]}function Yr(Z){for(const $ in Z)if(Object.prototype.hasOwnProperty.call(Z,$))return!1;return!0}function ti(Z,$,L){const V={};for(const O in Z)Object.prototype.hasOwnProperty.call(Z,O)&&(V[O]=$.call(L,Z[O],O,Z));return V}function gt(Z,$){if(Z===$)return!0;const L=Object.keys(Z),V=Object.keys($);for(const O of L){if(!V.includes(O))return!1;const J=Z[O],De=$[O];if(ni(J)&&ni(De)){if(!gt(J,De))return!1}else if(J!==De)return!1}for(const O of V)if(!L.includes(O))return!1;return!0}function ni(Z){return null!==Z&&"object"==typeof Z}function si(Z){const $=[];for(const[L,V]of Object.entries(Z))Array.isArray(V)?V.forEach(O=>{$.push(encodeURIComponent(L)+"="+encodeURIComponent(O))}):$.push(encodeURIComponent(L)+"="+encodeURIComponent(V));return $.length?"&"+$.join("&"):""}function cr(Z){const $={};return Z.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[O,J]=V.split("=");$[decodeURIComponent(O)]=decodeURIComponent(J)}}),$}function Cr(Z){const $=Z.indexOf("?");if(!$)return"";const L=Z.indexOf("#",$);return Z.substring($,L>0?L:void 0)}class gn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,L){L||(L=0);const V=this.W_;if("string"==typeof $)for(let Ft=0;Ft<16;Ft++)V[Ft]=$.charCodeAt(L)<<24|$.charCodeAt(L+1)<<16|$.charCodeAt(L+2)<<8|$.charCodeAt(L+3),L+=4;else for(let Ft=0;Ft<16;Ft++)V[Ft]=$[L]<<24|$[L+1]<<16|$[L+2]<<8|$[L+3],L+=4;for(let Ft=16;Ft<80;Ft++){const Ln=V[Ft-3]^V[Ft-8]^V[Ft-14]^V[Ft-16];V[Ft]=4294967295&(Ln<<1|Ln>>>31)}let Tt,Xt,O=this.chain_[0],J=this.chain_[1],De=this.chain_[2],st=this.chain_[3],Rt=this.chain_[4];for(let Ft=0;Ft<80;Ft++){Ft<40?Ft<20?(Tt=st^J&(De^st),Xt=1518500249):(Tt=J^De^st,Xt=1859775393):Ft<60?(Tt=J&De|st&(J|De),Xt=2400959708):(Tt=J^De^st,Xt=3395469782);const Ln=(O<<5|O>>>27)+Tt+Rt+Xt+V[Ft]&4294967295;Rt=st,st=De,De=4294967295&(J<<30|J>>>2),J=O,O=Ln}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+J&4294967295,this.chain_[2]=this.chain_[2]+De&4294967295,this.chain_[3]=this.chain_[3]+st&4294967295,this.chain_[4]=this.chain_[4]+Rt&4294967295}update($,L){if(null==$)return;void 0===L&&(L=$.length);const V=L-this.blockSize;let O=0;const J=this.buf_;let De=this.inbuf_;for(;O<L;){if(0===De)for(;O<=V;)this.compress_($,O),O+=this.blockSize;if("string"==typeof $){for(;O<L;)if(J[De]=$.charCodeAt(O),++De,++O,De===this.blockSize){this.compress_(J),De=0;break}}else for(;O<L;)if(J[De]=$[O],++De,++O,De===this.blockSize){this.compress_(J),De=0;break}}this.inbuf_=De,this.total_+=L}digest(){const $=[];let L=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&L,L/=256;this.compress_(this.buf_);let V=0;for(let O=0;O<5;O++)for(let J=24;J>=0;J-=8)$[V]=this.chain_[O]>>J&255,++V;return $}}function Qt(Z,$){const L=new pt(Z,$);return L.subscribe.bind(L)}class pt{constructor($,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{$(this)}).catch(V=>{this.error(V)})}next($){this.forEachObserver(L=>{L.next($)})}error($){this.forEachObserver(L=>{L.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,L,V){let O;if(void 0===$&&void 0===L&&void 0===V)throw new Error("Missing Observer.");O=function oi(Z,$){if("object"!=typeof Z||null===Z)return!1;for(const L of $)if(L in Z&&"function"==typeof Z[L])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:L,complete:V},void 0===O.next&&(O.next=Wi),void 0===O.error&&(O.error=Wi),void 0===O.complete&&(O.complete=Wi);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),J}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,$)}sendOne($,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{L(this.observers[$])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wi(){}const Wn=function(Z,$,L,V){let O;if(V<$?O="at least "+$:V>L&&(O=0===L?"none":"no more than "+L),O)throw new Error(Z+" failed: Was called with "+V+(1===V?" argument.":" arguments.")+" Expects "+O+".")};function Er(Z,$){return`${Z} failed: ${$} argument `}function Ei(Z,$,L,V){if((!V||L)&&"function"!=typeof L)throw new Error(Er(Z,$)+"must be a valid function.")}function Jt(Z,$,L,V){if((!V||L)&&("object"!=typeof L||null===L))throw new Error(Er(Z,$)+"must be a valid context object.")}const Zr=function(Z){const $=[];let L=0;for(let V=0;V<Z.length;V++){let O=Z.charCodeAt(V);if(O>=55296&&O<=56319){const J=O-55296;V++,Y(V<Z.length,"Surrogate pair missing trail surrogate."),O=65536+(J<<10)+(Z.charCodeAt(V)-56320)}O<128?$[L++]=O:O<2048?($[L++]=O>>6|192,$[L++]=63&O|128):O<65536?($[L++]=O>>12|224,$[L++]=O>>6&63|128,$[L++]=63&O|128):($[L++]=O>>18|240,$[L++]=O>>12&63|128,$[L++]=O>>6&63|128,$[L++]=63&O|128)}return $},en=function(Z){let $=0;for(let L=0;L<Z.length;L++){const V=Z.charCodeAt(L);V<128?$++:V<2048?$+=2:V>=55296&&V<=56319?($+=4,L++):$+=3}return $},$t=1e3,ai=2,Kn=144e5,Ki=.5;function li(Z,$=$t,L=ai){const V=$*Math.pow(L,Z),O=Math.round(Ki*V*(Math.random()-.5)*2);return Math.min(Kn,V+O)}function Sr(Z){return Z&&Z._delegate?Z._delegate:Z}},7450:(vt,Ie,G)=>{var s=G(4650);let Y=null;function F(){return Y}class he{}const te=new s.OlP("DocumentToken");let Se=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function we(){return(0,s.LFG)(Q)}()},providedIn:"platform"}),n})();const Ce=new s.OlP("Location Initialized");let Q=(()=>{class n extends Se{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){K()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){K()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ne(){return new Q((0,s.LFG)(te))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function ze(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Me(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let lt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Pe)},providedIn:"root"}),n})();const xe=new s.OlP("appBaseHref");let Pe=(()=>{class n extends lt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ze(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Xe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const a=this.prepareExternalUrl(r+Xe(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){const a=this.prepareExternalUrl(r+Xe(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Se),s.LFG(xe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Be=(()=>{class n extends lt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ze(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+Xe(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+Xe(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Se),s.LFG(xe,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function qe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Me(Fe(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Xe(i))}normalize(e){return n.stripTrailingSlash(function Te(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Fe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=ze,n.stripTrailingSlash=Me,n.\u0275fac=function(e){return new(e||n)(s.LFG(lt))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ae(){return new je((0,s.LFG)(lt))}()},providedIn:"root"}),n})();function Fe(n){return n.replace(/\/index.html$/,"")}var de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Percent=1]="Percent",de[de.Currency=2]="Currency",de[de.Scientific=3]="Scientific",de))(),Mt=(()=>((Mt=Mt||{})[Mt.Format=0]="Format",Mt[Mt.Standalone=1]="Standalone",Mt))(),ct=(()=>((ct=ct||{})[ct.Narrow=0]="Narrow",ct[ct.Abbreviated=1]="Abbreviated",ct[ct.Wide=2]="Wide",ct[ct.Short=3]="Short",ct))(),Kt=(()=>((Kt=Kt||{})[Kt.Short=0]="Short",Kt[Kt.Medium=1]="Medium",Kt[Kt.Long=2]="Long",Kt[Kt.Full=3]="Full",Kt))(),ft=(()=>((ft=ft||{})[ft.Decimal=0]="Decimal",ft[ft.Group=1]="Group",ft[ft.List=2]="List",ft[ft.PercentSign=3]="PercentSign",ft[ft.PlusSign=4]="PlusSign",ft[ft.MinusSign=5]="MinusSign",ft[ft.Exponential=6]="Exponential",ft[ft.SuperscriptingExponent=7]="SuperscriptingExponent",ft[ft.PerMille=8]="PerMille",ft[ft.Infinity=9]="Infinity",ft[ft.NaN=10]="NaN",ft[ft.TimeSeparator=11]="TimeSeparator",ft[ft.CurrencyDecimal=12]="CurrencyDecimal",ft[ft.CurrencyGroup=13]="CurrencyGroup",ft))();function ke(n,t){return ti((0,s.cg1)(n)[s.wAp.DateFormat],t)}function He(n,t){return ti((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function ut(n,t){return ti((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function ht(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ft.CurrencyDecimal)return e[s.wAp.NumberSymbols][ft.Decimal];if(t===ft.CurrencyGroup)return e[s.wAp.NumberSymbols][ft.Group]}return i}function Gn(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ti(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function gt(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const cr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cr={},gn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Qt=(()=>((Qt=Qt||{})[Qt.Short=0]="Short",Qt[Qt.ShortGMT=1]="ShortGMT",Qt[Qt.Long=2]="Long",Qt[Qt.Extended=3]="Extended",Qt))(),pt=(()=>((pt=pt||{})[pt.FullYear=0]="FullYear",pt[pt.Month=1]="Month",pt[pt.Date=2]="Date",pt[pt.Hours=3]="Hours",pt[pt.Minutes=4]="Minutes",pt[pt.Seconds=5]="Seconds",pt[pt.FractionalSeconds=6]="FractionalSeconds",pt[pt.Day=7]="Day",pt))(),Ht=(()=>((Ht=Ht||{})[Ht.DayPeriods=0]="DayPeriods",Ht[Ht.Days=1]="Days",Ht[Ht.Months=2]="Months",Ht[Ht.Eras=3]="Eras",Ht))();function oi(n,t,e,i){let r=function O(n){if(De(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,a=1]=n.split("-").map(d=>+d);return Wi(r,o-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(cr))return function J(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,d=Number(n[5]||0)-i,f=Number(n[6]||0),m=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,a,d,f,m),t}(i)}const t=new Date(n);if(!De(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Wn(e,t)||t;let d,a=[];for(;t;){if(d=gn.exec(t),!d){a.push(t);break}{a=a.concat(d.slice(1));const v=a.pop();if(!v)break;t=v}}let f=r.getTimezoneOffset();i&&(f=$(i,f),r=function V(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function L(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*($(t,r)-r))}(r,i,!0));let m="";return a.forEach(v=>{const D=function Z(n){if(Sr[n])return Sr[n];let t;switch(n){case"G":case"GG":case"GGG":t=en(Ht.Eras,ct.Abbreviated);break;case"GGGG":t=en(Ht.Eras,ct.Wide);break;case"GGGGG":t=en(Ht.Eras,ct.Narrow);break;case"y":t=Jt(pt.FullYear,1,0,!1,!0);break;case"yy":t=Jt(pt.FullYear,2,0,!0,!0);break;case"yyy":t=Jt(pt.FullYear,3,0,!1,!0);break;case"yyyy":t=Jt(pt.FullYear,4,0,!1,!0);break;case"Y":t=ur(1);break;case"YY":t=ur(2,!0);break;case"YYY":t=ur(3);break;case"YYYY":t=ur(4);break;case"M":case"L":t=Jt(pt.Month,1,1);break;case"MM":case"LL":t=Jt(pt.Month,2,1);break;case"MMM":t=en(Ht.Months,ct.Abbreviated);break;case"MMMM":t=en(Ht.Months,ct.Wide);break;case"MMMMM":t=en(Ht.Months,ct.Narrow);break;case"LLL":t=en(Ht.Months,ct.Abbreviated,Mt.Standalone);break;case"LLLL":t=en(Ht.Months,ct.Wide,Mt.Standalone);break;case"LLLLL":t=en(Ht.Months,ct.Narrow,Mt.Standalone);break;case"w":t=Dr(1);break;case"ww":t=Dr(2);break;case"W":t=Dr(1,!0);break;case"d":t=Jt(pt.Date,1);break;case"dd":t=Jt(pt.Date,2);break;case"c":case"cc":t=Jt(pt.Day,1);break;case"ccc":t=en(Ht.Days,ct.Abbreviated,Mt.Standalone);break;case"cccc":t=en(Ht.Days,ct.Wide,Mt.Standalone);break;case"ccccc":t=en(Ht.Days,ct.Narrow,Mt.Standalone);break;case"cccccc":t=en(Ht.Days,ct.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":t=en(Ht.Days,ct.Abbreviated);break;case"EEEE":t=en(Ht.Days,ct.Wide);break;case"EEEEE":t=en(Ht.Days,ct.Narrow);break;case"EEEEEE":t=en(Ht.Days,ct.Short);break;case"a":case"aa":case"aaa":t=en(Ht.DayPeriods,ct.Abbreviated);break;case"aaaa":t=en(Ht.DayPeriods,ct.Wide);break;case"aaaaa":t=en(Ht.DayPeriods,ct.Narrow);break;case"b":case"bb":case"bbb":t=en(Ht.DayPeriods,ct.Abbreviated,Mt.Standalone,!0);break;case"bbbb":t=en(Ht.DayPeriods,ct.Wide,Mt.Standalone,!0);break;case"bbbbb":t=en(Ht.DayPeriods,ct.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":t=en(Ht.DayPeriods,ct.Abbreviated,Mt.Format,!0);break;case"BBBB":t=en(Ht.DayPeriods,ct.Wide,Mt.Format,!0);break;case"BBBBB":t=en(Ht.DayPeriods,ct.Narrow,Mt.Format,!0);break;case"h":t=Jt(pt.Hours,1,-12);break;case"hh":t=Jt(pt.Hours,2,-12);break;case"H":t=Jt(pt.Hours,1);break;case"HH":t=Jt(pt.Hours,2);break;case"m":t=Jt(pt.Minutes,1);break;case"mm":t=Jt(pt.Minutes,2);break;case"s":t=Jt(pt.Seconds,1);break;case"ss":t=Jt(pt.Seconds,2);break;case"S":t=Jt(pt.FractionalSeconds,1);break;case"SS":t=Jt(pt.FractionalSeconds,2);break;case"SSS":t=Jt(pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=$t(Qt.Short);break;case"ZZZZZ":t=$t(Qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=$t(Qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=$t(Qt.Long);break;default:return null}return Sr[n]=t,t}(v);m+=D?D(r,e,f):"''"===v?"'":v.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function Wi(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Wn(n,t){const e=function Bi(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(Cr[e]=Cr[e]||{},Cr[e][t])return Cr[e][t];let i="";switch(t){case"shortDate":i=ke(n,Kt.Short);break;case"mediumDate":i=ke(n,Kt.Medium);break;case"longDate":i=ke(n,Kt.Long);break;case"fullDate":i=ke(n,Kt.Full);break;case"shortTime":i=He(n,Kt.Short);break;case"mediumTime":i=He(n,Kt.Medium);break;case"longTime":i=He(n,Kt.Long);break;case"fullTime":i=He(n,Kt.Full);break;case"short":const r=Wn(n,"shortTime"),o=Wn(n,"shortDate");i=Er(ut(n,Kt.Short),[r,o]);break;case"medium":const a=Wn(n,"mediumTime"),d=Wn(n,"mediumDate");i=Er(ut(n,Kt.Medium),[a,d]);break;case"long":const f=Wn(n,"longTime"),m=Wn(n,"longDate");i=Er(ut(n,Kt.Long),[f,m]);break;case"full":const v=Wn(n,"fullTime"),D=Wn(n,"fullDate");i=Er(ut(n,Kt.Full),[v,D])}return i&&(Cr[e][t]=i),i}function Er(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ii(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),o+a}function Jt(n,t,e=0,i=!1,r=!1){return function(o,a){let d=function Zr(n,t){switch(n){case pt.FullYear:return t.getFullYear();case pt.Month:return t.getMonth();case pt.Date:return t.getDate();case pt.Hours:return t.getHours();case pt.Minutes:return t.getMinutes();case pt.Seconds:return t.getSeconds();case pt.FractionalSeconds:return t.getMilliseconds();case pt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||d>-e)&&(d+=e),n===pt.Hours)0===d&&-12===e&&(d=12);else if(n===pt.FractionalSeconds)return function Ei(n,t){return ii(n,3).substring(0,t)}(d,t);const f=ht(a,ft.MinusSign);return ii(d,t,f,i,r)}}function en(n,t,e=Mt.Format,i=!1){return function(r,o){return function Vr(n,t,e,i,r,o){switch(e){case Ht.Months:return function fe(n,t,e){const i=(0,s.cg1)(n),o=ti([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return ti(o,e)}(t,r,i)[n.getMonth()];case Ht.Days:return function Gs(n,t,e){const i=(0,s.cg1)(n),o=ti([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return ti(o,e)}(t,r,i)[n.getDay()];case Ht.DayPeriods:const a=n.getHours(),d=n.getMinutes();if(o){const m=function Zn(n){const t=(0,s.cg1)(n);return Gn(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?gt(i):[gt(i[0]),gt(i[1])])}(t),v=function vi(n,t,e){const i=(0,s.cg1)(n);Gn(i);const o=ti([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return ti(o,e)||[]}(t,r,i),D=m.findIndex(A=>{if(Array.isArray(A)){const[R,B]=A,q=a>=R.hours&&d>=R.minutes,W=a<B.hours||a===B.hours&&d<B.minutes;if(R.hours<B.hours){if(q&&W)return!0}else if(q||W)return!0}else if(A.hours===a&&A.minutes===d)return!0;return!1});if(-1!==D)return v[D]}return function Br(n,t,e){const i=(0,s.cg1)(n),o=ti([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return ti(o,e)}(t,r,i)[a<12?0:1];case Ht.Eras:return function ge(n,t){return ti((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function $t(n){return function(t,e,i){const r=-1*i,o=ht(e,ft.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Qt.Short:return(r>=0?"+":"")+ii(a,2,o)+ii(Math.abs(r%60),2,o);case Qt.ShortGMT:return"GMT"+(r>=0?"+":"")+ii(a,1,o);case Qt.Long:return"GMT"+(r>=0?"+":"")+ii(a,2,o)+":"+ii(Math.abs(r%60),2,o);case Qt.Extended:return 0===i?"Z":(r>=0?"+":"")+ii(a,2,o)+":"+ii(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const ai=0,Kn=4;function li(n){return Wi(n.getFullYear(),n.getMonth(),n.getDate()+(Kn-n.getDay()))}function Dr(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+o)/7)}else{const o=li(e),a=function Ki(n){const t=Wi(n,ai,1).getDay();return Wi(n,0,1+(t<=Kn?Kn:Kn+7)-t)}(o.getFullYear()),d=o.getTime()-a.getTime();r=1+Math.round(d/6048e5)}return ii(r,n,ht(i,ft.MinusSign))}}function ur(n,t=!1){return function(e,i){return ii(li(e).getFullYear(),n,ht(i,ft.MinusSign),t)}}const Sr={};function $(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function De(n){return n instanceof Date&&!isNaN(n.valueOf())}const st=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Rt=22,Tt=".",Xt="0",Ft=";",Ln=",",Yt="#";function un(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Io(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const Hi=/\s+/,tt=[];let Vt=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=tt,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Hi):tt}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Hi):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Hi).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Gi{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wr=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Gi(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const d=i.get(o);i.move(d,a),ri(d,r)}});for(let r=0,o=i.length;r<o;r++){const d=i.get(r).context;d.index=r,d.count=o,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ri(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ri(n,t){n.context.$implicit=t.item}let ci=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Wt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Sc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Sc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Wt{constructor(){this.$implicit=null,this.ngIf=null}}function Sc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class os{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let oo=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),as=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new os(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(oo,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ui=(()=>{class n{constructor(e,i,r){r._addDefault(new os(e,i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(oo,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),di=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();function ls(n,t){return new s.vHH(2100,!1)}class Vu{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Ml{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Ha=new Ml,ko=new Vu;let Qr=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Ha;if((0,s.F4k)(e))return ko;throw ls()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),cs=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw ls();return e.toUpperCase()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})();const Tc=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),kl=new s.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ar=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return oi(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw ls()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(Tc,24),s.Y36(kl,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Uu=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=Dp}transform(e,i=Dp){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(a=>{this.keyValues.push(function Kg(n,t){return{key:n,value:t}}(a.key,a.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.aQg,16))},n.\u0275pipe=s.Yjl({name:"keyvalue",type:n,pure:!1,standalone:!0}),n})();function Dp(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let Ol=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function _h(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function yt(n,t,e){return function _e(n,t,e,i,r,o,a=!1){let d="",f=!1;if(isFinite(n)){let m=function bt(n){let i,r,o,a,d,t=Math.abs(n)+"",e=0;for((r=t.indexOf(Tt))>-1&&(t=t.replace(Tt,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===Xt;o++);if(o===(d=t.length))i=[0],r=1;else{for(d--;t.charAt(d)===Xt;)d--;for(r-=o,i=[],a=0;o<=d;o++,a++)i[a]=Number(t.charAt(o))}return r>Rt&&(i=i.splice(0,Rt-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(m=function tn(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(m));let v=t.minInt,D=t.minFrac,A=t.maxFrac;if(o){const Re=o.match(st);if(null===Re)throw new Error(`${o} is not a valid digit info`);const Le=Re[1],Ye=Re[3],It=Re[5];null!=Le&&(v=un(Le)),null!=Ye&&(D=un(Ye)),null!=It?A=un(It):null!=Ye&&D>A&&(A=D)}!function Cn(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let a=o+n.integerLen,d=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let D=a;D<i.length;D++)i[D]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let D=1;D<a;D++)i[D]=0}if(d>=5)if(a-1<0){for(let D=0;D>a;D--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let f=0!==o;const m=t+n.integerLen,v=i.reduceRight(function(D,A,R,B){return B[R]=(A+=D)<10?A:A-10,f&&(0===B[R]&&R>=m?B.pop():f=!1),A>=10?1:0},0);v&&(i.unshift(v),n.integerLen++)}(m,D,A);let R=m.digits,B=m.integerLen;const q=m.exponent;let W=[];for(f=R.every(Re=>!Re);B<v;B++)R.unshift(0);for(;B<0;B++)R.unshift(0);B>0?W=R.splice(B,R.length):(W=R,R=[0]);const ce=[];for(R.length>=t.lgSize&&ce.unshift(R.splice(-t.lgSize,R.length).join(""));R.length>t.gSize;)ce.unshift(R.splice(-t.gSize,R.length).join(""));R.length&&ce.unshift(R.join("")),d=ce.join(ht(e,i)),W.length&&(d+=ht(e,r)+W.join("")),q&&(d+=ht(e,ft.Exponential)+"+"+q)}else d=ht(e,ft.Infinity);return d=n<0&&!f?t.negPre+d+t.negSuf:t.posPre+d+t.posSuf,d}(n,function Ot(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(Ft),r=i[0],o=i[1],a=-1!==r.indexOf(Tt)?r.split(Tt):[r.substring(0,r.lastIndexOf(Xt)+1),r.substring(r.lastIndexOf(Xt)+1)],d=a[0],f=a[1]||"";e.posPre=d.substring(0,d.indexOf(Yt));for(let v=0;v<f.length;v++){const D=f.charAt(v);D===Xt?e.minFrac=e.maxFrac=v+1:D===Yt?e.maxFrac=v+1:e.posSuf+=D}const m=d.split(Ln);if(e.gSize=m[1]?m[1].length:0,e.lgSize=m[2]||m[1]?(m[2]||m[1]).length:0,o){const v=r.length-e.posPre.length-e.posSuf.length,D=o.indexOf(Yt);e.negPre=o.substring(0,D).replace(/'/g,""),e.negSuf=o.slice(D+v).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function mn(n,t){return(0,s.cg1)(n)[s.wAp.NumberFormats][t]}(t,de.Decimal),ht(t,ft.MinusSign)),t,ft.Group,ft.Decimal,e)}(function yh(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw ls()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16))},n.\u0275pipe=s.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let Pl=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw ls();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),hr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Sp="browser",Ga="server";function fr(n){return n===Sp}function us(n){return n===Ga}let Ac=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Ap((0,s.LFG)(te),window)}),n})();class Ap{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Hu(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Po(this.window.history)||Po(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Po(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xh{}class Lh extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Vc extends Lh{static makeCurrent(){!function oe(n){Y||(Y=n)}(new Vc)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Hl(){return Wa=Wa||document.querySelector("base"),Wa?Wa.getAttribute("href"):null}();return null==e?null:function n_(n){ho=ho||document.createElement("a"),ho.setAttribute("href",n);const t=ho.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Io(document.cookie,t)}}let ho,Wa=null;const kp=new s.OlP("TRANSITION_ID"),Bh=[{provide:s.ip1,useFactory:function Uc(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=F(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[kp,te,s.zs3],multi:!0}];let Qu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Gl=new s.OlP("EventManagerPlugins");let Hc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const a=r[o];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Gl),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ka{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=F().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Vh=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let o=r.get(e)??0;return o+=i,o>0?r.set(e,o):r.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Bo=(()=>{class n extends Vh{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(o=>o.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const pa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qa=/%COMP%/g,ql=new s.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Gc(n,t){return t.flat(100).map(e=>e.replace(Qa,n))}function ed(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Mr=(()=>{class n{constructor(e,i,r,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Uh(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof jc?r.applyToHost(e):r instanceof Vo&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const a=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestory;switch(i.encapsulation){case s.ifc.Emulated:o=new jc(a,d,i,this.appId,f);break;case s.ifc.ShadowDom:return new pi(a,d,e,i);default:o=new Vo(a,d,i,f)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hc),s.LFG(Bo),s.LFG(s.AFp),s.LFG(ql))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Uh{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(pa[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Hh(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Hh(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=pa[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=pa[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ed(i)):this.eventManager.addEventListener(t,e,ed(i))}}function Hh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class pi extends Uh{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Gc(r.id,r.styles);for(const a of o){const d=document.createElement("style");d.textContent=a,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vo extends Uh{constructor(t,e,i,r,o=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=Gc(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class jc extends Vo{constructor(t,e,i,r,o){const a=r+"-"+i.id;super(t,e,i,o,a),this.contentAttr=function Rp(n){return"_ngcontent-%COMP%".replace(Qa,n)}(a),this.hostAttr=function Xu(n){return"_nghost-%COMP%".replace(Qa,n)}(a)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Gh=(()=>{class n extends Ka{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const $l=["alt","control","meta","shift"],jh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Si=(()=>{class n extends Ka{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let a="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),a="code."),$l.forEach(m=>{const v=i.indexOf(m);v>-1&&(i.splice(v,1),a+=m+".")}),a+=o,0!=i.length||0===o.length)return null;const f={};return f.domEventName=r,f.fullKey=a,f}static matchEventFullKeyCode(e,i){let r=jh[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),$l.forEach(a=>{a!==r&&(0,zc[a])(e)&&(o+=a+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Pp=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Sp},{provide:s.g9A,useValue:function el(){Vc.makeCurrent()},multi:!0},{provide:te,useFactory:function id(){return(0,s.RDi)(document),document},deps:[]}]),ga=new s.OlP(""),Yl=[{provide:s.rWj,useClass:class fo{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,a=!1;const d=function(f){a=a||f,o--,0==o&&i(a)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],_a=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function nd(){return new s.qLn},deps:[]},{provide:Gl,useClass:Gh,multi:!0,deps:[te,s.R0b,s.Lbi]},{provide:Gl,useClass:Si,multi:!0,deps:[te]},{provide:Mr,useClass:Mr,deps:[Hc,Bo,s.AFp,ql]},{provide:s.FYo,useExisting:Mr},{provide:Vh,useExisting:Bo},{provide:Bo,useClass:Bo,deps:[te]},{provide:Hc,useClass:Hc,deps:[Gl,s.R0b]},{provide:xh,useClass:Qu,deps:[]},[]];let ya=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:kp,useExisting:s.AFp},Bh]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ga,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[..._a,...Yl],imports:[hr,s.hGG]}),n})(),Fp=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function va(){return new Fp((0,s.LFG)(te))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let jo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Wc),i},providedIn:"root"}),n})(),Wc=(()=>{class n extends jo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Wl(n){return new Wc(n.get(te))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();const wa=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function nl(){return(0,s.f3M)(te)}}),zo=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $o,Pn=(()=>{class n{constructor(e){this.value="ltr",this.change=new s.vpe,e&&(this.value=function Kc(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?zo.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wa,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();try{$o=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$o=!1}let er,Vn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?fr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$o)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const po=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Qc(){if(er)return er;if("object"!=typeof document||!document)return er=new Set(po),er;let n=document.createElement("input");return er=new Set(po.filter(t=>(n.setAttribute("type",t),n.type===t))),er}let Ds,il,Yo,ud;function kr(n){return function Zh(){if(null==Ds&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ds=!0}))}finally{Ds=Ds||!1}return Ds}()?n:!!n.capture}function fs(){if(null==Yo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Yo=!1,Yo;if("scrollBehavior"in document.documentElement.style)Yo=!0;else{const n=Element.prototype.scrollTo;Yo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Yo}function xa(){if("object"!=typeof document||!document)return 0;if(null==il){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),il=0,0===n.scrollLeft&&(n.scrollLeft=1,il=0===n.scrollLeft?1:2),n.remove()}return il}function Jc(n){if(function Kl(){if(null==ud){const n=typeof document<"u"?document.head:null;ud=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ud}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Zs(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Rr(n){return n.composedPath?n.composedPath()[0]:n.target}function dd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Ze=G(7579),Ai=G(6451),qn=G(4482),$n=G(5403),Ss=G(8421),hd=G(5032);function Nt(n){return(0,qn.e)((t,e)=>{(0,Ss.Xf)(n).subscribe((0,$n.x)(e,()=>e.complete(),hd.Z)),!e.closed&&t.subscribe(e)})}function Dt(n){return null!=n&&"false"!=`${n}`}function Ts(n,t=0){return function Up(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Ca(n){return Array.isArray(n)?n:[n]}function Ii(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Un(n){return n instanceof s.SBq?n.nativeElement:n}class Xc{}class Kh{}const Or="*";function As(n,t){return{type:7,name:n,definitions:t,options:{}}}function mr(n,t=null){return{type:4,styles:t,timings:n}}function eu(n,t=null){return{type:2,steps:n,options:t}}function In(n){return{type:6,styles:n,offset:null}}function zi(n,t,e){return{type:0,name:n,styles:t,options:e}}function Xr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function tu(n=null){return{type:9,options:n}}function mo(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function iu(n){Promise.resolve().then(n)}class Hr{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){iu(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Is{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?iu(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,d)=>Math.max(a,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const fd="!";var pn=G(9751),Zo=G(4986);function Ql(n,t=Zo.z){return(0,qn.e)((e,i)=>{let r=null,o=null,a=null;const d=()=>{if(r){r.unsubscribe(),r=null;const m=o;o=null,i.next(m)}};function f(){const m=a+n,v=t.now();if(v<m)return r=this.schedule(void 0,m-v),void i.add(r);d()}e.subscribe((0,$n.x)(i,m=>{o=m,a=t.now(),r||(r=t.schedule(f,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{o=r=null}))})}let pd=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hp=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Un(e);return new pn.y(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Ze.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pd))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gp=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Dt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ts(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Ql(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hp),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Jh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pd]}),n})();var x=G(727);class S extends Ze.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var I=G(3269),U=G(8996);function j(...n){const t=(0,I.yG)(n);return(0,U.D)(n,t)}function Sa(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Fn=G(8505);function Nn(n,t){return(0,qn.e)((e,i)=>{let r=0;e.subscribe((0,$n.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var Ke=G(4004),Xl=G(515);function Ct(n){return n<=0?()=>Xl.E:(0,qn.e)((t,e)=>{let i=0;t.subscribe((0,$n.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function eb(n){return Nn((t,e)=>n<=e)}var tf=G(4671);function ol(n,t=tf.y){return n=n??ZC,(0,qn.e)((e,i)=>{let r,o=!0;e.subscribe((0,$n.x)(i,a=>{const d=t(a);(o||!n(r,d))&&(o=!1,r=d,i.next(a))}))})}function ZC(n,t){return n===t}const{isArray:e1}=Array,{getPrototypeOf:t1,prototype:n1,keys:r1}=Object;function tb(n){if(1===n.length){const t=n[0];if(e1(t))return{args:t,keys:null};if(function tV(n){return n&&"object"==typeof n&&t1(n)===n1}(t)){const e=r1(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:nV}=Array;function vd(n){return(0,Ke.U)(t=>function Jp(n,t){return nV(t)?n(...t):n(t)}(n,t))}function nb(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var WC=G(9672);function gs(...n){const t=(0,I.yG)(n),e=(0,I.jO)(n),{args:i,keys:r}=tb(n);if(0===i.length)return(0,U.D)([],t);const o=new pn.y(KC(i,t,r?a=>nb(r,a):tf.y));return e?o.pipe(vd(e)):o}function KC(n,t,e=tf.y){return i=>{QC(t,()=>{const{length:r}=n,o=new Array(r);let a=r,d=r;for(let f=0;f<r;f++)QC(t,()=>{const m=(0,U.D)(n[f],t);let v=!1;m.subscribe((0,$n.x)(i,D=>{o[f]=D,v||(v=!0,d--),d||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function QC(n,t,e){n?(0,WC.f)(e,n,t):t()}var nf=G(8189);function bd(...n){return function JC(){return(0,nf.J)(1)}()((0,U.D)(n,(0,I.yG)(n)))}function tr(...n){const t=(0,I.yG)(n);return(0,qn.e)((e,i)=>{(t?bd(n,e,t):bd(n,e)).subscribe(i)})}const eE=new Set;let au,tE=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):wd}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function nE(n){if(!eE.has(n))try{au||(au=document.createElement("style"),au.setAttribute("type","text/css"),document.head.appendChild(au)),au.sheet&&(au.sheet.insertRule(`@media ${n} {body{ }}`,0),eE.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wd(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let ib=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ze.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return f_(Ca(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=gs(f_(Ca(e)).map(a=>this._registerQuery(a).observable));return o=bd(o.pipe(Ct(1)),o.pipe(eb(1),Ql(0))),o.pipe((0,Ke.U)(a=>{const d={matches:!1,breakpoints:{}};return a.forEach(({matches:f,query:m})=>{d.matches=d.matches||f,d.breakpoints[m]=f}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new pn.y(a=>{const d=f=>this._zone.run(()=>a.next(f));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(tr(i),(0,Ke.U)(({matches:a})=>({query:e,matches:a})),Nt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(tE),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function f_(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function al(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const g_="cdk-describedby-message",__="cdk-describedby-host";let sb=0,rE=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+sb++,this._document=e,this._id=(0,s.f3M)(s.AFp)+"-"+sb++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=lu(i,r);"string"!=typeof i?(sE(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=lu(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${__}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(__);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");sE(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(lu(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=al(e,"aria-describedby").filter(r=>0!=r.indexOf(g_));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function rb(n,t,e){const i=al(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(__,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function m_(n,t,e){const r=al(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(__)}_isElementDescribedByMessage(e,i){const r=al(e,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lu(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function sE(n,t){n.id||(n.id=`${g_}-${t}-${sb++}`)}class oE{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ze.x,this._typeaheadSubscription=x.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ze.x,this.change=new Ze.x,t instanceof s.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Fn.b)(e=>this._pressedLetters.push(e)),Ql(t),Nn(()=>this._pressedLetters.length>0),(0,Ke.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,a=i[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}return;default:return void((r||Sa(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class o1 extends oE{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class y_ extends oE{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Xp=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function aE(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function a1(n){try{return n.frameElement}catch{return null}}(function d1(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===lE(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=lE(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function cE(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function u1(n){return!function l1(n){return function c1(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function rV(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function em(n){return function rf(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||sf(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sf(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function lE(n){if(!sf(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class h1{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ct(1)).subscribe(t)}}let v_=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new h1(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Xp),s.LFG(s.R0b),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w_(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function x_(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const p1=new s.OlP("cdk-input-modality-detector-options"),m1={ignoreKeys:[18,17,224,91,16]},xd=kr({passive:!0,capture:!0});let g1=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new S(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(d=>d===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Rr(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(w_(a)?"keyboard":"mouse"),this._mostRecentTarget=Rr(a))},this._onTouchstart=a=>{x_(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rr(a))},this._options={...m1,...o},this.modalityDetected=this._modality.pipe(eb(1)),this.modalityChanged=this.modalityDetected.pipe(ol()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,xd),r.addEventListener("mousedown",this._onMousedown,xd),r.addEventListener("touchstart",this._onTouchstart,xd)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xd),document.removeEventListener("mousedown",this._onMousedown,xd),document.removeEventListener("touchstart",this._onTouchstart,xd))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vn),s.LFG(s.R0b),s.LFG(te),s.LFG(p1,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const af=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ec(){return null}}),_1=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let y1=0,pE=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+y1++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],a=o.getAttribute("aria-owns");a?-1===a.indexOf(e)&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(af,8),s.LFG(s.R0b),s.LFG(te),s.LFG(_1,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mE=new s.OlP("cdk-focus-monitor-default-options"),ob=kr({passive:!0,capture:!0});let tc=(()=>{class n{constructor(e,i,r,o,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ze.x,this._rootNodeFocusAndBlurListener=d=>{for(let m=Rr(d);m;m=m.parentElement)"focus"===d.type?this._onFocus(d,m):this._onBlur(d,m)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=Un(e);if(!this._platform.isBrowser||1!==r.nodeType)return j(null);const o=Jc(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const d={checkChildren:i,subject:new Ze.x,rootNode:o};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Un(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Un(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([d,f])=>this._originChanged(d,i,f)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Rr(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ob),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ob)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Nt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ob),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ob),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Vn),s.LFG(g1),s.LFG(te,8),s.LFG(mE,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gE="cdk-high-contrast-black-on-white",ab="cdk-high-contrast-white-on-black",lb="cdk-high-contrast-active";let _E=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(ib).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(lb,gE,ab),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(lb,gE):2===i&&e.add(lb,ab)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vn),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wo=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_E))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Jh]}),n})();const w1=["text"];function x1(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",6),2&n){const e=s.oxw();s.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function C1(n,t){if(1&n&&s._UZ(0,"mat-pseudo-checkbox",7),2&n){const e=s.oxw();s.Q6J("disabled",e.disabled)}}function vE(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(",e.group.label,")")}}const E1=[[["mat-icon"]],"*"],D1=["mat-icon","*"],xE=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function wE(){return!0}});let Tn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!dd()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_E),s.LFG(xE,8),s.LFG(te))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qo,qo]}),n})();function C_(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Dt(t)}constructor(...t){super(...t),this._disabled=!1}}}function E_(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function cb(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Dt(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function cV(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ts(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function ub(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let tm=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class k1{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const hb=kr({passive:!0,capture:!0});class R1{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Rr(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,hb)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,hb)))}}const DE={enterDuration:225,exitDuration:150},SE=kr({passive:!0,capture:!0}),TE=["mousedown","touchstart"],fb=["mouseup","mouseleave","touchend","touchcancel"];class im{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Un(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...DE,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function AE(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,f=e-r.top,m=o.enterDuration,v=document.createElement("div");v.classList.add("mat-ripple-element"),v.style.left=d-a+"px",v.style.top=f-a+"px",v.style.height=2*a+"px",v.style.width=2*a+"px",null!=i.color&&(v.style.backgroundColor=i.color),v.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(v);const D=window.getComputedStyle(v),R=D.transitionDuration,B="none"===D.transitionProperty||"0s"===R||"0s, 0s"===R||0===r.width&&0===r.height,q=new k1(this,v,i,B);v.style.transform="scale3d(1, 1, 1)",q.state=0,i.persistent||(this._mostRecentTransientRipple=q);let W=null;return!B&&(m||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ce=()=>this._finishRippleTransition(q),Re=()=>this._destroyRipple(q);v.addEventListener("transitionend",ce),v.addEventListener("transitioncancel",Re),W={onTransitionEnd:ce,onTransitionCancel:Re}}),this._activeRipples.set(q,W),(B||!m)&&this._finishRippleTransition(q),q}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...DE,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Un(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,TE.forEach(i=>{im._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{fb.forEach(e=>{this._triggerElement.addEventListener(e,this,SE)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=w_(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!x_(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(TE.forEach(e=>im._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&fb.forEach(e=>t.removeEventListener(e,this,SE)))}}im._eventManager=new R1;const IE=new s.OlP("mat-ripple-global-options");let nc=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new im(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Vn),s.Y36(IE,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),pb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Tn,Tn]}),n})(),mb=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&s.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),P1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Tn]}),n})();const F1=new s.OlP("MAT_OPTION_PARENT_COMPONENT"),gb=new s.OlP("MatOptgroup");let L1=0;class D_{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let uf=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Dt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+L1++,this.onSelectionChange=new s.vpe,this._stateChanges=new Ze.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Sa(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new D_(this,e))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(w1,7),2&e){let r;s.iGM(r=s.CRH())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),S_=(()=>{class n extends uf{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(F1,8),s.Y36(gb,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),s.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[s.qOj],ngContentSelectors:D1,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(s.F$t(E1),s.YNc(0,x1,1,2,"mat-pseudo-checkbox",0),s.Hsn(1),s.TgZ(2,"span",1,2),s.Hsn(4,1),s.qZA(),s.YNc(5,C1,1,1,"mat-pseudo-checkbox",3),s.YNc(6,vE,2,1,"span",4),s._UZ(7,"div",5)),2&e&&(s.Q6J("ngIf",i.multiple),s.xp6(5),s.Q6J("ngIf",!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator),s.xp6(1),s.Q6J("ngIf",i.group&&i.group._inert),s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[nc,ci,mb],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[pb,hr,Tn,P1]}),n})();const ME=["matFormFieldNotchedOutline",""],yb=["*"],vb=["textField"],bb=["iconPrefixContainer"],kE=["textPrefixContainer"];function wb(n,t){1&n&&s._UZ(0,"span",19)}function B1(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",17),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r._refreshOutlineNotchWidth())}),s.Hsn(1,1),s.YNc(2,wb,1,0,"span",18),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function V1(n,t){if(1&n&&s.YNc(0,B1,3,6,"label",16),2&n){const e=s.oxw();s.Q6J("ngIf",e._hasFloatingLabel())}}function RE(n,t){1&n&&s._UZ(0,"div",20)}function U1(n,t){}function OE(n,t){if(1&n&&s.YNc(0,U1,0,0,"ng-template",22),2&n){s.oxw(2);const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function PE(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,OE,1,1,"ng-template",9),s.qZA()),2&n){const e=s.oxw();s.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),s.xp6(1),s.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function H1(n,t){1&n&&(s.TgZ(0,"div",23,24),s.Hsn(2,2),s.qZA())}function G1(n,t){1&n&&(s.TgZ(0,"div",25,26),s.Hsn(2,3),s.qZA())}function _o(n,t){}function j1(n,t){if(1&n&&s.YNc(0,_o,0,0,"ng-template",22),2&n){s.oxw();const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function z1(n,t){1&n&&(s.TgZ(0,"div",27),s.Hsn(1,4),s.qZA())}function mV(n,t){1&n&&(s.TgZ(0,"div",28),s.Hsn(1,5),s.qZA())}function xb(n,t){1&n&&s._UZ(0,"div",29)}function FE(n,t){if(1&n&&(s.TgZ(0,"div",30),s.Hsn(1,6),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function q1(n,t){if(1&n&&(s.TgZ(0,"mat-hint",34),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function $1(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,q1,2,2,"mat-hint",32),s.Hsn(2,7),s._UZ(3,"div",33),s.Hsn(4,8),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const Y1=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],NE=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let ll=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),Z1=0;const T_=new s.OlP("MatError");let LE=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+Z1++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:T_,useExisting:n}])]}),n})(),W1=0,Cb=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+W1++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("align",null),s.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const K1=new s.OlP("MatPrefix"),cl=new s.OlP("MatSuffix");let VE=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function Q1(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const Eb="mdc-line-ripple--active",A_="mdc-line-ripple--deactivating";let UE=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,a=o.contains(A_);"opacity"===r.propertyName&&a&&o.remove(Eb,A_)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(A_),e.add(Eb)}deactivate(){this._elementRef.nativeElement.classList.add(A_)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),HE=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:ME,ngContentSelectors:yb,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(s.F$t(),s._UZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(1),s.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const Db={transitionMessages:As("transitionMessages",[zi("enter",In({opacity:1,transform:"translateY(0%)"})),Xr("void => enter",[In({opacity:0,transform:"translateY(-5px)"}),mr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Sb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const df=new s.OlP("MatFormField"),yV=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let I_=0,ic=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Dt(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,a,d,f,m){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=a,this._defaults=d,this._animationMode=f,this._document=m,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+I_++,this._hintLabelId="mat-mdc-hint-"+I_++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Ze.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,d&&(d.appearance&&(this.appearance=d.appearance),this._hideRequiredMarker=Boolean(d?.hideRequiredMarker),d.color&&(this.color=d.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Nt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ai.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Nt(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Nt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,a=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+a}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Pn),s.Y36(Vn),s.Y36(yV,8),s.Y36(s.QbO,8),s.Y36(te))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,ll,5),s.Suo(r,ll,7),s.Suo(r,Sb,5),s.Suo(r,K1,5),s.Suo(r,cl,5),s.Suo(r,T_,5),s.Suo(r,Cb,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._formFieldControl=o.first),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(vb,5),s.Gf(bb,5),s.Gf(kE,5),s.Gf(VE,5),s.Gf(HE,5),s.Gf(UE,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._textField=r.first),s.iGM(r=s.CRH())&&(i._iconPrefixContainer=r.first),s.iGM(r=s.CRH())&&(i._textPrefixContainer=r.first),s.iGM(r=s.CRH())&&(i._floatingLabel=r.first),s.iGM(r=s.CRH())&&(i._notchedOutline=r.first),s.iGM(r=s.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:df,useExisting:n}])],ngContentSelectors:NE,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(s.F$t(Y1),s.YNc(0,V1,1,1,"ng-template",null,0,s.W1O),s.TgZ(2,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(4,RE,1,0,"div",3),s.TgZ(5,"div",4),s.YNc(6,PE,2,3,"div",5),s.YNc(7,H1,3,0,"div",6),s.YNc(8,G1,3,0,"div",7),s.TgZ(9,"div",8),s.YNc(10,j1,1,1,"ng-template",9),s.Hsn(11),s.qZA(),s.YNc(12,z1,2,0,"div",10),s.YNc(13,mV,2,0,"div",11),s.qZA(),s.YNc(14,xb,1,0,"div",12),s.qZA(),s.TgZ(15,"div",13),s.YNc(16,FE,2,1,"div",14),s.YNc(17,$1,5,2,"div",15),s.qZA()),2&e&&(s.xp6(2),s.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),s.xp6(2),s.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),s.xp6(2),s.Q6J("ngIf",i._hasOutline()),s.xp6(1),s.Q6J("ngIf",i._hasIconPrefix),s.xp6(1),s.Q6J("ngIf",i._hasTextPrefix),s.xp6(2),s.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),s.xp6(2),s.Q6J("ngIf",i._hasTextSuffix),s.xp6(1),s.Q6J("ngIf",i._hasIconSuffix),s.xp6(1),s.Q6J("ngIf",!i._hasOutline()),s.xp6(1),s.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[ci,di,oo,as,Gp,Cb,VE,HE,UE],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[Db.transitionMessages]},changeDetection:0}),n})(),hf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Tn,hr,Jh,Tn]}),n})();const ul=kr({passive:!0});let M_=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Xl.E;const i=Un(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Ze.x,a="cdk-text-field-autofilled",d=f=>{"cdk-text-field-autofill-start"!==f.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===f.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:f.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>o.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,ul),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",d,ul)}}),o}stopMonitoring(e){const i=Un(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vn),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function kb(...n){const t=(0,I.jO)(n),{args:e,keys:i}=tb(n),r=new pn.y(o=>{const{length:a}=e;if(!a)return void o.complete();const d=new Array(a);let f=a,m=a;for(let v=0;v<a;v++){let D=!1;(0,Ss.Xf)(e[v]).subscribe((0,$n.x)(o,A=>{D||(D=!0,m--),d[v]=A},()=>f--,void 0,()=>{(!f||!D)&&(m||o.next(i?nb(i,d):d),o.complete())}))}});return t?r.pipe(vd(t)):r}let Rb=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Cd=(()=>{class n extends Rb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const dl=new s.OlP("NgValueAccessor"),vV={provide:dl,useExisting:(0,s.Gpc)(()=>Ed),multi:!0},tk=new s.OlP("CompositionEventMode");let Ed=(()=>{class n extends Rb{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ek(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(tk,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([vV]),s.qOj]}),n})();const nk=!1;function cu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function qE(n){return null!=n&&"number"==typeof n.length}const _s=new s.OlP("NgValidators"),rc=new s.OlP("NgAsyncValidators"),Ob=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class R_{static min(t){return function O_(n){return t=>{if(cu(t.value)||cu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function $E(n){return t=>{if(cu(t.value)||cu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function YE(n){return cu(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function ZE(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function WE(n){return cu(n.value)||Ob.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function KE(n){return t=>cu(t.value)||!qE(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return QE(t)}static pattern(t){return function JE(n){if(!n)return lm;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(cu(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return eD(t)}static composeAsync(t){return P_(t)}}function QE(n){return t=>qE(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function lm(n){return null}function Pb(n){return null!=n}function XE(n){const t=(0,s.QGY)(n)?(0,U.D)(n):n;if(nk&&!(0,s.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new s.vHH(-1101,e)}return t}function ik(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Fb(n,t){return t.map(e=>e(n))}function cm(n){return n.map(t=>function bV(n){return!n.validate}(t)?t:e=>t.validate(e))}function eD(n){if(!n)return null;const t=n.filter(Pb);return 0==t.length?null:function(e){return ik(Fb(e,t))}}function Nb(n){return null!=n?eD(cm(n)):null}function P_(n){if(!n)return null;const t=n.filter(Pb);return 0==t.length?null:function(e){return kb(Fb(e,t).map(XE)).pipe((0,Ke.U)(ik))}}function Lb(n){return null!=n?P_(cm(n)):null}function Ta(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ff(n){return n._rawValidators}function es(n){return n._rawAsyncValidators}function sc(n){return n?Array.isArray(n)?n:[n]:[]}function Dd(n,t){return Array.isArray(n)?n.includes(t):n===t}function yo(n,t){const e=sc(t);return sc(n).forEach(r=>{Dd(e,r)||e.push(r)}),e}function F_(n,t){return sc(t).filter(e=>!Dd(n,e))}class Sd{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Nb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Lb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class gr extends Sd{get formDirective(){return null}get path(){return null}}class Ms extends Sd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Td{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hl=(()=>{class n extends Td{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ms,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),Ad=(()=>{class n extends Td{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(gr,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();function rD(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const Ub=!1,du="VALID",Id="INVALID",hu="PENDING",fm="DISABLED";function pf(n){return(mf(n)?n.validators:n)||null}function pm(n,t){return(mf(t)?t.asyncValidators:n)||null}function mf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Hb(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,Ub?function sD(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new s.vHH(1001,Ub?function Bb(n,t){return`Cannot find form control ${rD(n,t)}`}(t,e):"")}function Gb(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,Ub?function Vb(n,t){return`Must supply a value for form control ${rD(n,t)}`}(t,r):"")})}class gf{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===du}get invalid(){return this.status===Id}get pending(){return this.status==hu}get disabled(){return this.status===fm}get enabled(){return this.status!==fm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(yo(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(yo(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(F_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(F_(t,this._rawAsyncValidators))}hasValidator(t){return Dd(this._rawValidators,t)}hasAsyncValidator(t){return Dd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=hu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fm,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=du,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===du||this.status===hu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fm:du}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=hu,this._hasOwnPendingAsyncValidator=!0;const e=XE(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?fm:this.errors?Id:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hu)?hu:this._anyControlsHaveStatus(Id)?Id:du}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){mf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function L_(n){return Array.isArray(n)?Nb(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function oD(n){return Array.isArray(n)?Lb(n):n||null}(this._rawAsyncValidators)}}class fu extends gf{constructor(t,e,i){super(pf(e),pm(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Gb(this,!0,t),Object.keys(t).forEach(i=>{Hb(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class jb extends fu{}const pu=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>mm}),mm="always";function gm(n,t){return[...t.path,n]}function _f(n,t,e=mm){B_(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function lD(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zb(n,t)})}(n,t),function uD(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function cD(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zb(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function aD(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function _m(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),ym(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function yf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function B_(n,t){const e=ff(n);null!==t.validator?n.setValidators(Ta(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=es(n);null!==t.asyncValidator?n.setAsyncValidators(Ta(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();yf(t._rawValidators,r),yf(t._rawAsyncValidators,r)}function ym(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=ff(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=es(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return yf(t._rawValidators,i),yf(t._rawAsyncValidators,i),e}function zb(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function qb(n,t){B_(n,t)}function vm(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function U_(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function hD(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Ed?e=o:function hk(n){return Object.getPrototypeOf(n.constructor)===Cd}(o)?i=o:r=o}),r||i||e||null}const fk={provide:gr,useExisting:(0,s.Gpc)(()=>bm)},bf=(()=>Promise.resolve())();let bm=(()=>{class n extends gr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new fu({},Nb(e),Lb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){bf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),_f(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){bf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){bf.then(()=>{const i=this._findContainer(e.path),r=new fu({});qb(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){bf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){bf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,U_(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_s,10),s.Y36(rc,10),s.Y36(pu,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([fk]),s.qOj]}),n})();function _r(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Yb(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const wm=class extends gf{constructor(t=null,e,i){super(pf(e),pm(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Yb(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_r(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_r(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Yb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},_k={provide:Ms,useExisting:(0,s.Gpc)(()=>Kb)},Wb=(()=>Promise.resolve())();let Kb=(()=>{class n extends Ms{constructor(e,i,r,o,a,d){super(),this._changeDetectorRef=a,this.callSetDisabledState=d,this.control=new wm,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=hD(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),vm(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_f(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Wb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);Wb.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?gm(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(gr,9),s.Y36(_s,10),s.Y36(rc,10),s.Y36(dl,10),s.Y36(s.sBO,8),s.Y36(pu,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([_k]),s.qOj,s.TTD]}),n})(),H_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Ia=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Xb=new s.OlP("NgModelWithFormControlWarning"),bk={provide:Ms,useExisting:(0,s.Gpc)(()=>e0)};let e0=(()=>{class n extends Ms{set isDisabled(e){}constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new s.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=hD(0,r)}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&_m(i,this,!1),_f(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}vm(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&_m(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(_s,10),s.Y36(rc,10),s.Y36(dl,10),s.Y36(Xb,8),s.Y36(pu,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s._Bn([bk]),s.qOj,s.TTD]}),n})();const wk={provide:gr,useExisting:(0,s.Gpc)(()=>mu)};let mu=(()=>{class n extends gr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ym(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return _f(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){_m(e.control||null,e,!1),function EV(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,U_(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(_m(i||null,e),(n=>n instanceof wm)(r)&&(_f(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);qb(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function V_(n,t){return ym(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){B_(this.form,this),this._oldForm&&ym(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_s,10),s.Y36(rc,10),s.Y36(pu,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([wk]),s.qOj,s.TTD]}),n})();const yD={provide:Ms,useExisting:(0,s.Gpc)(()=>G_)};let G_=(()=>{class n extends Ms{set isDisabled(e){}constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=hD(0,o)}ngOnChanges(e){this._added||this._setUpControl(),vm(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return gm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(gr,13),s.Y36(_s,10),s.Y36(rc,10),s.Y36(dl,10),s.Y36(Xb,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([yD]),s.qOj,s.TTD]}),n})();let gu=(()=>{class n{constructor(){this._validator=lm}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):lm,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const Ak={provide:_s,useExisting:(0,s.Gpc)(()=>c0),multi:!0};let c0=(()=>{class n extends gu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function o0(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>QE(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[s._Bn([Ak]),s.qOj]}),n})(),u0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ia]}),n})();class d0 extends gf{constructor(t,e,i){super(pf(e),pm(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Gb(this,!1,t),t.forEach((i,r)=>{Hb(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function h0(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Z_=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return h0(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new fu(r,o)}record(e,i=null){const r=this._reduceControls(e);return new jb(r,i)}control(e,i,r){let o={};return this.useNonNullable?(h0(i)?o=i:(o.validators=i,o.asyncValidators=r),new wm(e,{...o,nonNullable:!0})):new wm(e,i,r)}array(e,i,r){const o=e.map(a=>this._createControl(a));return new d0(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof wm||e instanceof gf?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:pu,useValue:e.callSetDisabledState??mm}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[u0]}),n})(),kd=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Xb,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:pu,useValue:e.callSetDisabledState??mm}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[u0]}),n})();const Fk=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),wf=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let kV=0;const p0=ub(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Ze.x}});let Rd=(()=>{class n extends p0{get disabled(){return this._disabled}set disabled(e){this._disabled=Dt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(R_.required)??!1}set required(e){this._required=Dt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Qc().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Dt(e)}constructor(e,i,r,o,a,d,f,m,v,D){super(d,o,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=m,this._formField=D,this._uid="mat-input-"+kV++,this.focused=!1,this.stateChanges=new Ze.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(B=>Qc().has(B)),this._iOSKeyupListener=B=>{const q=B.target;!q.value&&0===q.selectionStart&&0===q.selectionEnd&&(q.setSelectionRange(1,1),q.setSelectionRange(0,0))};const A=this._elementRef.nativeElement,R=A.nodeName.toLowerCase();this._inputValueAccessor=f||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&v.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===R,this._isTextarea="textarea"===R,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){wf.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Vn),s.Y36(Ms,10),s.Y36(bm,8),s.Y36(mu,8),s.Y36(tm),s.Y36(Fk,10),s.Y36(M_),s.Y36(s.R0b),s.Y36(df,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),s.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),s.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:Sb,useExisting:n}]),s.qOj,s.TTD]}),n})(),MD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Tn,hf,hf,X1,Tn]}),n})();const m0=(0,G(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function kt(n){return new pn.y(t=>{(0,Ss.Xf)(n()).subscribe(t)})}var Em=G(9635),ks=G(576);function xf(n,t){const e=(0,ks.m)(n)?n:()=>n,i=r=>r.error(e());return new pn.y(t?r=>t.schedule(i,0,r):i)}function _u(){return(0,qn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,$n.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class W_ extends pn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,qn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new x.w0;const e=this.getSubject();t.add(this.source.subscribe((0,$n.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=x.w0.EMPTY)}return t}refCount(){return _u()(this)}}function _n(n,t){return(0,qn.e)((e,i)=>{let r=null,o=0,a=!1;const d=()=>a&&!r&&i.complete();e.subscribe((0,$n.x)(i,f=>{r?.unsubscribe();let m=0;const v=o++;(0,Ss.Xf)(n(f,v)).subscribe(r=(0,$n.x)(i,D=>i.next(t?t(f,D,v,m++):D),()=>{r=null,d()}))},()=>{a=!0,d()}))})}var nr=G(5577);function mi(n){return(0,qn.e)((t,e)=>{let i=!1;t.subscribe((0,$n.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Nk(n=RD){return(0,qn.e)((t,e)=>{let i=!1;t.subscribe((0,$n.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function RD(){return new m0}function fl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Nn((r,o)=>n(r,o,i)):tf.y,Ct(1),e?mi(t):Nk(()=>new m0))}function yu(n,t){return(0,ks.m)(t)?(0,nr.z)(n,t,1):(0,nr.z)(n,1)}function pl(n){return(0,qn.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,$n.x)(e,void 0,void 0,a=>{o=(0,Ss.Xf)(n(a,pl(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function oc(n,t){return(0,qn.e)(function OD(n,t,e,i,r){return(o,a)=>{let d=e,f=t,m=0;o.subscribe((0,$n.x)(a,v=>{const D=m++;f=d?n(f,v,D):(d=!0,v),i&&a.next(f)},r&&(()=>{d&&a.next(f),a.complete()})))}}(n,t,arguments.length>=2,!0))}function K_(n){return n<=0?()=>Xl.E:(0,qn.e)((t,e)=>{let i=[];t.subscribe((0,$n.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function PD(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Nn((r,o)=>n(r,o,i)):tf.y,K_(1),e?mi(t):Nk(()=>new m0))}function FD(n,t=!1){return(0,qn.e)((e,i)=>{let r=0;e.subscribe((0,$n.x)(i,o=>{const a=n(o,r++);(a||t)&&i.next(o),!a&&i.complete()}))})}function ND(n){return(0,Ke.U)(()=>n)}function vu(n){return(0,qn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const an="primary",Dm=Symbol("RouteTitle");class Lk{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ac(n){return new Lk(n)}function LD(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],d=n[o];if(a.startsWith(":"))r[a.substring(1)]=d;else if(a!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ka(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!VD(n[r],t[r]))return!1;return!0}function VD(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Cf(n){return Array.prototype.concat.apply([],n)}function Ef(n){return n.length>0?n[n.length-1]:null}function ts(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function bu(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,U.D)(Promise.resolve(n)):j(n)}const Sm=!1,UD={exact:function jD(n,t,e){if(!Pd(n.segments,t.segments)||!_0(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!jD(n.children[i],t.children[i],e))return!1;return!0},subset:Vk},g0={exact:function GD(n,t){return ka(n,t)},subset:function Bk(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>VD(n[e],t[e]))},ignored:()=>!0};function HD(n,t,e){return UD[e.paths](n.root,t.root,e.matrixParams)&&g0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Vk(n,t,e){return Uk(n,t,t.segments,e)}function Uk(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Pd(r,e)||t.hasChildren()||!_0(r,e,i))}if(n.segments.length===e.length){if(!Pd(n.segments,e)||!_0(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Vk(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Pd(n.segments,r)&&_0(n.segments,r,i)&&n.children[an])&&Uk(n.children[an],t,o,i)}}function _0(n,t,e){return t.every((i,r)=>g0[e](n[r].parameters,i.parameters))}class Od{constructor(t=new dn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ac(this.queryParams)),this._queryParamMap}toString(){return Gk.serialize(this)}}class dn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ts(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Q_(this)}}class wu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ac(this.parameters)),this._parameterMap}toString(){return $D(this)}}function Pd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let lc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new y0},providedIn:"root"}),n})();class y0{parse(t){const e=new KD(t);return new Od(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Tm(t.root,!0)}`,i=function zk(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${J_(e)}=${J_(r)}`).join("&"):`${J_(e)}=${J_(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function qD(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Gk=new y0;function Q_(n){return n.segments.map(t=>$D(t)).join("/")}function Tm(n,t){if(!n.hasChildren())return Q_(n);if(t){const e=n.children[an]?Tm(n.children[an],!1):"",i=[];return ts(n.children,(r,o)=>{o!==an&&i.push(`${o}:${Tm(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function zD(n,t){let e=[];return ts(n.children,(i,r)=>{r===an&&(e=e.concat(t(i,r)))}),ts(n.children,(i,r)=>{r!==an&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===an?[Tm(n.children[an],!1)]:[`${r}:${Tm(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[an]?`${Q_(n)}/${e[0]}`:`${Q_(n)}/(${e.join("//")})`}}function jk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function J_(n){return jk(n).replace(/%3B/gi,";")}function v0(n){return jk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X_(n){return decodeURIComponent(n)}function Df(n){return X_(n.replace(/\+/g,"%20"))}function $D(n){return`${v0(n.path)}${function YD(n){return Object.keys(n).map(t=>`;${v0(t)}=${v0(n[t])}`).join("")}(n.parameters)}`}const ZD=/^[^\/()?;=#]+/;function ey(n){const t=n.match(ZD);return t?t[0]:""}const WD=/^[^=?&#]+/,b0=/^[^&#]+/;class KD{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[an]=new dn(t,e)),i}parseSegment(){const t=ey(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,Sm);return this.capture(t),new wu(X_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ey(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ey(this.remaining);r&&(i=r,this.capture(i))}t[X_(e)]=X_(i)}parseQueryParam(t){const e=function qk(n){const t=n.match(WD);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function $k(n){const t=n.match(b0);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=Df(e),o=Df(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ey(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,Sm);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=an);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[an]:new dn([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,Sm)}}function ty(n){return n.segments.length>0?new dn([],{[an]:n}):n}function ny(n){const t={};for(const i of Object.keys(n.children)){const o=ny(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Yk(n){if(1===n.numberOfChildren&&n.children[an]){const t=n.children[an];return new dn(n.segments.concat(t.segments),t.children)}return n}(new dn(n.segments,t))}function Fd(n){return n instanceof Od}const Am=!1;function Zk(n,t,e,i,r){if(0===e.length)return Sf(t.root,t.root,t.root,i,r);const o=function eS(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new XD(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const d={};return ts(o.outlets,(f,m)=>{d[m]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,o]},[]);return new XD(e,t,i)}(e);return o.toRoot()?Sf(t.root,t.root,new dn([],{}),i,r):function a(f){const m=function Wk(n,t,e,i){if(n.isAbsolute)return new Nd(t.root,!0,0);if(-1===i)return new Nd(e,e===t.root,0);return function nS(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,Am&&"Invalid number of '../'");r=i.segments.length}return new Nd(i,!1,r-o)}(e,i+(Im(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,f),v=m.processChildren?Tf(m.segmentGroup,m.index,o.commands):x0(m.segmentGroup,m.index,o.commands);return Sf(t.root,m.segmentGroup,v,i,r)}(n.snapshot?._lastPathIndex)}function Im(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Mm(n){return"object"==typeof n&&null!=n&&n.outlets}function Sf(n,t,e,i,r){let a,o={};i&&ts(i,(f,m)=>{o[m]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`}),a=n===t?e:JD(n,t,e);const d=ty(ny(a));return new Od(d,o,r)}function JD(n,t,e){const i={};return ts(n.children,(r,o)=>{i[o]=r===t?e:JD(r,t,e)}),new dn(n.segments,i)}class XD{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Im(i[0]))throw new s.vHH(4003,Am&&"Root segment cannot have matrix parameters");const r=i.find(Mm);if(r&&r!==Ef(i))throw new s.vHH(4004,Am&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function x0(n,t,e){if(n||(n=new dn([],{})),0===n.segments.length&&n.hasChildren())return Tf(n,t,e);const i=function Kk(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const a=n.segments[r],d=e[i];if(Mm(d))break;const f=`${d}`,m=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&m&&"object"==typeof m&&void 0===m.outlets){if(!iy(f,m,a))return o;i+=2}else{if(!iy(f,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new dn(n.segments.slice(0,i.pathIndex),{});return o.children[an]=new dn(n.segments.slice(i.pathIndex),n.children),Tf(o,0,r)}return i.match&&0===r.length?new dn(n.segments,{}):i.match&&!n.hasChildren()?km(n,t,e):i.match?Tf(n,0,r):km(n,t,e)}function Tf(n,t,e){if(0===e.length)return new dn(n.segments,{});{const i=function iS(n){return Mm(n[0])?n[0].outlets:{[an]:n}}(e),r={};if(!i[an]&&n.children[an]&&1===n.numberOfChildren&&0===n.children[an].segments.length){const o=Tf(n.children[an],t,e);return new dn(n.segments,o.children)}return ts(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[a]=x0(n.children[a],t,o))}),ts(n.children,(o,a)=>{void 0===i[a]&&(r[a]=o)}),new dn(n.segments,r)}}function km(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Mm(o)){const f=C0(o.outlets);return new dn(i,f)}if(0===r&&Im(e[0])){i.push(new wu(n.segments[t].path,E0(e[0]))),r++;continue}const a=Mm(o)?o.outlets[an]:`${o}`,d=r<e.length-1?e[r+1]:null;a&&d&&Im(d)?(i.push(new wu(a,E0(d))),r+=2):(i.push(new wu(a,{})),r++)}return new dn(i,{})}function C0(n){const t={};return ts(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=km(new dn([],{}),0,e))}),t}function E0(n){const t={};return ts(n,(e,i)=>t[i]=`${e}`),t}function iy(n,t,e){return n==e.path&&ka(t,e.parameters)}const Rm="imperative";class ml{constructor(t,e){this.id=t,this.url=e}}class Om extends ml{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ld extends ml{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pm extends ml{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cc extends ml{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class ry extends ml{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qk extends ml{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PV extends ml{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rS extends ml{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class D0 extends ml{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jk extends ml{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S0{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xk{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sS{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T0{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oS{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aS{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A0{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let tR=(()=>{class n{createUrlTree(e,i,r,o,a,d){return Zk(e||i.root,r,o,a,d)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),iR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){return tR.\u0275fac(t)},providedIn:"root"}),n})();class I0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=cS(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=cS(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=sy(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return sy(t,this._root).map(e=>e.value)}}function cS(n,t){if(n===t.value)return t;for(const e of t.children){const i=cS(n,e);if(i)return i}return null}function sy(n,t){if(n===t.value)return[t];for(const e of t.children){const i=sy(n,e);if(i.length)return i.unshift(t),i}return[]}class uc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Af(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class rR extends I0{constructor(t,e){super(t),this.snapshot=e,k0(this,t)}toString(){return this.snapshot.toString()}}function uS(n,t){const e=function sR(n,t){const a=new oy([],{},{},"",{},an,t,null,n.root,-1,{});return new hS("",new uc(a,[]))}(n,t),i=new S([new wu("",{})]),r=new S({}),o=new S({}),a=new S({}),d=new S(""),f=new gl(i,r,a,d,o,an,t,e.root);return f.snapshot=e.root,new rR(new uc(f,[]),e)}class gl{constructor(t,e,i,r,o,a,d,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=d,this.title=this.data?.pipe((0,Ke.U)(m=>m[Dm]))??j(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ke.U)(t=>ac(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ke.U)(t=>ac(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function M0(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function dS(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class oy{get title(){return this.data?.[Dm]}constructor(t,e,i,r,o,a,d,f,m,v,D){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=d,this.routeConfig=f,this._urlSegment=m,this._lastPathIndex=v,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ac(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ac(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hS extends I0{constructor(t,e){super(e),this.url=t,k0(this,e)}toString(){return fS(this._root)}}function k0(n,t){t.value._routerState=n,t.children.forEach(e=>k0(n,e))}function fS(n){const t=n.children.length>0?` { ${n.children.map(fS).join(", ")} } `:"";return`${n.value}${t}`}function R0(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ka(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ka(t.params,e.params)||n.params.next(e.params),function BD(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ka(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ka(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function O0(n,t){const e=ka(n.params,t.params)&&function Hk(n,t){return Pd(n,t)&&n.every((e,i)=>ka(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||O0(n.parent,t.parent))}function dc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function pS(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return dc(n,i,r);return dc(n,i)})}(n,t,e);return new uc(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(d=>dc(n,d)),a}}const i=function mS(n){return new gl(new S(n.url),new S(n.params),new S(n.queryParams),new S(n.fragment),new S(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>dc(n,o));return new uc(i,r)}}const ay="ngNavigationCancelingError";function P0(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Fd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=F0(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function F0(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[ay]=!0,i.cancellationCode=t,e&&(i.url=e),i}function N0(n){return gS(n)&&Fd(n.url)}function gS(n){return n&&n[ay]}class FV{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new If,this.attachRef=null}}let If=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new FV,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fm=!1;let ly=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=an,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(If),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,Fm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,Fm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,Fm);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,Fm);this._activatedRoute=e;const r=this.location,a=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new aR(e,d,r.injector);if(i&&function lR(n){return!!n.resolveComponentFactory}(i)){const m=i.resolveComponentFactory(a);this.activated=r.createComponent(m,r.length,f)}else this.activated=r.createComponent(a,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class aR{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===gl?this.route:t===If?this.childContexts:this.parent.get(t,e)}}let Bd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[ly],encapsulation:2}),n})();function _S(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Mf(n){const t=n.children&&n.children.map(Mf),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==an&&(e.component=Bd),e}function Rs(n){return n.outlet||an}function vS(n,t){const e=n.filter(i=>Rs(i)===t);return e.push(...n.filter(i=>Rs(i)!==t)),e}function Nm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class wS{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),R0(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Af(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),ts(r,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Af(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Af(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Af(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new aS(o.value.snapshot))}),t.children.length&&this.forwardEvent(new T0(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(R0(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(d.contexts),a.attachRef=d.componentRef,a.route=d.route.value,a.outlet&&a.outlet.attach(d.componentRef,d.route.value),R0(d.route.value),this.activateChildRoutes(t,null,a.children)}else{const d=Nm(r.snapshot),f=d?.get(s._Vd)??null;a.attachRef=null,a.route=r,a.resolver=f,a.injector=d,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class cy{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Lm{constructor(t,e){this.component=t,this.route=e}}function B0(n,t,e){const i=n._root;return Hd(i,t?t._root:null,e,[i.value])}function Ud(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function Hd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Af(t);return n.children.forEach(a=>{(function U0(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const f=function hR(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Pd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Pd(n.url,t.url)||!ka(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!O0(n,t)||!ka(n.queryParams,t.queryParams);default:return!O0(n,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new cy(i)):(o.data=a.data,o._resolvedData=a._resolvedData),Hd(n,t,o.component?d?d.children:null:e,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Lm(d.outlet.component,a))}else a&&Bm(t,d,r),r.canActivateChecks.push(new cy(i)),Hd(n,null,o.component?d?d.children:null:e,i,r)})(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),ts(o,(a,d)=>Bm(a,e.getContext(d),r)),r}function Bm(n,t,e){const i=Af(n),r=n.value;ts(i,(o,a)=>{Bm(o,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new Lm(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Vm(n){return"function"==typeof n}function uy(n){return n instanceof m0||"EmptyError"===n?.name}const Um=Symbol("INITIAL_VALUE");function kf(){return _n(n=>gs(n.map(t=>t.pipe(Ct(1),tr(Um)))).pipe((0,Ke.U)(t=>{for(const e of t)if(!0!==e){if(e===Um)return Um;if(!1===e||e instanceof Od)return e}return!0}),Nn(t=>t!==Um),Ct(1)))}function dy(n){return(0,Em.z)((0,Fn.b)(t=>{if(Fd(t))throw P0(0,t)}),(0,Ke.U)(t=>!0===t))}const G0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hy(n,t,e,i,r){const o=j0(n,t,e);return o.matched?function Hm(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?j(r.map(a=>{const d=Ud(a,n);return bu(function DS(n){return n&&Vm(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))})).pipe(kf(),dy()):j(!0)}(i=_S(t,i),t,e).pipe((0,Ke.U)(a=>!0===a?o:{...G0})):j(o)}function j0(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...G0}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||LD)(e,n,t);if(!r)return{...G0};const o={};ts(r.posParams,(d,f)=>{o[f]=d.path});const a=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Gm(n,t,e,i){if(e.length>0&&function bR(n,t,e){return e.some(i=>jm(n,t,i)&&Rs(i)!==an)}(n,e,i)){const o=new dn(t,function vR(n,t,e,i){const r={};r[an]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Rs(o)!==an){const a=new dn([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[Rs(o)]=a}return r}(n,t,i,new dn(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function z0(n,t,e){return e.some(i=>jm(n,t,i))}(n,e,i)){const o=new dn(n.segments,function yR(n,t,e,i,r){const o={};for(const a of i)if(jm(n,e,a)&&!r[Rs(a)]){const d=new dn([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,o[Rs(a)]=d}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new dn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function jm(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function q0(n,t,e,i){return!!(Rs(n)===i||i!==an&&jm(t,e,n))&&("**"===n.path||j0(t,n,e).matched)}function zm(n,t,e){return 0===t.length&&!n.children[e]}const Of=!1;class $0{constructor(t){this.segmentGroup=t||null}}class Y0{constructor(t){this.urlTree=t}}function qm(n){return xf(new $0(n))}function Z0(n){return xf(new Y0(n))}class W0{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Gm(this.urlTree.root,[],[],this.config).segmentGroup,e=new dn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,an).pipe((0,Ke.U)(o=>this.createUrlTree(ny(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pl(o=>{if(o instanceof Y0)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof $0?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,an).pipe((0,Ke.U)(r=>this.createUrlTree(ny(r),t.queryParams,t.fragment))).pipe(pl(r=>{throw r instanceof $0?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,Of)}createUrlTree(t,e,i){const r=ty(t);return new Od(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Ke.U)(o=>new dn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,U.D)(r).pipe(yu(o=>{const a=i.children[o],d=vS(e,o);return this.expandSegmentGroup(t,d,a,o).pipe((0,Ke.U)(f=>({segment:f,outlet:o})))}),oc((o,a)=>(o[a.outlet]=a.segment,o),{}),PD())}expandSegment(t,e,i,r,o,a){return(0,U.D)(i).pipe(yu(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,o,a).pipe(pl(m=>{if(m instanceof $0)return j(null);throw m}))),fl(d=>!!d),pl((d,f)=>{if(uy(d))return zm(e,r,o)?j(new dn([],{})):qm(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,o,a,d){return q0(r,e,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,a):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a):qm(e):qm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Z0(o):this.lineralizeSegments(i,o).pipe((0,nr.z)(a=>{const d=new dn(a,{});return this.expandSegment(t,d,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){const{matched:d,consumedSegments:f,remainingSegments:m,positionalParamSegments:v}=j0(e,r,o);if(!d)return qm(e);const D=this.applyRedirectCommands(f,r.redirectTo,v);return r.redirectTo.startsWith("/")?Z0(D):this.lineralizeSegments(r,D).pipe((0,nr.z)(A=>this.expandSegment(t,e,i,A.concat(m),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=_S(i,t),i.loadChildren?(i._loadedRoutes?j({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Ke.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new dn(r,{})))):j(new dn(r,{}))):hy(e,i,r,t).pipe(_n(({matched:a,consumedSegments:d,remainingSegments:f})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe((0,nr.z)(v=>{const D=v.injector??t,A=v.routes,{segmentGroup:R,slicedSegments:B}=Gm(e,d,f,A),q=new dn(R.segments,R.children);if(0===B.length&&q.hasChildren())return this.expandChildren(D,A,q).pipe((0,Ke.U)(Le=>new dn(d,Le)));if(0===A.length&&0===B.length)return j(new dn(d,{}));const W=Rs(i)===o;return this.expandSegment(D,q,A,B,W?an:o,!0).pipe((0,Ke.U)(Re=>new dn(d.concat(Re.segments),Re.children)))})):qm(e)))}getChildConfig(t,e,i){return e.children?j({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?j({routes:e._loadedRoutes,injector:e._loadedInjector}):function AS(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?j(!0):j(r.map(a=>{const d=Ud(a,n);return bu(function xS(n){return n&&Vm(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))})).pipe(kf(),dy())}(t,e,i).pipe((0,nr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Fn.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function wR(n){return xf(F0(Of,3))}())):j({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return j(i);if(r.numberOfChildren>1||!r.children[an])return t.redirectTo,xf(new s.vHH(4e3,Of));r=r.children[an]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Od(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ts(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[o]=e[d]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let a={};return ts(e.children,(d,f)=>{a[f]=this.createSegmentGroup(t,d,i,r)}),new dn(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,Of);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class UV{}class ER{constructor(t,e,i,r,o,a,d){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=a,this.urlSerializer=d}recognize(){const t=Gm(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,an).pipe((0,Ke.U)(e=>{if(null===e)return null;const i=new oy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},an,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new uc(i,e),o=new hS(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=M0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,U.D)(Object.keys(i.children)).pipe(yu(r=>{const o=i.children[r],a=vS(e,r);return this.processSegmentGroup(t,a,o,r)}),oc((r,o)=>r&&o?(r.push(...o),r):null),FD(r=>null!==r),mi(null),PD(),(0,Ke.U)(r=>{if(null===r)return null;const o=K0(r);return function kS(n){n.sort((t,e)=>t.value.outlet===an?-1:e.value.outlet===an?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,U.D)(e).pipe(yu(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,o)),fl(a=>!!a),pl(a=>{if(uy(a))return zm(i,r,o)?j([]):j(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!q0(e,i,r,o))return j(null);let a;if("**"===e.path){const d=r.length>0?Ef(r).parameters:{},f=FS(i)+r.length;a=j({snapshot:new oy(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,NS(e),Rs(e),e.component??e._loadedComponent??null,e,PS(i),f,Q0(e)),consumedSegments:[],remainingSegments:[]})}else a=hy(i,e,r,t).pipe((0,Ke.U)(({matched:d,consumedSegments:f,remainingSegments:m,parameters:v})=>{if(!d)return null;const D=FS(i)+f.length;return{snapshot:new oy(f,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,NS(e),Rs(e),e.component??e._loadedComponent??null,e,PS(i),D,Q0(e)),consumedSegments:f,remainingSegments:m}}));return a.pipe(_n(d=>{if(null===d)return j(null);const{snapshot:f,consumedSegments:m,remainingSegments:v}=d;t=e._injector??t;const D=e._loadedInjector??t,A=function RS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:R,slicedSegments:B}=Gm(i,m,v,A.filter(W=>void 0===W.redirectTo));if(0===B.length&&R.hasChildren())return this.processChildren(D,A,R).pipe((0,Ke.U)(W=>null===W?null:[new uc(f,W)]));if(0===A.length&&0===B.length)return j([new uc(f,[])]);const q=Rs(e)===o;return this.processSegment(D,A,R,B,q?an:o).pipe((0,Ke.U)(W=>null===W?null:[new uc(f,W)]))}))}}function DR(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function K0(n){const t=[],e=new Set;for(const i of n){if(!DR(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=K0(i.children);t.push(new uc(i.value,r))}return t.filter(i=>!e.has(i))}function PS(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function FS(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function NS(n){return n.data||{}}function Q0(n){return n.resolve||{}}function J0(n){return"string"==typeof n.title||null===n.title}function US(n){return _n(t=>{const e=n(t);return e?(0,U.D)(e).pipe((0,Ke.U)(()=>t)):j(t)})}const $m=new s.OlP("ROUTES");let HS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return j(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=bu(e.loadComponent()).pipe((0,Ke.U)(MR),(0,Fn.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),vu(()=>{this.componentLoaders.delete(e)})),r=new W_(i,()=>new Ze.x).pipe(_u());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return j({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ke.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,m,v=!1;Array.isArray(d)?m=d:(f=d.create(e).injector,m=Cf(f.get($m,[],s.XFs.Self|s.XFs.Optional)));return{routes:m.map(Mf),injector:f}}),vu(()=>{this.childrenLoaders.delete(i)})),a=new W_(o,()=>new Ze.x).pipe(_u());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return bu(e()).pipe((0,Ke.U)(MR),(0,nr.z)(i=>i instanceof s.YKP||Array.isArray(i)?j(i):(0,U.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MR(n){return function GV(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ew=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ze.x,this.configLoader=(0,s.f3M)(HS),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(lc),this.rootContexts=(0,s.f3M)(If),this.navigationId=0,this.afterPreactivation=()=>j(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Xk(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new S0(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new S({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rm,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Nn(i=>0!==i.id),(0,Ke.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),_n(i=>{let r=!1,o=!1;return j(i).pipe((0,Fn.b)(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_n(a=>{const d=e.browserUrlTree.toString(),f=!e.navigated||a.extractedUrl.toString()!==d||d!==e.currentUrlTree.toString();if(!f&&"reload"!==(a.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const v="";return this.events.next(new cc(a.id,e.serializeUrl(i.rawUrl),v,0)),e.rawUrlTree=a.rawUrl,a.resolve(null),Xl.E}if(e.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Ym(a.source)&&(e.browserUrlTree=a.extractedUrl),j(a).pipe(_n(v=>{const D=this.transitions?.getValue();return this.events.next(new Om(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),D!==this.transitions?.getValue()?Xl.E:Promise.resolve(v)}),function VV(n,t,e,i){return _n(r=>function IS(n,t,e,i,r){return new W0(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Ke.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Fn.b)(v=>{this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects},i.urlAfterRedirects=v.urlAfterRedirects}),function LS(n,t,e,i,r){return(0,nr.z)(o=>function CR(n,t,e,i,r,o,a="emptyOnly"){return new ER(n,t,e,i,r,a,o).recognize().pipe(_n(d=>null===d?function xR(n){return new pn.y(t=>t.error(n))}(new UV):j(d)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,Ke.U)(a=>({...o,targetSnapshot:a}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Fn.b)(v=>{if(i.targetSnapshot=v.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!v.extras.skipLocationChange){const A=e.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);e.setBrowserUrl(A,v)}e.browserUrlTree=v.urlAfterRedirects}const D=new Qk(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(D)}));if(f&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:v,extractedUrl:D,source:A,restoredState:R,extras:B}=a,q=new Om(v,this.urlSerializer.serialize(D),A,R);this.events.next(q);const W=uS(D,this.rootComponentType).snapshot;return j(i={...a,targetSnapshot:W,urlAfterRedirects:D,extras:{...B,skipLocationChange:!1,replaceUrl:!1}})}{const v="";return this.events.next(new cc(a.id,e.serializeUrl(i.extractedUrl),v,1)),e.rawUrlTree=a.rawUrl,a.resolve(null),Xl.E}}),(0,Fn.b)(a=>{const d=new PV(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(d)}),(0,Ke.U)(a=>i={...a,guards:B0(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function SS(n,t){return(0,nr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?j({...e,guardsResult:!0}):function TS(n,t,e,i){return(0,U.D)(n).pipe((0,nr.z)(r=>function BV(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?j(o.map(d=>{const f=Nm(t)??r,m=Ud(d,f);return bu(function ES(n){return n&&Vm(n.canDeactivate)}(m)?m.canDeactivate(n,t,e,i):f.runInContext(()=>m(n,t,e,i))).pipe(fl())})).pipe(kf()):j(!0)}(r.component,r.route,e,t,i)),fl(r=>!0!==r,!0))}(a,i,r,n).pipe((0,nr.z)(d=>d&&function fR(n){return"boolean"==typeof n}(d)?function Os(n,t,e,i){return(0,U.D)(t).pipe(yu(r=>bd(function gR(n,t){return null!==n&&t&&t(new sS(n)),j(!0)}(r.route.parent,i),function Rf(n,t){return null!==n&&t&&t(new oS(n)),j(!0)}(r.route,i),function LV(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function V0(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>kt(()=>j(a.guards.map(f=>{const m=Nm(a.node)??e,v=Ud(f,m);return bu(function CS(n){return n&&Vm(n.canActivateChild)}(v)?v.canActivateChild(i,n):m.runInContext(()=>v(i,n))).pipe(fl())})).pipe(kf())));return j(o).pipe(kf())}(n,r.path,e),function _R(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return j(!0);const r=i.map(o=>kt(()=>{const a=Nm(t)??e,d=Ud(o,a);return bu(function H0(n){return n&&Vm(n.canActivate)}(d)?d.canActivate(t,n):a.runInContext(()=>d(t,n))).pipe(fl())}));return j(r).pipe(kf())}(n,r.route,e))),fl(r=>!0!==r,!0))}(i,o,n,t):j(d)),(0,Ke.U)(d=>({...e,guardsResult:d})))})}(this.environmentInjector,a=>this.events.next(a)),(0,Fn.b)(a=>{if(i.guardsResult=a.guardsResult,Fd(a.guardsResult))throw P0(0,a.guardsResult);const d=new rS(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(d)}),Nn(a=>!!a.guardsResult||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),US(a=>{if(a.guards.canActivateChecks.length)return j(a).pipe((0,Fn.b)(d=>{const f=new D0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),_n(d=>{let f=!1;return j(d).pipe(function BS(n,t){return(0,nr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return j(e);let o=0;return(0,U.D)(r).pipe(yu(a=>function VS(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!J0(r)&&(o[Dm]=r.title),function TR(n,t,e,i){const r=function AR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return j({});const o={};return(0,U.D)(r).pipe((0,nr.z)(a=>function HV(n,t,e,i){const r=Nm(t)??i,o=Ud(n,r);return bu(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[a],t,e,i).pipe(fl(),(0,Fn.b)(d=>{o[a]=d}))),K_(1),ND(o),pl(a=>uy(a)?Xl.E:xf(a)))}(o,n,t,i).pipe((0,Ke.U)(a=>(n._resolvedData=a,n.data=M0(n,e).resolve,r&&J0(r)&&(n.data[Dm]=r.title),null)))}(a.route,i,n,t)),(0,Fn.b)(()=>o++),K_(1),(0,nr.z)(a=>o===r.length?j(e):Xl.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Fn.b)({next:()=>f=!0,complete:()=>{f||(e.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),(0,Fn.b)(d=>{const f=new Jk(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),US(a=>{const d=f=>{const m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe((0,Fn.b)(v=>{f.component=v}),(0,Ke.U)(()=>{})));for(const v of f.children)m.push(...d(v));return m};return gs(d(a.targetSnapshot.root)).pipe(mi(),Ct(1))}),US(()=>this.afterPreactivation()),(0,Ke.U)(a=>{const d=function oR(n,t,e){const i=dc(n,t._root,e?e._root:void 0);return new rR(i,t)}(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:d}}),(0,Fn.b)(a=>{e.currentUrlTree=a.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),e.routerState=a.targetRouterState,"deferred"===e.urlUpdateStrategy&&(a.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,a),e.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>(0,Ke.U)(i=>(new wS(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a)),Ct(1),(0,Fn.b)({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Ld(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),vu(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),pl(a=>{if(o=!0,gS(a)){N0(a)||(e.navigated=!0,e.restoreHistory(i,!0));const d=new Pm(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(d),N0(a)){const f=e.urlHandlingStrategy.merge(a.url,e.rawUrlTree),m={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Ym(i.source)};e.scheduleNavigation(f,Rm,null,m,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const d=new ry(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(d);try{i.resolve(e.errorHandler(a))}catch(f){i.reject(f)}}return Xl.E}))}))}cancelNavigationTransition(e,i,r){const o=new Pm(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ym(n){return n!==Rm}let kR=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===an);return i}getResolvedTitleForRoute(e){return e.data[Dm]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(GS)},providedIn:"root"}),n})(),GS=(()=>{class n extends kR{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(zS)},providedIn:"root"}),n})();class jS{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let zS=(()=>{class n extends jS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ff=new s.OlP("",{providedIn:"root",factory:()=>({})});let qS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(RR)},providedIn:"root"}),n})(),RR=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OR(n){throw n}function PR(n,t,e){return t.parse("/")}const FR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},py={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ir=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(Ff,{optional:!0})||{},this.errorHandler=this.options.errorHandler||OR,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||PR,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(qS),this.routeReuseStrategy=(0,s.f3M)(fy),this.urlCreationStrategy=(0,s.f3M)(iR),this.titleStrategy=(0,s.f3M)(kR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Cf((0,s.f3M)($m,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(ew),this.urlSerializer=(0,s.f3M)(lc),this.location=(0,s.f3M)(je),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Od,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=uS(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rm,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const f={...r};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const d=this.parseUrl(e);this.scheduleNavigation(d,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Mf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:d,preserveFragment:f}=i,m=f?this.currentUrlTree.fragment:a;let v=null;switch(d){case"merge":v={...this.currentUrlTree.queryParams,...o};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=o||null}return null!==v&&(v=this.removeEmptyProps(v)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,v,m??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Fd(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Rm,null,i)}navigate(e,i={skipLocationChange:!1}){return function zV(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...FR}:!1===i?{...py}:i,Fd(e))return HD(this.currentUrlTree,e,r);const o=this.parseUrl(e);return HD(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let d,f,m,v;return a?(d=a.resolve,f=a.reject,m=a.promise):m=new Promise((D,A)=>{d=D,f=A}),v="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:v,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:d,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(D=>Promise.reject(D))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tw=(()=>{class n{constructor(e,i,r,o,a,d){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ze.x;const f=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===f||"area"===f,this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof Ld&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ir),s.Y36(gl),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(lt))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class YS{}let LR=(()=>{class n{constructor(e,i,r,o,a){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Nn(e=>e instanceof Ld),yu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,d=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(d,o.children??o._loadedRoutes))}return(0,U.D)(r).pipe((0,nf.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):j(null);const o=r.pipe((0,nr.z)(a=>null===a?j(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,U.D)([o,a]).pipe((0,nf.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ir),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(YS),s.LFG(HS))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const my=new s.OlP("");let nw=(()=>{class n{constructor(e,i,r,o,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Om?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ld&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof A0&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new A0(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var Qo=(()=>((Qo=Qo||{})[Qo.COMPLETE=0]="COMPLETE",Qo[Qo.FAILED=1]="FAILED",Qo[Qo.REDIRECTING=2]="REDIRECTING",Qo))();const Nf=!1;function Gd(n,t){return{\u0275kind:n,\u0275providers:t}}const Qs=new s.OlP("",{providedIn:"root",factory:()=>!1});function QS(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(ir),r=n.get(gy);1===n.get(_y)&&i.initialNavigation(),n.get(iw,null,s.XFs.Optional)?.setUpPreloading(),n.get(my,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const gy=new s.OlP(Nf?"bootstrap done indicator":"",{factory:()=>new Ze.x}),_y=new s.OlP(Nf?"initial navigation":"",{providedIn:"root",factory:()=>1});function XS(){let n=[];return n=Nf?[{provide:s.Xts,multi:!0,useFactory:()=>{const t=(0,s.f3M)(ir);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function lS(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Gd(1,n)}const iw=new s.OlP(Nf?"router preloader":"");function UR(n){return Gd(0,[{provide:iw,useExisting:LR},{provide:YS,useExisting:n}])}const vo=!1,rw=new s.OlP(vo?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),sw=[je,{provide:lc,useClass:y0},ir,If,{provide:gl,useFactory:function WS(n){return n.routerState.root},deps:[ir]},HS,vo?{provide:Qs,useValue:!0}:[]];function tT(){return new s.PXZ("Router",ir)}let nT=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[sw,vo&&i?.enableTracing?XS().\u0275providers:[],{provide:$m,multi:!0,useValue:e},{provide:rw,useFactory:zR,deps:[[ir,new s.FiY,new s.tp0]]},{provide:Ff,useValue:i||{}},i?.useHash?{provide:lt,useClass:Be}:{provide:lt,useClass:Pe},{provide:my,useFactory:()=>{const n=(0,s.f3M)(Ac),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(Ff),i=(0,s.f3M)(ew),r=(0,s.f3M)(lc);return e.scrollOffset&&n.setOffset(e.scrollOffset),new nw(r,i,n,t,e)}},i?.preloadingStrategy?UR(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:tT},i?.initialNavigation?qR(i):[],[{provide:ow,useFactory:QS},{provide:s.tb,multi:!0,useExisting:ow}]]}}static forChild(e){return{ngModule:n,providers:[{provide:$m,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(rw,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bd]}),n})();function zR(n){if(vo&&n)throw new s.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function qR(n){return["disabled"===n.initialNavigation?Gd(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(ir);return()=>{t.setUpLocationChangeListener()}}},{provide:_y,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gd(2,[{provide:_y,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(Ce,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(ir),o=t.get(gy);(function Ra(n,t){n.events.pipe(Nn(e=>e instanceof Ld||e instanceof Pm||e instanceof ry||e instanceof cc),(0,Ke.U)(e=>e instanceof Ld||e instanceof cc?Qo.COMPLETE:e instanceof Pm&&(0===e.code||1===e.code)?Qo.REDIRECTING:Qo.FAILED),Nn(e=>e!==Qo.REDIRECTING),Ct(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(ew).afterPreactivation=()=>(i(!0),o.closed?j(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const ow=new s.OlP(vo?"Router Initializer":"");var Mn=G(4976);function yy(){return(0,qn.e)((n,t)=>{let e,i=!1;n.subscribe((0,$n.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var ot,jr=G(2011),vy=(G(9568),G(3942)),be=G(5861),ys=G(6881),Jo=G(4859),Xo=G(1877),H=G(2090),by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ea={},aw=aw||{},rn=by||self;function lw(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function wy(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var cw="closure_uid_"+(1e9*Math.random()>>>0),YR=0;function ZR(n,t,e){return n.call.apply(n.bind,arguments)}function QV(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Ps(n,t,e){return(Ps=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ZR:QV).apply(null,arguments)}function uw(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ns(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var a=Array(arguments.length-2),d=2;d<arguments.length;d++)a[d-2]=arguments[d];return t.prototype[r].apply(i,a)}}function zd(){this.s=this.s,this.o=this.o}zd.prototype.s=!1,zd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function rT(n){Object.prototype.hasOwnProperty.call(n,cw)&&n[cw]||(n[cw]=++YR)}(this)},zd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zm=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function dw(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function sT(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(lw(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let a=0;a<o;a++)n[r+a]=i[a]}else n.push(i)}}function is(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}is.prototype.h=function(){this.defaultPrevented=!0};var qd=function(){if(!rn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{rn.addEventListener("test",()=>{},t),rn.removeEventListener("test",()=>{},t)}catch{}return n}();function Lf(n){return/^[\s\xa0]*$/.test(n)}function Bf(){var n=rn.navigator;return n&&(n=n.userAgent)?n:""}function ta(n){return-1!=Bf().indexOf(n)}function hw(n){return hw[" "](n),n}hw[" "]=function(){};var gw,n,pw=ta("Opera"),fc=ta("Trident")||ta("MSIE"),KR=ta("Edge"),oT=KR||fc,QR=ta("Gecko")&&!(-1!=Bf().toLowerCase().indexOf("webkit")&&!ta("Edge"))&&!(ta("Trident")||ta("MSIE"))&&!ta("Edge"),JV=-1!=Bf().toLowerCase().indexOf("webkit")&&!ta("Edge");function mw(){var n=rn.document;return n?n.documentMode:void 0}e:{var _w="",yw=(n=Bf(),QR?/rv:([^\);]+)(\)|;)/.exec(n):KR?/Edge\/([\d\.]+)/.exec(n):fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):JV?/WebKit\/(\S+)/.exec(n):pw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(yw&&(_w=yw?yw[1]:""),fc){var vw=mw();if(null!=vw&&vw>parseFloat(_w)){gw=String(vw);break e}}gw=_w}var aT=rn.document&&fc&&(mw()||parseInt(gw,10))||void 0;function Wm(n,t){if(is.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(QR){e:{try{hw(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:JR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wm.$.h.call(this)}}ns(Wm,is);var JR={2:"touch",3:"pen",4:"mouse"};Wm.prototype.h=function(){Wm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vf="closure_listenable_"+(1e6*Math.random()|0),ww=0;function XV(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++ww,this.fa=this.ia=!1}function Km(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Qm(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function lT(n){const t={};for(const e in n)t[e]=n[e];return t}const eO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tO(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<eO.length;o++)e=eO[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Cy(n){this.src=n,this.g={},this.h=0}function xw(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=Zm(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Km(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Cw(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}Cy.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var a=Cw(n,t,i,r);return-1<a?(t=n[a],e||(t.ia=!1)):((t=new XV(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var cT="closure_lm_"+(1e6*Math.random()|0),uT={};function nO(n,t,e,i,r){if(i&&i.once)return sO(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)nO(n,t[o],e,i,r);return null}return e=c(e),n&&n[Vf]?n.O(t,e,wy(i)?!!i.capture:!!i,r):iO(n,t,e,!1,i,r)}function iO(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var a=wy(r)?!!r.capture:!!r,d=hT(n);if(d||(n[cT]=d=new Cy(n)),(e=d.add(t,e,i,a,o)).proxy)return e;if(i=function rO(){const t=eU;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)qd||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(aO(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function sO(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)sO(n,t[o],e,i,r);return null}return e=c(e),n&&n[Vf]?n.P(t,e,wy(i)?!!i.capture:!!i,r):iO(n,t,e,!0,i,r)}function oO(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)oO(n,t[o],e,i,r);else i=wy(i)?!!i.capture:!!i,e=c(e),n&&n[Vf]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Cw(o=n.g[t],e,i,r))&&(Km(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=hT(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Cw(t,e,i,r)),(e=-1<n?t[n]:null)&&dT(e))}function dT(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Vf])xw(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(aO(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=hT(t))?(xw(e,n),0==e.h&&(e.src=null,t[cT]=null)):Km(n)}}}function aO(n){return n in uT?uT[n]:uT[n]="on"+n}function eU(n,t){if(n.fa)n=!0;else{t=new Wm(t,this);var e=n.listener,i=n.la||n.src;n.ia&&dT(n),n=e.call(i,t)}return n}function hT(n){return(n=n[cT])instanceof Cy?n:null}var l="__closure_events_fn_"+(1e9*Math.random()>>>0);function c(n){return"function"==typeof n?n:(n[l]||(n[l]=function(t){return n.handleEvent(t)}),n[l])}function u(){zd.call(this),this.i=new Cy(this),this.S=this,this.J=null}function h(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new is(t,n);else if(t instanceof is)t.target=t.target||n;else{var r=t;tO(t=new is(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.g=e[o];r=p(a,i,!0,t)&&r}if(r=p(a=t.g=n,i,!0,t)&&r,r=p(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=p(a=t.g=e[o],i,!1,t)&&r}function p(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==e){var d=a.listener,f=a.la||a.src;a.ia&&xw(n.i,a),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}ns(u,zd),u.prototype[Vf]=!0,u.prototype.removeEventListener=function(n,t,e,i){oO(this,n,t,e,i)},u.prototype.N=function(){if(u.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Km(e[i]);delete n.g[t],n.h--}}this.J=null},u.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},u.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var _=rn.JSON.stringify;function E(){var n=$e;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var M=new class b{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new P,n=>n.reset());class P{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function z(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function X(n){rn.setTimeout(()=>{throw n},0)}let se,Ee=!1,$e=new class T{constructor(){this.h=this.g=null}add(t,e){const i=M.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},et=()=>{const n=rn.Promise.resolve(void 0);se=()=>{n.then(_t)}};var _t=()=>{for(var n;n=E();){try{n.h.call(n.g)}catch(e){X(e)}var t=M;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Ee=!1};function Pt(n,t){u.call(this),this.h=n||1,this.g=t||rn,this.j=Ps(this.qb,this),this.l=Date.now()}function Ne(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Zt(n,t,e){if("function"==typeof n)e&&(n=Ps(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ps(n.handleEvent,n)}return 2147483647<Number(t)?-1:rn.setTimeout(n,t||0)}function gi(n){n.g=Zt(()=>{n.g=null,n.i&&(n.i=!1,gi(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ns(Pt,u),(ot=Pt.prototype).ga=!1,ot.T=null,ot.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),h(this,"tick"),this.ga&&(Ne(this),this.start()))}},ot.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.N=function(){Pt.$.N.call(this),Ne(this),delete this.g};class rr extends zd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:gi(this)}N(){super.N(),this.g&&(rn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ey(n){zd.call(this),this.h=n,this.g={}}ns(Ey,zd);var tU=[];function nU(n,t,e,i){Array.isArray(e)||(e&&(tU[0]=e.toString()),e=tU);for(var r=0;r<e.length;r++){var o=nO(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function iU(n){Qm(n.g,function(t,e){this.g.hasOwnProperty(e)&&dT(t)},n),n.g={}}function fT(){this.g=!0}function Dy(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function fZ(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<r.length;a++)r[a]=""}}}return _(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Ey.prototype.N=function(){Ey.$.N.call(this),iU(this)},Ey.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fT.prototype.Ea=function(){this.g=!1},fT.prototype.info=function(){};var Jm={},rU=null;function pT(){return rU=rU||new u}function sU(n){is.call(this,Jm.Ta,n)}function Ew(n){const t=pT();h(t,new sU(t))}function oU(n,t){is.call(this,Jm.STAT_EVENT,n),this.stat=t}function bo(n){const t=pT();h(t,new oU(t,n))}function aU(n,t){is.call(this,Jm.Ua,n),this.size=t}function Dw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return rn.setTimeout(function(){n()},t)}Jm.Ta="serverreachability",ns(sU,is),Jm.STAT_EVENT="statevent",ns(oU,is),Jm.Ua="timingevent",ns(aU,is);var mT={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lO(){}function uU(){}lO.prototype.h=null;var dO,Sw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cO(){is.call(this,"d")}function uO(){is.call(this,"c")}function gT(){}function Tw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Ey(this),this.P=pZ,this.V=new Pt(n=oT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dU}function dU(){this.i=null,this.g="",this.h=!1}ns(cO,is),ns(uO,is),ns(gT,lO),gT.prototype.g=function(){return new XMLHttpRequest},gT.prototype.i=function(){return{}},dO=new gT;var pZ=45e3,hO={},_T={};function fO(n,t,e){n.L=1,n.v=wT($d(t)),n.s=e,n.S=!0,hU(n,null)}function hU(n,t){n.G=Date.now(),Aw(n),n.A=$d(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),xU(e.i,"t",i),n.C=0,e=n.l.J,n.h=new dU,n.g=$U(n.l,e?t:null,!n.s),0<n.O&&(n.M=new rr(Ps(n.Pa,n,n.g),n.O)),nU(n.U,n.g,"readystatechange",n.nb),t=n.I?lT(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Ew(),function uZ(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var a="",d=o.split("&"),f=0;f<d.length;f++){var m=d[f].split("=");if(1<m.length){var v=m[0];m=m[1];var D=v.split("_");a=2<=D.length&&"type"==D[1]?a+(v+"=")+m+"&":a+(v+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function fU(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function pU(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=mZ(n,e),r==_T){4==t&&(n.o=4,bo(14),i=!1),Dy(n.j,n.m,null,"[Incomplete Response]");break}if(r==hO){n.o=4,bo(15),Dy(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Dy(n.j,n.m,r,null),pO(n,r)}fU(n)&&r!=_T&&r!=hO&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,bo(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),wO(t),t.M=!0,bo(11))):(Dy(n.j,n.m,e,"[Invalid Chunked Response]"),Xm(n),Iw(n))}function mZ(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?_T:(e=Number(t.substring(e,i)),isNaN(e)?hO:(i+=1)+e>t.length?_T:(t=t.slice(i,i+e),n.C=i+e,t))}function Aw(n){n.Y=Date.now()+n.P,mU(n,n.P)}function mU(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Dw(Ps(n.lb,n),t)}function yT(n){n.B&&(rn.clearTimeout(n.B),n.B=null)}function Iw(n){0==n.l.H||n.J||GU(n.l,n)}function Xm(n){yT(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,Ne(n.V),iU(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function pO(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||mO(e.i,n)))if(!n.K&&mO(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;TT(e),DT(e)}bO(e),bo(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Dw(Ps(e.ib,e),6e3));if(1>=DU(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else tg(e,11)}else if((n.K||e.g==n)&&TT(e),!Lf(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let m=r[t];if(e.V=m[0],m=m[1],2==e.H)if("c"==m[0]){e.K=m[1],e.pa=m[2];const v=m[3];null!=v&&(e.ra=v,e.l.info("VER="+e.ra));const D=m[4];null!=D&&(e.Ga=D,e.l.info("SVER="+e.Ga));const A=m[5];null!=A&&"number"==typeof A&&0<A&&(e.L=i=1.5*A,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const R=n.g;if(R){const B=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var o=i.i;o.g||-1==B.indexOf("spdy")&&-1==B.indexOf("quic")&&-1==B.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(gO(o,o.h),o.h=null))}if(i.F){const q=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(i.Da=q,ki(i.I,i.F,q))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var a=n;if((i=e).wa=qU(i,i.J?i.pa:null,i.Y),a.K){SU(i.i,a);var d=a,f=i.L;f&&d.setTimeout(f),d.B&&(yT(d),Aw(d)),i.g=a}else UU(i);0<e.j.length&&ST(e)}else"stop"!=m[0]&&"close"!=m[0]||tg(e,7);else 3==e.H&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?tg(e,7):vO(e):"noop"!=m[0]&&e.h&&e.h.Aa(m),e.A=0)}Ew()}catch{}}function gU(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(lw(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function _Z(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(lw(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function gZ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(lw(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(ot=Tw.prototype).setTimeout=function(n){this.P=n},ot.nb=function(n){n=n.target;const t=this.M;t&&3==xu(n)?t.l():this.Pa(n)},ot.Pa=function(n){try{if(n==this.g)e:{const v=xu(this.g);var t=this.g.Ia();if(this.g.da(),!(3>v)&&(3!=v||oT||this.g&&(this.h.h||this.g.ja()||PU(this.g)))){this.J||4!=v||7==t||Ew(),yT(this);var e=this.g.da();this.ca=e;t:if(fU(this)){var i=PU(this.g);n="";var r=i.length,o=4==xu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xm(this),Iw(this);var a="";break t}this.h.i=new rn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==e,function dZ(n,t,e,i,r,o,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.W,v,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lf(d)){var m=d;break t}}m=null}if(!(e=m)){this.i=!1,this.o=3,bo(12),Xm(this),Iw(this);break e}Dy(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pO(this,e)}this.S?(pU(this,v,a),oT&&this.i&&3==v&&(nU(this.U,this.V,"tick",this.mb),this.V.start())):(Dy(this.j,this.m,a,null),pO(this,a)),4==v&&Xm(this),this.i&&!this.J&&(4==v?GU(this.l,this):(this.i=!1,Aw(this)))}else(function FZ(n){const t={};n=(n.g&&2<=xu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Lf(n[i]))continue;var e=z(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function XR(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<a.indexOf("Unknown SID")?(this.o=3,bo(12)):(this.o=0,bo(13)),Xm(this),Iw(this)}}}catch{}},ot.mb=function(){if(this.g){var n=xu(this.g),t=this.g.ja();this.C<t.length&&(yT(this),pU(this,n,t),this.i&&4!=n&&Aw(this))}},ot.cancel=function(){this.J=!0,Xm(this)},ot.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hZ(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Ew(),bo(17)),Xm(this),this.o=2,Iw(this)):mU(this,this.Y-n)};var _U=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eg(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof eg){this.h=n.h,vT(this,n.j),this.s=n.s,this.g=n.g,bT(this,n.m),this.l=n.l;var t=n.i,e=new Rw;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),yU(this,e),this.o=n.o}else n&&(t=String(n).match(_U))?(this.h=!1,vT(this,t[1]||"",!0),this.s=Mw(t[2]||""),this.g=Mw(t[3]||"",!0),bT(this,t[4]),this.l=Mw(t[5]||"",!0),yU(this,t[6]||"",!0),this.o=Mw(t[7]||"")):(this.h=!1,this.i=new Rw(null,this.h))}function $d(n){return new eg(n)}function vT(n,t,e){n.j=e?Mw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function bT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function yU(n,t,e){t instanceof Rw?(n.i=t,function EZ(n,t){t&&!n.j&&(Uf(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(bU(this,i),xU(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=kw(t,xZ)),n.i=new Rw(t,n.h))}function ki(n,t,e){n.i.set(t,e)}function wT(n){return ki(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,vZ),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vZ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}eg.prototype.toString=function(){var n=[],t=this.j;t&&n.push(kw(t,vU,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(kw(t,vU,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(kw(e,"/"==e.charAt(0)?wZ:bZ,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",kw(e,CZ)),n.join("")};var vU=/[#\/\?@]/g,bZ=/[#\?:]/g,wZ=/[#\?]/g,xZ=/[#\?@]/g,CZ=/#/g;function Rw(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Uf(n){n.g||(n.g=new Map,n.h=0,n.i&&function yZ(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function bU(n,t){Uf(n),t=Sy(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function wU(n,t){return Uf(n),t=Sy(n,t),n.g.has(t)}function xU(n,t,e){bU(n,t),0<e.length&&(n.i=null,n.g.set(Sy(n,t),dw(e)),n.h+=e.length)}function Sy(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function CU(n){this.l=n||SZ,n=rn.PerformanceNavigationTiming?0<(n=rn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(rn.g&&rn.g.Ka&&rn.g.Ka()&&rn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=Rw.prototype).add=function(n,t){Uf(this),this.i=null,n=Sy(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ot.forEach=function(n,t){Uf(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},ot.ta=function(){Uf(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},ot.Z=function(n){Uf(this);let t=[];if("string"==typeof n)wU(this,n)&&(t=t.concat(this.g.get(Sy(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},ot.set=function(n,t){return Uf(this),this.i=null,wU(this,n=Sy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ot.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var SZ=10;function EU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function DU(n){return n.h?1:n.g?n.g.size:0}function mO(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function gO(n,t){n.g?n.g.add(t):n.h=t}function SU(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function TU(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return dw(n.i)}CU.prototype.cancel=function(){if(this.i=TU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var TZ=class{stringify(n){return rn.JSON.stringify(n,void 0)}parse(n){return rn.JSON.parse(n,void 0)}};function AZ(){this.g=new TZ}function IZ(n,t,e){const i=e||"";try{gU(n,function(r,o){let a=r;wy(r)&&(a=_(r)),t.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function xT(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Ow(n){this.l=n.fc||null,this.j=n.ob||!1}function CT(n,t){u.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=_O,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ns(Ow,lO),Ow.prototype.g=function(){return new CT(this.l,this.j)},Ow.prototype.i=function(n){return function(){return n}}({}),ns(CT,u);var _O=0;function AU(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Pw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Fw(n)}function Fw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=CT.prototype).open=function(n,t){if(this.readyState!=_O)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Fw(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||rn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pw(this)),this.readyState=_O},ot.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Fw(this)),this.g&&(this.readyState=3,Fw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof rn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AU(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ot.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Pw(this):Fw(this),3==this.readyState&&AU(this)}},ot.Za=function(n){this.g&&(this.response=this.responseText=n,Pw(this))},ot.Ya=function(n){this.g&&(this.response=n,Pw(this))},ot.ka=function(){this.g&&Pw(this)},ot.setRequestHeader=function(n,t){this.v.append(n,t)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(CT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var kZ=rn.JSON.parse;function yr(n){u.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=IU,this.L=this.M=!1}ns(yr,u);var IU="",RZ=/^https?$/i,OZ=["POST","PUT"];function MU(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,kU(n),ET(n)}function kU(n){n.F||(n.F=!0,h(n,"complete"),h(n,"error"))}function RU(n){if(n.h&&typeof aw<"u"&&(!n.C[1]||4!=xu(n)||2!=n.da()))if(n.v&&4==xu(n))Zt(n.La,0,n);else if(h(n,"readystatechange"),4==xu(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===a){var r=String(n.I).match(_U)[1]||null;!r&&rn.self&&rn.self.location&&(r=rn.self.location.protocol.slice(0,-1)),i=!RZ.test(r?r.toLowerCase():"")}e=i}if(e)h(n,"complete"),h(n,"success");else{n.m=6;try{var o=2<xu(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",kU(n)}}finally{ET(n)}}}function ET(n,t){if(n.g){OU(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||h(n,"ready");try{e.onreadystatechange=i}catch{}}}function OU(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(rn.clearTimeout(n.A),n.A=null)}function xu(n){return n.g?n.g.readyState:0}function PU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case IU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FU(n){let t="";return Qm(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function yO(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=FU(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ki(n,t,e))}function Nw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function NU(n){this.Ga=0,this.j=[],this.l=new fT,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Nw("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Nw("baseRetryDelayMs",5e3,n),this.hb=Nw("retryDelaySeedMs",1e4,n),this.eb=Nw("forwardChannelMaxRetries",2,n),this.xa=Nw("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new CU(n&&n.concurrentRequestLimit),this.Ja=new AZ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vO(n){if(LU(n),3==n.H){var t=n.W++,e=$d(n.I);if(ki(e,"SID",n.K),ki(e,"RID",t),ki(e,"TYPE","terminate"),Lw(n,e),(t=new Tw(n,n.l,t)).L=2,t.v=wT($d(e)),e=!1,rn.navigator&&rn.navigator.sendBeacon)try{e=rn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&rn.Image&&((new Image).src=t.v,e=!0),e||(t.g=$U(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Aw(t)}zU(n)}function DT(n){n.g&&(wO(n),n.g.cancel(),n.g=null)}function LU(n){DT(n),n.u&&(rn.clearTimeout(n.u),n.u=null),TT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&rn.clearTimeout(n.m),n.m=null)}function ST(n){if(!EU(n.i)&&!n.m){n.m=!0;var t=n.Na;se||et(),Ee||(se(),Ee=!0),$e.add(t,n),n.C=0}}function BU(n,t){var e;e=t?t.m:n.W++;const i=$d(n.I);ki(i,"SID",n.K),ki(i,"RID",e),ki(i,"AID",n.V),Lw(n,i),n.o&&n.s&&yO(i,n.o,n.s),e=new Tw(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=VU(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),gO(n.i,e),fO(e,i,t)}function Lw(n,t){n.na&&Qm(n.na,function(e,i){ki(t,i,e)}),n.h&&gU({},function(e,i){ki(t,i,e)})}function VU(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Ps(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const a=["count="+e];-1==o?0<e?(o=r[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let d=!0;for(let f=0;f<e;f++){let m=r[f].g;const v=r[f].map;if(m-=o,0>m)o=Math.max(0,r[f].g-100),d=!1;else try{IZ(v,a,"req"+m+"_")}catch{i&&i(v)}}if(d){i=a.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function UU(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;se||et(),Ee||(se(),Ee=!0),$e.add(t,n),n.A=0}}function bO(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Dw(Ps(n.Ma,n),jU(n,n.A)),n.A++,0))}function wO(n){null!=n.B&&(rn.clearTimeout(n.B),n.B=null)}function HU(n){n.g=new Tw(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=$d(n.wa);ki(t,"RID","rpc"),ki(t,"SID",n.K),ki(t,"AID",n.V),ki(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&ki(t,"TO",n.qa),ki(t,"TYPE","xmlhttp"),Lw(n,t),n.o&&n.s&&yO(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=wT($d(t)),e.s=null,e.S=!0,hU(e,n)}function TT(n){null!=n.v&&(rn.clearTimeout(n.v),n.v=null)}function GU(n,t){var e=null;if(n.g==t){TT(n),wO(n),n.g=null;var i=2}else{if(!mO(n.i,t))return;e=t.F,SU(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;h(i=pT(),new aU(i,e)),ST(n)}else UU(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function NZ(n,t){return!(DU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Dw(Ps(n.Na,n,t),jU(n,n.C)),n.C++,0)))}(n,t)||2==i&&bO(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:tg(n,5);break;case 4:tg(n,10);break;case 3:tg(n,6);break;default:tg(n,2)}}function jU(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function tg(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Ps(n.pb,n);e||(e=new eg("//www.google.com/images/cleardot.gif"),rn.location&&"http"==rn.location.protocol||vT(e,"https"),wT(e)),function MZ(n,t){const e=new fT;if(rn.Image){const i=new Image;i.onload=uw(xT,e,i,"TestLoadImage: loaded",!0,t),i.onerror=uw(xT,e,i,"TestLoadImage: error",!1,t),i.onabort=uw(xT,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=uw(xT,e,i,"TestLoadImage: timeout",!1,t),rn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else bo(2);n.H=0,n.h&&n.h.za(t),zU(n),LU(n)}function zU(n){if(n.H=0,n.ma=[],n.h){const t=TU(n.i);(0!=t.length||0!=n.j.length)&&(sT(n.ma,t),sT(n.ma,n.j),n.i.i.length=0,dw(n.j),n.j.length=0),n.h.ya()}}function qU(n,t,e){var i=e instanceof eg?$d(e):new eg(e);if(""!=i.g)t&&(i.g=t+"."+i.g),bT(i,i.m);else{var r=rn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new eg(null);i&&vT(o,i),t&&(o.g=t),r&&bT(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&ki(i,e,t),ki(i,"VER",n.ra),Lw(n,i),i}function $U(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new yr(e&&n.Ha&&!n.va?new Ow({ob:!0}):n.va)).Oa(n.J),t}function YU(){}function AT(){if(fc&&!(10<=Number(aT)))throw Error("Environmental error: no available transport.")}function Oa(n,t){u.call(this),this.g=new NU(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Lf(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Lf(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Ty(this)}function ZU(n){cO.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function WU(){uO.call(this),this.status=1}function Ty(n){this.g=n}function pc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xO(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],a=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;a=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(a<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=e+((a=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=o+((a=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Xn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(ot=yr.prototype).Oa=function(n){this.M=n},ot.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dO.g(),this.C=function cU(n){return n.h||(n.h=n.i())}(this.u?this.u:dO),this.g.onreadystatechange=Ps(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void MU(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=rn.FormData&&n instanceof rn.FormData,!(0<=Zm(OZ,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of e)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OU(this),0<this.B&&((this.L=function PZ(n){return fc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ps(this.ua,this)):this.A=Zt(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){MU(this,o)}},ot.ua=function(){typeof aw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,h(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,h(this,"complete"),h(this,"abort"),ET(this))},ot.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ET(this,!0)),yr.$.N.call(this)},ot.La=function(){this.s||(this.G||this.v||this.l?RU(this):this.kb())},ot.kb=function(){RU(this)},ot.isActive=function(){return!!this.g},ot.da=function(){try{return 2<xu(this)?this.g.status:-1}catch{return-1}},ot.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ot.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),kZ(t)}},ot.Ia=function(){return this.m},ot.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=NU.prototype).ra=8,ot.H=1,ot.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Tw(this,this.l,n);let o=this.s;if(this.U&&(o?(o=lT(o),tO(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=VU(this,r,t),ki(e=$d(this.I),"RID",n),ki(e,"CVER",22),this.F&&ki(e,"X-HTTP-Session-Id",this.F),Lw(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(FU(o)))+"&"+t:this.o&&yO(e,this.o,o)),gO(this.i,r),this.bb&&ki(e,"TYPE","init"),this.P?(ki(e,"$req",t),ki(e,"SID","null"),r.aa=!0,fO(r,e,null)):fO(r,e,t),this.H=2}}else 3==this.H&&(n?BU(this,n):0==this.j.length||EU(this.i)||BU(this))},ot.Ma=function(){if(this.u=null,HU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Dw(Ps(this.jb,this),n)}},ot.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bo(10),DT(this),HU(this))},ot.ib=function(){null!=this.v&&(this.v=null,DT(this),bO(this),bo(19))},ot.pb=function(n){n?(this.l.info("Successfully pinged google.com"),bo(2)):(this.l.info("Failed to ping google.com"),bo(1))},ot.isActive=function(){return!!this.h&&this.h.isActive(this)},(ot=YU.prototype).Ba=function(){},ot.Aa=function(){},ot.za=function(){},ot.ya=function(){},ot.isActive=function(){return!0},ot.Va=function(){},AT.prototype.g=function(n,t){return new Oa(n,t)},ns(Oa,u),Oa.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;bo(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=qU(n,null,n.Y),ST(n)},Oa.prototype.close=function(){vO(this.g)},Oa.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=_(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&ST(t)},Oa.prototype.N=function(){this.g.h=null,delete this.j,vO(this.g),delete this.g,Oa.$.N.call(this)},ns(ZU,cO),ns(WU,uO),ns(Ty,YU),Ty.prototype.Ba=function(){h(this.g,"a")},Ty.prototype.Aa=function(n){h(this.g,new ZU(n))},Ty.prototype.za=function(n){h(this.g,new WU)},Ty.prototype.ya=function(){h(this.g,"b")},ns(pc,function LZ(){this.blockSize=-1}),pc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pc.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)xO(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){xO(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){xO(this,i),r=0;break}}this.h=r,this.i+=t},pc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var BZ={};function CO(n){return-128<=n&&128>n?function fw(n,t){var e=BZ;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Xn([0|t],0>t?-1:0)}):new Xn([0|n],0>n?-1:0)}function Cu(n){if(isNaN(n)||!isFinite(n))return Ay;if(0>n)return Fs(Cu(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=EO;return new Xn(t,0)}var EO=4294967296,Ay=CO(0),DO=CO(1),QU=CO(16777216);function Yd(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function _l(n){return-1==n.h}function Fs(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Xn(e,~n.h).add(DO)}function IT(n,t){return n.add(Fs(t))}function MT(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Bw(n,t){this.g=n,this.h=t}function kT(n,t){if(Yd(t))throw Error("division by zero");if(Yd(n))return new Bw(Ay,Ay);if(_l(n))return t=kT(Fs(n),t),new Bw(Fs(t.g),Fs(t.h));if(_l(t))return t=kT(n,Fs(t)),new Bw(Fs(t.g),t.h);if(30<n.g.length){if(_l(n)||_l(t))throw Error("slowDivide_ only works with positive integers.");for(var e=DO,i=t;0>=i.X(n);)e=JU(e),i=JU(i);var r=Iy(e,1),o=Iy(i,1);for(i=Iy(i,2),e=Iy(e,2);!Yd(i);){var a=o.add(i);0>=a.X(n)&&(r=r.add(e),o=a),i=Iy(i,1),e=Iy(e,1)}return t=IT(n,r.R(t)),new Bw(r,t)}for(r=Ay;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),a=(o=Cu(e)).R(t);_l(a)||0<a.X(n);)a=(o=Cu(e-=i)).R(t);Yd(o)&&(o=DO),r=r.add(o),n=IT(n,a)}return new Bw(r,n)}function JU(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Xn(e,n.h)}function Iy(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new Xn(r,n.h)}(ot=Xn.prototype).ea=function(){if(_l(this))return-Fs(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:EO+i)*t,t*=EO}return n},ot.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Yd(this))return"0";if(_l(this))return"-"+Fs(this).toString(n);for(var t=Cu(Math.pow(n,6)),e=this,i="";;){var r=kT(e,t).g,o=((0<(e=IT(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Yd(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},ot.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ot.X=function(n){return _l(n=IT(this,n))?-1:Yd(n)?0:1},ot.abs=function(){return _l(this)?Fs(this):this},ot.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),a=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=a>>>16,e[r]=(a&=65535)<<16|(o&=65535)}return new Xn(e,-2147483648&e[e.length-1]?-1:0)},ot.R=function(n){if(Yd(this)||Yd(n))return Ay;if(_l(this))return _l(n)?Fs(this).R(Fs(n)):Fs(Fs(this).R(n));if(_l(n))return Fs(this.R(Fs(n)));if(0>this.X(QU)&&0>n.X(QU))return Cu(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,a=65535&this.D(i),d=n.D(r)>>>16,f=65535&n.D(r);e[2*i+2*r]+=a*f,MT(e,2*i+2*r),e[2*i+2*r+1]+=o*f,MT(e,2*i+2*r+1),e[2*i+2*r+1]+=a*d,MT(e,2*i+2*r+1),e[2*i+2*r+2]+=o*d,MT(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Xn(e,0)},ot.gb=function(n){return kT(this,n).h},ot.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Xn(e,this.h&n.h)},ot.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Xn(e,this.h|n.h)},ot.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Xn(e,this.h^n.h)},AT.prototype.createWebChannel=AT.prototype.g,Oa.prototype.send=Oa.prototype.u,Oa.prototype.open=Oa.prototype.m,Oa.prototype.close=Oa.prototype.close,mT.NO_ERROR=0,mT.TIMEOUT=8,mT.HTTP_ERROR=6,lU.COMPLETE="complete",uU.EventType=Sw,Sw.OPEN="a",Sw.CLOSE="b",Sw.ERROR="c",Sw.MESSAGE="d",u.prototype.listen=u.prototype.O,yr.prototype.listenOnce=yr.prototype.P,yr.prototype.getLastError=yr.prototype.Sa,yr.prototype.getLastErrorCode=yr.prototype.Ia,yr.prototype.getStatus=yr.prototype.da,yr.prototype.getResponseJson=yr.prototype.Wa,yr.prototype.getResponseText=yr.prototype.ja,yr.prototype.send=yr.prototype.ha,yr.prototype.setWithCredentials=yr.prototype.Oa,pc.prototype.digest=pc.prototype.l,pc.prototype.reset=pc.prototype.reset,pc.prototype.update=pc.prototype.j,Xn.prototype.add=Xn.prototype.add,Xn.prototype.multiply=Xn.prototype.R,Xn.prototype.modulo=Xn.prototype.gb,Xn.prototype.compare=Xn.prototype.X,Xn.prototype.toNumber=Xn.prototype.ea,Xn.prototype.toString=Xn.prototype.toString,Xn.prototype.getBits=Xn.prototype.D,Xn.fromNumber=Cu,Xn.fromString=function KU(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Fs(KU(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Cu(Math.pow(t,8)),i=Ay,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),a=parseInt(n.substring(r,r+o),t);8>o?(o=Cu(Math.pow(t,o)),i=i.R(o).add(Cu(a))):i=(i=i.R(e)).add(Cu(a))}return i};var VZ=ea.createWebChannelTransport=function(){return new AT},UZ=ea.getStatEventTarget=function(){return pT()},SO=ea.ErrorCode=mT,HZ=ea.EventType=lU,GZ=ea.Event=Jm,XU=ea.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jZ=ea.FetchXmlHttpFactory=Ow,RT=ea.WebChannel=uU,zZ=ea.XhrIo=yr,qZ=ea.Md5=pc,My=ea.Integer=Xn;const e3="@firebase/firestore";class vs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vs.UNAUTHENTICATED=new vs(null),vs.GOOGLE_CREDENTIALS=new vs("google-credentials-uid"),vs.FIRST_PARTY=new vs("first-party-uid"),vs.MOCK_USER=new vs("mock-user");let ky="9.23.0";const Hf=new Xo.Yd("@firebase/firestore");function TO(){return Hf.logLevel}function Ge(n,...t){if(Hf.logLevel<=Xo.in.DEBUG){const e=t.map(AO);Hf.debug(`Firestore (${ky}): ${n}`,...e)}}function Pr(n,...t){if(Hf.logLevel<=Xo.in.ERROR){const e=t.map(AO);Hf.error(`Firestore (${ky}): ${n}`,...e)}}function yl(n,...t){if(Hf.logLevel<=Xo.in.WARN){const e=t.map(AO);Hf.warn(`Firestore (${ky}): ${n}`,...e)}}function AO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const t=`FIRESTORE (${ky}) INTERNAL ASSERTION FAILED: `+n;throw Pr(t),new Error(t)}function St(n,t){n||mt()}function at(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends H.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class t3{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(vs.UNAUTHENTICATED))}shutdown(){}}class WZ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class KZ{constructor(t){this.t=t,this.currentUser=vs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let a=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new rs,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const m=a;t.enqueueRetryable((0,be.Z)(function*(){yield m.promise,yield o(i.currentUser)}))},f=m=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rs)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St("string"==typeof i.accessToken),new t3(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return St(null===t||"string"==typeof t),new vs(t)}}class QZ{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=vs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class JZ{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new QZ(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(vs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XZ{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.T;return this.T=o.token,Ge("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(St("string"==typeof e.token),this.T=e.token,new n3(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function eW(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class i3{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=eW(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function sn(n,t){return n<t?-1:n>t?1:0}function Ry(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function r3(n){return n+"\0"}class qi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return qi.fromMillis(Date.now())}static fromDate(t){return qi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new qi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?sn(this.nanoseconds,t.nanoseconds):sn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(t){this.timestamp=t}static fromTimestamp(t){return new At(t)}static min(){return new At(new qi(0,0))}static max(){return new At(new qi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vw{constructor(t,e,i){void 0===e?e=0:e>t.length&&mt(),void 0===i?i=t.length-e:i>t.length-e&&mt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Vw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Vw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),a=e.get(r);if(o<a)return-1;if(o>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class kn extends Vw{construct(t,e,i){return new kn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new kn(e)}static emptyPath(){return new kn([])}}const tW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends Vw{construct(t,e,i){return new vr(t,e,i)}static isValidIdentifier(t){return tW.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===d?(a=!a,r++):"."!==d||a?(i+=d,r++):(o(),r++)}if(o(),a)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vr(e)}static emptyPath(){return new vr([])}}class it{constructor(t){this.path=t}static fromPath(t){return new it(kn.fromString(t))}static fromName(t){return new it(kn.fromString(t).popFirst(5))}static empty(){return new it(kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===kn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return kn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new it(new kn(t.slice()))}}class OT{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function IO(n){return n.fields.find(t=>2===t.kind)}function ng(n){return n.fields.filter(t=>2!==t.kind)}OT.UNKNOWN_ID=-1;class PT{constructor(t,e){this.fieldPath=t,this.kind=e}}class Uw{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Uw(0,Pa.min())}}function s3(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(1e9===i?new qi(e+1,0):new qi(e,i));return new Pa(r,it.empty(),t)}function o3(n){return new Pa(n.readTime,n.key,-1)}class Pa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Pa(At.min(),it.empty(),-1)}static max(){return new Pa(At.max(),it.empty(),-1)}}function MO(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=it.comparator(n.documentKey,t.documentKey),0!==e?e:sn(n.largestBatchId,t.largestBatchId))}const a3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Gf(n){return kO.apply(this,arguments)}function kO(){return kO=(0,be.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==a3)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),kO.apply(this,arguments)}class le{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new le((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof le?e:le.resolve(e)}catch(e){return le.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):le.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):le.reject(e)}static resolve(t){return new le((e,i)=>{e(t)})}static reject(t){return new le((e,i)=>{i(t)})}static waitFor(t){return new le((e,i)=>{let r=0,o=0,a=!1;t.forEach(d=>{++r,d.next(()=>{++o,a&&o===r&&e()},f=>i(f))}),a=!0,o===r&&e()})}static or(t){let e=le.resolve(!1);for(const i of t)e=e.next(r=>r?le.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new le((i,r)=>{const o=t.length,a=new Array(o);let d=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next(v=>{a[m]=v,++d,d===o&&i(a)},v=>r(v))}})}static doWhile(t,e){return new le((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class FT{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new rs,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new Hw(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=RO(i.target.error);this.v.reject(new Hw(t,r))}}static open(t,e,i,r){try{return new FT(e,t.transaction(r,i))}catch(o){throw new Hw(e,o)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Ge("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new sW(e)}}class mc{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===mc.S((0,H.z$)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ge("SimpleDb","Removing database:",t),ig(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,H.hl)())return!1;if(mc.C())return!0;const t=(0,H.z$)(),e=mc.S(t),i=0<e&&e<10,r=mc.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,be.Z)(function*(){return e.db||(Ge("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=a=>{i(a.target.result)},o.onblocked=()=>{r(new Hw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=a=>{const d=a.target.error;r("VersionError"===d.name?new Oe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Oe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new Hw(t,d))},o.onupgradeneeded=a=>{Ge("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.V.O(a.target.result,o.transaction,a.oldVersion,e.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,be.Z)(function*(){const a="readonly"===e;let d=0;for(;;){++d;try{o.db=yield o.$(t);const f=FT.open(o.db,t,a?"readonly":"readwrite",i),m=r(f).next(v=>(f.P(),v)).catch(v=>(f.abort(v),le.reject(v))).toPromise();return m.catch(()=>{}),yield f.R,m}catch(f){const m=f,v="FirebaseError"!==m.name&&d<3;if(Ge("SimpleDb","Transaction failed with error:",m.message,"Retrying:",v),o.close(),!v)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rW{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return ig(this.L.delete())}}class Hw extends Oe{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function jf(n){return"IndexedDbTransactionError"===n.name}class sW{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ge("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),ig(i)}add(t){return Ge("SimpleDb","ADD",this.store.name,t,t),ig(this.store.add(t))}get(t){return ig(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ge("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ge("SimpleDb","DELETE",this.store.name,t),ig(this.store.delete(t))}count(){return Ge("SimpleDb","COUNT",this.store.name),ig(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(a,d)=>{o.push(d)}).next(()=>o)}{const r=this.store.getAll(i.range);return new le((o,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new le((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}J(t,e){Ge("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,a,d)=>d.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new le((i,r)=>{e.onerror=o=>{const a=RO(o.target.error);r(a)},e.onsuccess=o=>{const a=o.target.result;a?t(a.primaryKey,a.value).next(d=>{d?a.continue():i()}):i()}})}W(t,e){const i=[];return new le((r,o)=>{t.onerror=a=>{o(a.target.error)},t.onsuccess=a=>{const d=a.target.result;if(!d)return void r();const f=new rW(d),m=e(d.primaryKey,d.value,f);if(m instanceof le){const v=m.catch(D=>(f.done(),le.reject(D)));i.push(v)}f.isDone?r():null===f.K?d.continue():d.continue(f.K)}}).next(()=>le.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ig(n){return new le((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=RO(i.target.error);e(r)}})}let c3=!1;function RO(n){const t=mc.S((0,H.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return c3||(c3=!0,setTimeout(()=>{throw i},0)),i}}return n}class oW{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Ge("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,be.Z)(function*(){e.task=null;try{Ge("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){jf(i)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Gf(i)}yield e.et(6e4)}))}}class aW{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,be.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return le.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return Ge("IndexBackiller",`Processing collection: ${a}`),this.it(t,a,r).next(d=>{r-=d,i.add(a)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.rt(r,o)).next(d=>(Ge("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>a.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const a=o3(o);MO(a,i)>0&&(i=a)}),new Pa(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Fa=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function Gw(n){return null==n}function jw(n){return 0===n&&1/n==-1/0}function u3(n){return"number"==typeof n&&Number.isInteger(n)&&!jw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Js(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=d3(t)),t=lW(n.get(e),t);return d3(t)}function lW(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function d3(n){return n+"\x01\x01"}function Eu(n){const t=n.length;if(St(t>=2),2===t)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),kn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const a=n.indexOf("\x01",o);switch((a<0||a>e)&&mt(),n.charAt(a+1)){case"\x01":const d=n.substring(o,a);let f;0===r.length?f=d:(r+=d,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(o,a),r+="\0";break;case"\x11":r+=n.substring(o,a+1);break;default:mt()}o=a+2}return new kn(i)}const h3=["userId","batchId"];function NT(n,t){return[n,Js(t)]}function f3(n,t,e){return[n,Js(t),e]}const cW={},uW=["prefixPath","collectionGroup","readTime","documentId"],dW=["prefixPath","collectionGroup","documentId"],hW=["collectionGroup","readTime","prefixPath","documentId"],fW=["canonicalId","targetId"],pW=["targetId","path"],mW=["path","targetId"],gW=["collectionId","parent"],_W=["indexId","uid"],yW=["uid","sequenceNumber"],vW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bW=["indexId","uid","orderedDocumentKey"],wW=["userId","collectionPath","documentId"],xW=["userId","collectionPath","largestBatchId"],CW=["userId","collectionGroup","largestBatchId"],p3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],EW=[...p3,"documentOverlays"],m3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],g3=m3,DW=[...g3,"indexConfiguration","indexState","indexEntries"];class OO extends l3{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function bs(n,t){const e=at(n);return mc.M(e.ht,t)}function _3(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function zf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function y3(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class bi{constructor(t,e){this.comparator=t,this.root=e||Ns.EMPTY}insert(t,e){return new bi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ns.BLACK,null,null))}remove(t){return new bi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ns.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new LT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new LT(this.root,t,this.comparator,!1)}getReverseIterator(){return new LT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new LT(this.root,t,this.comparator,!0)}}class LT{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ns{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Ns.RED,this.left=r??Ns.EMPTY,this.right=o??Ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Ns(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ns.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ns.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const t=this.left.check();if(t!==this.right.check())throw mt();return t+(this.isRed()?0:1)}}Ns.EMPTY=null,Ns.RED=!0,Ns.BLACK=!1,Ns.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Ns(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(t){this.comparator=t,this.data=new bi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new v3(this.data.getIterator())}getIteratorFrom(t){return new v3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ri)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ri(this.comparator);return e.data=t,e}}class v3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Oy(n){return n.hasNext()?n.getNext():void 0}class na{constructor(t){this.fields=t,t.sort(vr.comparator)}static empty(){return new na([])}unionWith(t){let e=new Ri(vr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new na(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ry(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class b3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ss{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new b3("Invalid base64 string: "+r):r}}(t);return new ss(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new ss(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return sn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const TW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qf(n){if(St(!!n),"string"==typeof n){let t=0;const e=TW.exec(n);if(St(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:br(n.seconds),nanos:br(n.nanos)}}function br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Zd(n){return"string"==typeof n?ss.fromBase64String(n):ss.fromUint8Array(n)}function BT(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function VT(n){const t=n.mapValue.fields.__previous_value__;return BT(t)?VT(t):t}function zw(n){const t=qf(n.mapValue.fields.__local_write_time__.timestampValue);return new qi(t.seconds,t.nanos)}class AW{constructor(t,e,i,r,o,a,d,f,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}}class $f{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new $f("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof $f&&t.projectId===this.projectId&&t.database===this.database}}const Yf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},UT={nullValue:"NULL_VALUE"};function Zf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?BT(n)?4:E3(n)?9007199254740991:10:mt()}function Du(n,t){if(n===t)return!0;const e=Zf(n);if(e!==Zf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return zw(n).isEqual(zw(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=qf(i.timestampValue),a=qf(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Zd(n.bytesValue).isEqual(Zd(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return br(i.geoPointValue.latitude)===br(r.geoPointValue.latitude)&&br(i.geoPointValue.longitude)===br(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return br(i.integerValue)===br(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=br(i.doubleValue),a=br(r.doubleValue);return o===a?jw(o)===jw(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Ry(n.arrayValue.values||[],t.arrayValue.values||[],Du);case 10:return function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(_3(o)!==_3(a))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(void 0===a[d]||!Du(o[d],a[d])))return!1;return!0}(n,t);default:return mt()}var r}function qw(n,t){return void 0!==(n.values||[]).find(e=>Du(e,t))}function Wf(n,t){if(n===t)return 0;const e=Zf(n),i=Zf(t);if(e!==i)return sn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return sn(n.booleanValue,t.booleanValue);case 2:return function(r,o){const a=br(r.integerValue||r.doubleValue),d=br(o.integerValue||o.doubleValue);return a<d?-1:a>d?1:a===d?0:isNaN(a)?isNaN(d)?0:-1:1}(n,t);case 3:return w3(n.timestampValue,t.timestampValue);case 4:return w3(zw(n),zw(t));case 5:return sn(n.stringValue,t.stringValue);case 6:return function(r,o){const a=Zd(r),d=Zd(o);return a.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),d=o.split("/");for(let f=0;f<a.length&&f<d.length;f++){const m=sn(a[f],d[f]);if(0!==m)return m}return sn(a.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const a=sn(br(r.latitude),br(o.latitude));return 0!==a?a:sn(br(r.longitude),br(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const a=r.values||[],d=o.values||[];for(let f=0;f<a.length&&f<d.length;++f){const m=Wf(a[f],d[f]);if(m)return m}return sn(a.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Yf.mapValue&&o===Yf.mapValue)return 0;if(r===Yf.mapValue)return 1;if(o===Yf.mapValue)return-1;const a=r.fields||{},d=Object.keys(a),f=o.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const D=sn(d[v],m[v]);if(0!==D)return D;const A=Wf(a[d[v]],f[m[v]]);if(0!==A)return A}return sn(d.length,m.length)}(n.mapValue,t.mapValue);default:throw mt()}}function w3(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return sn(n,t);const e=qf(n),i=qf(t),r=sn(e.seconds,i.seconds);return 0!==r?r:sn(e.nanos,i.nanos)}function Py(n){return PO(n)}function PO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=qf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Zd(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const a of i.values||[])o?o=!1:r+=",",r+=PO(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",a=!0;for(const d of r)a?a=!1:o+=",",o+=`${d}:${PO(i.fields[d])}`;return o+"}"}(n.mapValue):mt();var t}function rg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function FO(n){return!!n&&"integerValue"in n}function $w(n){return!!n&&"arrayValue"in n}function x3(n){return!!n&&"nullValue"in n}function C3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function GT(n){return!!n&&"mapValue"in n}function Yw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return zf(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Yw(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Yw(n.arrayValue.values[e]);return t}return Object.assign({},n)}function E3(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function IW(n){return"nullValue"in n?UT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?rg($f.empty(),it.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function MW(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?rg($f.empty(),it.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Yf:mt()}function D3(n,t){const e=Wf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function S3(n,t){const e=Wf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ls{constructor(t){this.value=t}static empty(){return new Ls({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!GT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yw(e)}setAll(t){let e=vr.emptyPath(),i={},r=[];t.forEach((a,d)=>{if(!e.isImmediateParentOf(d)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=d.popLast()}a?i[d.lastSegment()]=Yw(a):r.push(d.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());GT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Du(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];GT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){zf(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Ls(Yw(this.value))}}function T3(n){const t=[];return zf(n.fields,(e,i)=>{const r=new vr([e]);if(GT(i)){const o=T3(i.mapValue).fields;if(0===o.length)t.push(r);else for(const a of o)t.push(r.child(a))}else t.push(r)}),new na(t)}class Oi{constructor(t,e,i,r,o,a,d){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=d}static newInvalidDocument(t){return new Oi(t,0,At.min(),At.min(),At.min(),Ls.empty(),0)}static newFoundDocument(t,e,i,r){return new Oi(t,1,e,At.min(),i,r,0)}static newNoDocument(t,e){return new Oi(t,2,e,At.min(),At.min(),Ls.empty(),0)}static newUnknownDocument(t,e){return new Oi(t,3,e,At.min(),At.min(),Ls.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Oi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kf{constructor(t,e){this.position=t,this.inclusive=e}}function A3(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],a=n.position[r];if(i=o.field.isKeyField()?it.comparator(it.fromName(a.referenceValue),e.key):Wf(a,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function I3(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Du(n.position[e],t.position[e]))return!1;return!0}class Fy{constructor(t,e="asc"){this.field=t,this.dir=e}}function kW(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class M3{}class Dn extends M3{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new RW(t,e,i):"array-contains"===e?new FW(t,i):"in"===e?new N3(t,i):"not-in"===e?new NW(t,i):"array-contains-any"===e?new LW(t,i):new Dn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new OW(t,i):new PW(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Wf(e,this.value)):null!==e&&Zf(this.value)===Zf(e)&&this.matchesComparison(Wf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ei extends M3{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new ei(t,e)}matches(t){return Ny(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Ny(n){return"and"===n.op}function NO(n){return"or"===n.op}function LO(n){return k3(n)&&Ny(n)}function k3(n){for(const t of n.filters)if(t instanceof ei)return!1;return!0}function BO(n){if(n instanceof Dn)return n.field.canonicalString()+n.op.toString()+Py(n.value);if(LO(n))return n.filters.map(t=>BO(t)).join(",");{const t=n.filters.map(e=>BO(e)).join(",");return`${n.op}(${t})`}}function R3(n,t){return n instanceof Dn?(e=n,(i=t)instanceof Dn&&e.op===i.op&&e.field.isEqual(i.field)&&Du(e.value,i.value)):n instanceof ei?function(e,i){return i instanceof ei&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,a)=>r&&R3(o,i.filters[a]),!0)}(n,t):void mt();var e,i}function O3(n,t){const e=n.filters.concat(t);return ei.create(e,n.op)}function P3(n){return n instanceof Dn?`${(t=n).field.canonicalString()} ${t.op} ${Py(t.value)}`:n instanceof ei?function(t){return t.op.toString()+" {"+t.getFilters().map(P3).join(" ,")+"}"}(n):"Filter";var t}class RW extends Dn{constructor(t,e,i){super(t,e,i),this.key=it.fromName(i.referenceValue)}matches(t){const e=it.comparator(t.key,this.key);return this.matchesComparison(e)}}class OW extends Dn{constructor(t,e){super(t,"in",e),this.keys=F3(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class PW extends Dn{constructor(t,e){super(t,"not-in",e),this.keys=F3(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function F3(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>it.fromName(i.referenceValue))}class FW extends Dn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return $w(e)&&qw(e.arrayValue,this.value)}}class N3 extends Dn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&qw(this.value.arrayValue,e)}}class NW extends Dn{constructor(t,e){super(t,"not-in",e)}matches(t){if(qw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!qw(this.value.arrayValue,e)}}class LW extends Dn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!$w(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>qw(this.value.arrayValue,i))}}class BW{constructor(t,e=null,i=[],r=[],o=null,a=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=d,this.dt=null}}function VO(n,t=null,e=[],i=[],r=null,o=null,a=null){return new BW(n,t,e,i,r,o,a)}function sg(n){const t=at(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>BO(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Gw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Py(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Py(i)).join(",")),t.dt=e}return t.dt}function Zw(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!kW(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!R3(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!I3(n.startAt,t.startAt)&&I3(n.endAt,t.endAt)}function jT(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function zT(n,t){return n.filters.filter(e=>e instanceof Dn&&e.field.isEqual(t))}function L3(n,t,e){let i=UT,r=!0;for(const o of zT(n,t)){let a=UT,d=!0;switch(o.op){case"<":case"<=":a=IW(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,d=!1;break;case"!=":case"not-in":a=UT}D3({value:i,inclusive:r},{value:a,inclusive:d})<0&&(i=a,r=d)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const a=e.position[o];D3({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function B3(n,t,e){let i=Yf,r=!0;for(const o of zT(n,t)){let a=Yf,d=!0;switch(o.op){case">=":case">":a=MW(o.value),d=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,d=!1;break;case"!=":case"not-in":a=Yf}S3({value:i,inclusive:r},{value:a,inclusive:d})>0&&(i=a,r=d)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const a=e.position[o];S3({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class Wd{constructor(t,e=null,i=[],r=[],o=null,a="F",d=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=d,this.endAt=f,this.wt=null,this._t=null}}function V3(n,t,e,i,r,o,a,d){return new Wd(n,t,e,i,r,o,a,d)}function Ly(n){return new Wd(n)}function U3(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function UO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function qT(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function HO(n){return null!==n.collectionGroup}function og(n){const t=at(n);if(null===t.wt){t.wt=[];const e=qT(t),i=UO(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new Fy(e)),t.wt.push(new Fy(vr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Fy(vr.keyField(),o))}}}return t.wt}function wo(n){const t=at(n);if(!t._t)if("F"===t.limitType)t._t=VO(t.path,t.collectionGroup,og(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of og(t))e.push(new Fy(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Kf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kf(t.startAt.position,t.startAt.inclusive):null;t._t=VO(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function GO(n,t){t.getFirstInequalityField(),qT(n);const e=n.filters.concat([t]);return new Wd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function $T(n,t,e){return new Wd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Ww(n,t){return Zw(wo(n),wo(t))&&n.limitType===t.limitType}function H3(n){return`${sg(wo(n))}|lt:${n.limitType}`}function jO(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>P3(i)).join(", ")}]`),Gw(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Py(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Py(i)).join(",")),`Target(${e})`}(wo(n))}; limitType=${n.limitType})`}function Kw(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):it.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of og(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,a){const d=A3(r,o,a);return r.inclusive?d<=0:d<0}(e.startAt,og(e),i)||e.endAt&&!function(r,o,a){const d=A3(r,o,a);return r.inclusive?d>=0:d>0}(e.endAt,og(e),i)));var e,i}function G3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function j3(n){return(t,e)=>{let i=!1;for(const r of og(n)){const o=VW(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function VW(n,t,e){const i=n.field.isKeyField()?it.comparator(t.key,e.key):function(r,o,a){const d=o.data.field(r),f=a.data.field(r);return null!==d&&null!==f?Wf(d,f):mt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return mt()}}class Kd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){zf(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return y3(this.inner)}size(){return this.innerSize}}const UW=new bi(it.comparator);function ia(){return UW}const z3=new bi(it.comparator);function Qw(...n){let t=z3;for(const e of n)t=t.insert(e.key,e);return t}function q3(n){let t=z3;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Su(){return Jw()}function $3(){return Jw()}function Jw(){return new Kd(n=>n.toString(),(n,t)=>n.isEqual(t))}const HW=new bi(it.comparator),GW=new Ri(it.comparator);function hn(...n){let t=GW;for(const e of n)t=t.add(e);return t}const jW=new Ri(sn);function zO(){return jW}function Y3(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jw(t)?"-0":t}}function Z3(n){return{integerValue:""+n}}function W3(n,t){return u3(t)?Z3(t):Y3(n,t)}class ZT{constructor(){this._=void 0}}function zW(n,t,e){return n instanceof By?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&BT(r)&&(r=VT(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof ag?Q3(n,t):n instanceof lg?J3(n,t):function(i,r){const o=K3(i,r),a=X3(o)+X3(i.gt);return FO(o)&&FO(i.gt)?Z3(a):Y3(i.serializer,a)}(n,t)}function qW(n,t,e){return n instanceof ag?Q3(n,t):n instanceof lg?J3(n,t):e}function K3(n,t){return n instanceof Vy?FO(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class By extends ZT{}class ag extends ZT{constructor(t){super(),this.elements=t}}function Q3(n,t){const e=e6(t);for(const i of n.elements)e.some(r=>Du(r,i))||e.push(i);return{arrayValue:{values:e}}}class lg extends ZT{constructor(t){super(),this.elements=t}}function J3(n,t){let e=e6(t);for(const i of n.elements)e=e.filter(r=>!Du(r,i));return{arrayValue:{values:e}}}class Vy extends ZT{constructor(t,e){super(),this.serializer=t,this.gt=e}}function X3(n){return br(n.integerValue||n.doubleValue)}function e6(n){return $w(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xw{constructor(t,e){this.field=t,this.transform=e}}class YW{constructor(t,e){this.version=t,this.transformResults=e}}class $i{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new $i}static exists(t){return new $i(void 0,t)}static updateTime(t){return new $i(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function WT(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class KT{}function t6(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Hy(n.key,$i.none()):new Uy(n.key,n.data,$i.none());{const e=n.data,i=Ls.empty();let r=new Ri(vr.comparator);for(let o of t.fields)if(!r.has(o)){let a=e.field(o);null===a&&o.length>1&&(o=o.popLast(),a=e.field(o)),null===a?i.delete(o):i.set(o,a),r=r.add(o)}return new Qd(n.key,i,new na(r.toArray()),$i.none())}}function ZW(n,t,e){n instanceof Uy?function(i,r,o){const a=i.value.clone(),d=r6(i.fieldTransforms,r,o.transformResults);a.setAll(d),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Qd?function(i,r,o){if(!WT(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=r6(i.fieldTransforms,r,o.transformResults),d=r.data;d.setAll(i6(i)),d.setAll(a),r.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function ex(n,t,e,i){return n instanceof Uy?function(r,o,a,d){if(!WT(r.precondition,o))return a;const f=r.value.clone(),m=s6(r.fieldTransforms,d,o);return f.setAll(m),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof Qd?function(r,o,a,d){if(!WT(r.precondition,o))return a;const f=s6(r.fieldTransforms,d,o),m=o.data;return m.setAll(i6(r)),m.setAll(f),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(v=>v.field))}(n,t,e,i):(a=e,WT(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function WW(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=K3(i.transform,r||null);null!=o&&(null===e&&(e=Ls.empty()),e.set(i.field,o))}return e||null}function n6(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Ry(e,i,(r,o)=>function $W(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof ag&&i instanceof ag||e instanceof lg&&i instanceof lg?Ry(e.elements,i.elements,Du):e instanceof Vy&&i instanceof Vy?Du(e.gt,i.gt):e instanceof By&&i instanceof By);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Uy extends KT{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qd extends KT{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function i6(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function r6(n,t,e){const i=new Map;St(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],a=o.transform,d=t.data.field(o.field);i.set(o.field,qW(a,d,e[r]))}return i}function s6(n,t,e){const i=new Map;for(const r of n){const o=r.transform,a=e.data.field(r.field);i.set(r.field,zW(o,a,t))}return i}class Hy extends KT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qO extends KT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $O{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&ZW(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=ex(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=ex(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=$3();return this.mutations.forEach(r=>{const o=t.get(r.key),a=o.overlayedDocument;let d=this.applyToLocalView(a,o.mutatedFields);d=e.has(r.key)?null:d;const f=t6(a,d);null!==f&&i.set(r.key,f),a.isValidDocument()||a.convertToNoDocument(At.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),hn())}isEqual(t){return this.batchId===t.batchId&&Ry(this.mutations,t.mutations,(e,i)=>n6(e,i))&&Ry(this.baseMutations,t.baseMutations,(e,i)=>n6(e,i))}}class YO{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){St(t.mutations.length===i.length);let r=HW;const o=t.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new YO(t,e,i,r)}}class ZO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class QW{constructor(t,e){this.count=t,this.unchangedNames=e}}var zr,Rn;function o6(n){switch(n){default:return mt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function a6(n){if(void 0===n)return Pr("GRPC error has no .code"),me.UNKNOWN;switch(n){case zr.OK:return me.OK;case zr.CANCELLED:return me.CANCELLED;case zr.UNKNOWN:return me.UNKNOWN;case zr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case zr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case zr.INTERNAL:return me.INTERNAL;case zr.UNAVAILABLE:return me.UNAVAILABLE;case zr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case zr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case zr.NOT_FOUND:return me.NOT_FOUND;case zr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case zr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case zr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case zr.ABORTED:return me.ABORTED;case zr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case zr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case zr.DATA_LOSS:return me.DATA_LOSS;default:return mt()}}(Rn=zr||(zr={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";class WO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return QT}static getOrCreateInstance(){return null===QT&&(QT=new WO),QT}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let QT=null;function l6(){return new TextEncoder}const JW=new My([4294967295,4294967295],0);function c6(n){const t=l6().encode(n),e=new qZ;return e.update(t),new Uint8Array(e.digest())}function u6(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new My([e,i],0),new My([r,o],0)]}class KO{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new tx(`Invalid padding: ${e}`);if(i<0)throw new tx(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new tx(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new tx(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=My.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(My.fromNumber(i)));return 1===r.compare(JW)&&(r=new My([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=c6(t),[i,r]=u6(e);for(let o=0;o<this.hashCount;o++){const a=this.Et(i,r,o);if(!this.At(a))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new KO(o,r,e);return i.forEach(d=>a.insert(d)),a}insert(t){if(0===this.It)return;const e=c6(t),[i,r]=u6(e);for(let o=0;o<this.hashCount;o++){const a=this.Et(i,r,o);this.Rt(a)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class tx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nx{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,ix.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new nx(At.min(),r,new bi(sn),ia(),hn())}}class ix{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ix(i,e,hn(),hn(),hn())}}class JT{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class d6{constructor(t,e){this.targetId=t,this.Vt=e}}class h6{constructor(t,e,i=ss.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class f6{constructor(){this.St=0,this.Dt=m6(),this.Ct=ss.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=hn(),e=hn(),i=hn();return this.Dt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:mt()}}),new ix(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=m6()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class XW{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=ia(),this.zt=p6(),this.Wt=new bi(sn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:mt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,o=this.se(i);if(o){const a=o.target;if(jT(a))if(0===r){const d=new it(a.path);this.Yt(i,d,Oi.newNoDocument(d,At.min()))}else St(1===r);else{const d=this.ie(i);if(d!==r){const f=this.re(t,d);0!==f&&(this.ee(i),this.Wt=this.Wt.insert(i,2===f?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=WO.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(m,v,D){var A,R,B,q,W,ce;const Re={localCacheCount:v,existenceFilterCount:D.count},Le=D.unchangedNames;return Le&&(Re.bloomFilter={applied:0===m,hashCount:null!==(A=Le?.hashCount)&&void 0!==A?A:0,bitmapLength:null!==(q=null===(B=null===(R=Le?.bits)||void 0===R?void 0:R.bitmap)||void 0===B?void 0:B.length)&&void 0!==q?q:0,padding:null!==(ce=null===(W=Le?.bits)||void 0===W?void 0:W.padding)&&void 0!==ce?ce:0}),Re}(f,d,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:a=0},hashCount:d=0}=i;let f,m;try{f=Zd(o).toUint8Array()}catch(v){if(v instanceof b3)return yl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw v}try{m=new KO(f,a,d)}catch(v){return yl(v instanceof tx?"BloomFilter error: ":"Applying bloom filter failed: ",v),1}return 0===m.It?1:r!==e-this.oe(t.targetId,m)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const a=this.Gt.ue(),d=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.vt(d)||(this.Yt(t,o,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((o,a)=>{const d=this.se(a);if(d){if(o.current&&jT(d.target)){const f=new it(d.target.path);null!==this.jt.get(f)||this.ae(a,f)||this.Yt(a,f,Oi.newNoDocument(f,t))}o.Mt&&(e.set(a,o.Ot()),o.Ft())}});let i=hn();this.zt.forEach((o,a)=>{let d=!0;a.forEachWhile(f=>{const m=this.se(f);return!m||"TargetPurposeLimboResolution"===m.purpose||(d=!1,!1)}),d&&(i=i.add(o))}),this.jt.forEach((o,a)=>a.setReadTime(t));const r=new nx(t,e,this.Wt,this.jt,i);return this.jt=ia(),this.zt=p6(),this.Wt=new bi(sn),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new f6,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Ri(sn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Ge("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new f6),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function p6(){return new bi(it.comparator)}function m6(){return new bi(it.comparator)}const e8={asc:"ASCENDING",desc:"DESCENDING"},t8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n8={and:"AND",or:"OR"};class i8{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function QO(n,t){return n.useProto3Json||Gw(t)?t:{value:t}}function Gy(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function g6(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function r8(n,t){return Gy(n,t.toTimestamp())}function Fr(n){return St(!!n),At.fromTimestamp(function(t){const e=qf(t);return new qi(e.seconds,e.nanos)}(n))}function JO(n,t){return(e=n,new kn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function _6(n){const t=kn.fromString(n);return St(S6(t)),t}function rx(n,t){return JO(n.databaseId,t.path)}function Tu(n,t){const e=_6(t);if(e.get(1)!==n.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new it(v6(e))}function XO(n,t){return JO(n.databaseId,t)}function y6(n){const t=_6(n);return 4===t.length?kn.emptyPath():v6(t)}function sx(n){return new kn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function v6(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function b6(n,t,e){return{name:rx(n,t),fields:e.value.mapValue.fields}}function w6(n,t,e){const i=Tu(n,t.name),r=Fr(t.updateTime),o=t.createTime?Fr(t.createTime):At.min(),a=new Ls({mapValue:{fields:t.fields}}),d=Oi.newFoundDocument(i,r,o,a);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function ox(n,t){let e;if(t instanceof Uy)e={update:b6(n,t.key,t.value)};else if(t instanceof Hy)e={delete:rx(n,t.key)};else if(t instanceof Qd)e={update:b6(n,t.key,t.data),updateMask:h8(t.fieldMask)};else{if(!(t instanceof qO))return mt();e={verify:rx(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof By)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ag)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vy)return{fieldPath:o.field.canonicalString(),increment:a.gt};throw mt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:r8(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:mt()),e;var r}function eP(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?$i.updateTime(Fr(r.updateTime)):void 0!==r.exists?$i.exists(r.exists):$i.none():$i.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,a){let d=null;"setToServerValue"in a?(St("REQUEST_TIME"===a.setToServerValue),d=new By):"appendMissingElements"in a?d=new ag(a.appendMissingElements.values||[]):"removeAllFromArray"in a?d=new lg(a.removeAllFromArray.values||[]):"increment"in a?d=new Vy(o,a.increment):mt();const f=vr.fromServerFormat(a.fieldPath);return new Xw(f,d)}(n,r)):[];var r;if(t.update){const r=Tu(n,t.update.name),o=new Ls({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new na((t.updateMask.fieldPaths||[]).map(m=>vr.fromServerFormat(m)));return new Qd(r,o,a,e,i)}return new Uy(r,o,e,i)}if(t.delete){const r=Tu(n,t.delete);return new Hy(r,e)}if(t.verify){const r=Tu(n,t.verify);return new qO(r,e)}return mt()}function x6(n,t){return{documents:[XO(n,t.path)]}}function tP(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=XO(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=XO(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0!==f.length)return D6(ei.create(f,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(f){if(0!==f.length)return f.map(m=>{return{field:Qf((v=m).field),direction:c8(v.dir)};var v})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=QO(n,t.limit);var d,f;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function C6(n){let t=y6(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){St(1===i);const v=e.from[0];v.allDescendants?r=v.collectionId:t=t.child(v.collectionId)}let o=[];e.where&&(o=function(v){const D=E6(v);return D instanceof ei&&LO(D)?D.getFilters():[D]}(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(v=>{return new Fy(jy((D=v).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let d=null;e.limit&&(d=function(v){let D;return D="object"==typeof v?v.value:v,Gw(D)?null:D}(e.limit));let f=null;var v;e.startAt&&(f=new Kf((v=e.startAt).values||[],!!v.before));let m=null;return e.endAt&&(m=function(v){return new Kf(v.values||[],!v.before)}(e.endAt)),V3(t,r,a,o,d,"F",f,m)}function E6(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=jy(t.unaryFilter.field);return Dn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=jy(t.unaryFilter.field);return Dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=jy(t.unaryFilter.field);return Dn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jy(t.unaryFilter.field);return Dn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?Dn.create(jy((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return ei.create(t.compositeFilter.filters.map(e=>E6(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return mt()}}(t.compositeFilter.op))}(n):mt();var t}function c8(n){return e8[n]}function u8(n){return t8[n]}function d8(n){return n8[n]}function Qf(n){return{fieldPath:n.canonicalString()}}function jy(n){return vr.fromServerFormat(n.fieldPath)}function D6(n){return n instanceof Dn?function(t){if("=="===t.op){if(C3(t.value))return{unaryFilter:{field:Qf(t.field),op:"IS_NAN"}};if(x3(t.value))return{unaryFilter:{field:Qf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(C3(t.value))return{unaryFilter:{field:Qf(t.field),op:"IS_NOT_NAN"}};if(x3(t.value))return{unaryFilter:{field:Qf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qf(t.field),op:u8(t.op),value:t.value}}}(n):n instanceof ei?function(t){const e=t.getFilters().map(i=>D6(i));return 1===e.length?e[0]:{compositeFilter:{op:d8(t.op),filters:e}}}(n):mt()}function h8(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function S6(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Jd{constructor(t,e,i,r,o=At.min(),a=At.min(),d=ss.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(t){return new Jd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Jd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Jd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Jd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class T6{constructor(t){this.fe=t}}function A6(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:XT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:rx(r=n.fe,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Gy(r,o.version.toTimestamp()),createTime:Gy(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:cg(t.version)};else{if(!t.isUnknownDocument())return mt();i.unknownDocument={path:e.path.toArray(),version:cg(t.version)}}var r,o;return i}function XT(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function cg(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ug(n){const t=new qi(n.seconds,n.nanoseconds);return At.fromTimestamp(t)}function dg(n,t){const e=(t.baseMutations||[]).map(o=>eP(n.fe,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>eP(n.fe,o)),r=qi.fromMillis(t.localWriteTimeMs);return new $O(t.batchId,r,e,i)}function ax(n){const t=ug(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?ug(n.lastLimboFreeSnapshotVersion):At.min();let i;var r;return void 0!==n.query.documents?(St(1===(r=n.query).documents.length),i=wo(Ly(y6(r.documents[0])))):i=wo(C6(n.query)),new Jd(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,ss.fromBase64String(n.resumeToken))}function I6(n,t){const e=cg(t.snapshotVersion),i=cg(t.lastLimboFreeSnapshotVersion);let r;r=jT(t.target)?x6(n.fe,t.target):tP(n.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:sg(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function nP(n){const t=C6({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$T(t,t.limit,"L"):t}function iP(n,t){return new ZO(t.largestBatchId,eP(n.fe,t.overlayMutation))}function M6(n,t){const e=t.path.lastSegment();return[n,Js(t.path.popLast()),e]}function k6(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:cg(i.readTime),documentKey:Js(i.documentKey.path),largestBatchId:i.largestBatchId}}class p8{getBundleMetadata(t,e){return R6(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:ug(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return R6(t).put({bundleId:(i=e).id,createTime:cg(Fr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return O6(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:nP(r.bundledQuery),readTime:ug(r.readTime)};var r})}saveNamedQuery(t,e){return O6(t).put({name:(i=e).name,readTime:cg(Fr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function R6(n){return bs(n,"bundles")}function O6(n){return bs(n,"namedQueries")}class eA{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new eA(t,e.uid||"")}getOverlay(t,e){return lx(t).get(M6(this.userId,e)).next(i=>i?iP(this.serializer,i):null)}getOverlays(t,e){const i=Su();return le.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,a)=>{const d=new ZO(e,a);r.push(this.we(t,d))}),le.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(Js(a.getCollectionPath())));const o=[];return r.forEach(a=>{const d=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);o.push(lx(t).J("collectionPathOverlayIndex",d))}),le.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Su(),o=Js(e),a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return lx(t).j("collectionPathOverlayIndex",a).next(d=>{for(const f of d){const m=iP(this.serializer,f);r.set(m.getKey(),m)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Su();let a;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return lx(t).X({index:"collectionGroupOverlayIndex",range:d},(f,m,v)=>{const D=iP(this.serializer,m);o.size()<r||D.largestBatchId===a?(o.set(D.getKey(),D),a=D.largestBatchId):v.done()}).next(()=>o)}we(t,e){return lx(t).put(function(i,r,o){const[a,d,f]=M6(r,o.mutation.key);return{userId:r,collectionPath:d,documentId:f,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:ox(i.fe,o.mutation)}}(this.serializer,this.userId,e))}}function lx(n){return bs(n,"documentOverlays")}class hg{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(br(t.integerValue));else if("doubleValue"in t){const i=br(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),jw(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(Zd(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?E3(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):mt()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),it.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function m8(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function P6(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=m8(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}hg.Ve=new hg;class g8{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=P6(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=P6(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class _8{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class y8{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class cx{constructor(){this.je=new g8,this.ze=new _8(this.je),this.We=new y8(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class fg{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new fg(this.indexId,this.documentKey,this.arrayValue,i)}}function Jf(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=F6(n.arrayValue,t.arrayValue),0!==e?e:(e=F6(n.directionalValue,t.directionalValue),0!==e?e:it.comparator(n.documentKey,t.documentKey)))}function F6(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class v8{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){St(t.collectionGroup===this.collectionId);const e=IO(t);if(void 0!==e&&!this.en(e))return!1;const i=ng(t);let r=new Set,o=0,a=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const d=i[o];if(!this.nn(this.Ze,d)||!this.sn(this.Ye[a++],d))return!1}++o}for(;o<i.length;++o)if(a>=this.Ye.length||!this.sn(this.Ye[a++],i[o]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function N6(n){var t,e;if(St(n instanceof Dn||n instanceof ei),n instanceof Dn){if(n instanceof N3){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>Dn.create(n.field,"==",o)))||[];return ei.create(r,"or")}return n}const i=n.filters.map(r=>N6(r));return ei.create(i,n.op)}function b8(n){if(0===n.getFilters().length)return[];const t=oP(N6(n));return St(L6(t)),rP(t)||sP(t)?[t]:t.getFilters()}function rP(n){return n instanceof Dn}function sP(n){return n instanceof ei&&LO(n)}function L6(n){return rP(n)||sP(n)||function(t){if(t instanceof ei&&NO(t)){for(const e of t.getFilters())if(!rP(e)&&!sP(e))return!1;return!0}return!1}(n)}function oP(n){if(St(n instanceof Dn||n instanceof ei),n instanceof Dn)return n;if(1===n.filters.length)return oP(n.filters[0]);const t=n.filters.map(i=>oP(i));let e=ei.create(t,n.op);return e=tA(e),L6(e)?e:(St(e instanceof ei),St(Ny(e)),St(e.filters.length>1),e.filters.reduce((i,r)=>aP(i,r)))}function aP(n,t){let e;return St(n instanceof Dn||n instanceof ei),St(t instanceof Dn||t instanceof ei),e=n instanceof Dn?t instanceof Dn?ei.create([n,t],"and"):B6(n,t):t instanceof Dn?B6(t,n):function(i,r){if(St(i.filters.length>0&&r.filters.length>0),Ny(i)&&Ny(r))return O3(i,r.getFilters());const o=NO(i)?i:r,a=NO(i)?r:i,d=o.filters.map(f=>aP(f,a));return ei.create(d,"or")}(n,t),tA(e)}function B6(n,t){if(Ny(t))return O3(t,n.getFilters());{const e=t.filters.map(i=>aP(n,i));return ei.create(e,"or")}}function tA(n){if(St(n instanceof Dn||n instanceof ei),n instanceof Dn)return n;const t=n.getFilters();if(1===t.length)return tA(t[0]);if(k3(n))return n;const e=t.map(r=>tA(r)),i=[];return e.forEach(r=>{r instanceof Dn?i.push(r):r instanceof ei&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:ei.create(i,n.op)}class w8{constructor(){this.rn=new lP}addToCollectionParentIndex(t,e){return this.rn.add(e),le.resolve()}getCollectionParents(t,e){return le.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return le.resolve()}deleteFieldIndex(t,e){return le.resolve()}getDocumentsMatchingTarget(t,e){return le.resolve(null)}getIndexType(t,e){return le.resolve(0)}getFieldIndexes(t,e){return le.resolve([])}getNextCollectionGroupToUpdate(t){return le.resolve(null)}getMinOffset(t,e){return le.resolve(Pa.min())}getMinOffsetFromCollectionGroup(t,e){return le.resolve(Pa.min())}updateCollectionGroup(t,e,i){return le.resolve()}updateIndexEntries(t,e){return le.resolve()}}class lP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ri(kn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ri(kn.comparator)).toArray()}}const nA=new Uint8Array(0);class x8{constructor(t,e){this.user=t,this.databaseId=e,this.on=new lP,this.un=new Kd(i=>sg(i),(i,r)=>Zw(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const o={collectionId:i,parent:Js(r)};return V6(t).put(o)}return le.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[r3(e),""],!1,!0);return V6(t).j(r).next(o=>{for(const a of o){if(a.collectionId!==e)break;i.push(Eu(a.parent))}return i})}addFieldIndex(t,e){const i=iA(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const a=dx(t);return o.next(d=>{a.put(k6(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=iA(t),r=dx(t),o=ux(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=ux(t);let r=!0;const o=new Map;return le.forEach(this.cn(e),a=>this.an(t,a).next(d=>{r&&(r=!!d),o.set(a,d)})).next(()=>{if(r){let a=hn();const d=[];return le.forEach(o,(f,m)=>{var v;Ge("IndexedDbIndexManager",`Using index ${v=f,`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(Le=>`${Le.fieldPath}:${Le.kind}`).join(",")}`} to execute ${sg(e)}`);const D=function(Le,Ye){const It=IO(Ye);if(void 0===It)return null;for(const Lt of zT(Le,It.fieldPath))switch(Lt.op){case"array-contains-any":return Lt.value.arrayValue.values||[];case"array-contains":return[Lt.value]}return null}(m,f),A=function(Le,Ye){const It=new Map;for(const Lt of ng(Ye))for(const xn of zT(Le,Lt.fieldPath))switch(xn.op){case"==":case"in":It.set(Lt.fieldPath.canonicalString(),xn.value);break;case"not-in":case"!=":return It.set(Lt.fieldPath.canonicalString(),xn.value),Array.from(It.values())}return null}(m,f),R=function(Le,Ye){const It=[];let Lt=!0;for(const xn of ng(Ye)){const Li=0===xn.kind?L3(Le,xn.fieldPath,Le.startAt):B3(Le,xn.fieldPath,Le.startAt);It.push(Li.value),Lt&&(Lt=Li.inclusive)}return new Kf(It,Lt)}(m,f),B=function(Le,Ye){const It=[];let Lt=!0;for(const xn of ng(Ye)){const Li=0===xn.kind?B3(Le,xn.fieldPath,Le.endAt):L3(Le,xn.fieldPath,Le.endAt);It.push(Li.value),Lt&&(Lt=Li.inclusive)}return new Kf(It,Lt)}(m,f),q=this.hn(f,m,R),W=this.hn(f,m,B),ce=this.ln(f,m,A),Re=this.fn(f.indexId,D,q,R.inclusive,W,B.inclusive,ce);return le.forEach(Re,Le=>i.H(Le,e.limit).next(Ye=>{Ye.forEach(It=>{const Lt=it.fromSegments(It.documentKey);a.has(Lt)||(a=a.add(Lt),d.push(Lt))})}))}).next(()=>d)}return le.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:b8(ei.create(t.filters,"and")).map(i=>VO(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,o,a,d){const f=(null!=e?e.length:1)*Math.max(i.length,o.length),m=f/(null!=e?e.length:1),v=[];for(let D=0;D<f;++D){const A=e?this.dn(e[D/m]):nA,R=this.wn(t,A,i[D%m],r),B=this._n(t,A,o[D%m],a),q=d.map(W=>this.wn(t,A,W,!0));v.push(...this.createRange(R,B,q))}return v}wn(t,e,i,r){const o=new fg(t,it.empty(),e,i);return r?o:o.Je()}_n(t,e,i,r){const o=new fg(t,it.empty(),e,i);return r?o.Je():o}an(t,e){const i=new v8(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let a=null;for(const d of o)i.tn(d)&&(!a||d.fields.length>a.fields.length)&&(a=d);return a})}getIndexType(t,e){let i=2;const r=this.cn(e);return le.forEach(r,o=>this.an(t,o).next(a=>{a?0!==i&&a.fields.length<function(d){let f=new Ri(vr.comparator),m=!1;for(const v of d.filters)for(const D of v.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?m=!0:f=f.add(D.field));for(const v of d.orderBy)v.field.isKeyField()||(f=f.add(v.field));return f.size+(m?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new cx;for(const r of ng(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const a=i.He(r.kind);hg.Ve._e(o,a)}return i.Qe()}dn(t){const e=new cx;return hg.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new cx;return hg.Ve._e(rg(this.databaseId,e),i.He(function(r){const o=ng(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new cx);let o=0;for(const a of ng(t)){const d=i[o++];for(const f of r)if(this.yn(e,a.fieldPath)&&$w(d))r=this.pn(r,a,d);else{const m=f.He(a.kind);hg.Ve._e(d,m)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],o=[];for(const a of i.arrayValue.values||[])for(const d of r){const f=new cx;f.seed(d.Qe()),hg.Ve._e(a,f.He(e.kind)),o.push(f)}return o}yn(t,e){return!!t.filters.find(i=>i instanceof Dn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=iA(t),r=dx(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const a=[];return le.forEach(o,d=>r.get([d.indexId,this.uid]).next(f=>{a.push(function(m,v){const D=v?new Uw(v.sequenceNumber,new Pa(ug(v.readTime),new it(Eu(v.documentKey)),v.largestBatchId)):Uw.empty(),A=m.fields.map(([R,B])=>new PT(vr.fromServerFormat(R),B));return new OT(m.indexId,m.collectionGroup,A,D)}(d,f))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:sn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=iA(t),o=dx(t);return this.Tn(t).next(a=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>le.forEach(d,f=>o.put(k6(f.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return le.forEach(e,(r,o)=>{const a=i.get(r.collectionGroup);return(a?le.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),le.forEach(d,f=>this.En(t,r,f).next(m=>{const v=this.An(o,f);return m.isEqual(v)?le.resolve():this.vn(t,o,f,m,v)}))))})}Rn(t,e,i,r){return ux(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return ux(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=ux(t);let o=new Ri(Jf);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(a,d)=>{o=o.add(new fg(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>o)}An(t,e){let i=new Ri(Jf);const r=this.mn(e,t);if(null==r)return i;const o=IO(e);if(null!=o){const a=t.data.field(o.fieldPath);if($w(a))for(const d of a.arrayValue.values||[])i=i.add(new fg(e.indexId,t.key,this.dn(d),r))}else i=i.add(new fg(e.indexId,t.key,nA,r));return i}vn(t,e,i,r,o){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(d,f,m,v,D){const A=d.getIterator(),R=f.getIterator();let B=Oy(A),q=Oy(R);for(;B||q;){let W=!1,ce=!1;if(B&&q){const Re=m(B,q);Re<0?ce=!0:Re>0&&(W=!0)}else null!=B?ce=!0:W=!0;W?(v(q),q=Oy(R)):ce?(D(B),B=Oy(A)):(B=Oy(A),q=Oy(R))}}(r,o,Jf,d=>{a.push(this.Rn(t,e,i,d))},d=>{a.push(this.Pn(t,e,i,d))}),le.waitFor(a)}Tn(t){let e=1;return dx(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,d)=>Jf(a,d)).filter((a,d,f)=>!d||0!==Jf(a,f[d-1]));const r=[];r.push(t);for(const a of i){const d=Jf(a,t),f=Jf(a,e);if(0===d)r[0]=t.Je();else if(d>0&&f<0)r.push(a),r.push(a.Je());else if(f>0)break}r.push(e);const o=[];for(let a=0;a<r.length;a+=2){if(this.bn(r[a],r[a+1]))return[];o.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,nA,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,nA,[]]))}return o}bn(t,e){return Jf(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(U6)}getMinOffset(t,e){return le.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||mt())).next(U6)}}function V6(n){return bs(n,"collectionParents")}function ux(n){return bs(n,"indexEntries")}function iA(n){return bs(n,"indexConfiguration")}function dx(n){return bs(n,"indexState")}function U6(n){St(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;MO(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Pa(t.readTime,t.documentKey,e)}const H6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xs{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Xs(t,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function G6(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],a=IDBKeyRange.only(e.batchId);let d=0;const f=i.X({range:a},(v,D,A)=>(d++,A.delete()));o.push(f.next(()=>{St(1===d)}));const m=[];for(const v of e.mutations){const D=f3(t,v.key.path,e.batchId);o.push(r.delete(D)),m.push(v.key)}return le.waitFor(o).next(()=>m)}function rA(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw mt();t=n.noDocument}return JSON.stringify(t).length}Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xs.DEFAULT=new Xs(41943040,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xs.DISABLED=new Xs(-1,0,0);class sA{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){St(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new sA(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xf(t).X({index:"userMutationsIndex",range:i},(r,o,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=zy(t),a=Xf(t);return a.add({}).next(d=>{St("number"==typeof d);const f=new $O(d,e,i,r),m=function(A,R,B){const q=B.baseMutations.map(ce=>ox(A.fe,ce)),W=B.mutations.map(ce=>ox(A.fe,ce));return{userId:R,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:q,mutations:W}}(this.serializer,this.userId,f),v=[];let D=new Ri((A,R)=>sn(A.canonicalString(),R.canonicalString()));for(const A of r){const R=f3(this.userId,A.key.path,d);D=D.add(A.key.path.popLast()),v.push(a.put(m)),v.push(o.put(R,cW))}return D.forEach(A=>{v.push(this.indexManager.addToCollectionParentIndex(t,A))}),t.addOnCommittedListener(()=>{this.Vn[d]=f.keys()}),le.waitFor(v).next(()=>f)})}lookupMutationBatch(t,e){return Xf(t).get(e).next(i=>i?(St(i.userId===this.userId),dg(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?le.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Xf(t).X({index:"userMutationsIndex",range:r},(a,d,f)=>{d.userId===this.userId&&(St(d.batchId>=i),o=dg(this.serializer,d)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Xf(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,a)=>{i=o.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xf(t).j("userMutationsIndex",e).next(i=>i.map(r=>dg(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=NT(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return zy(t).X({range:r},(a,d,f)=>{const[m,v,D]=a,A=Eu(v);if(m===this.userId&&e.path.isEqual(A))return Xf(t).get(D).next(R=>{if(!R)throw mt();St(R.userId===this.userId),o.push(dg(this.serializer,R))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(sn);const r=[];return e.forEach(o=>{const a=NT(this.userId,o.path),d=IDBKeyRange.lowerBound(a),f=zy(t).X({range:d},(m,v,D)=>{const[A,R,B]=m,q=Eu(R);A===this.userId&&o.path.isEqual(q)?i=i.add(B):D.done()});r.push(f)}),le.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=NT(this.userId,i),a=IDBKeyRange.lowerBound(o);let d=new Ri(sn);return zy(t).X({range:a},(f,m,v)=>{const[D,A,R]=f,B=Eu(A);D===this.userId&&i.isPrefixOf(B)?B.length===r&&(d=d.add(R)):v.done()}).next(()=>this.Dn(t,d))}Dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Xf(t).get(o).next(a=>{if(null===a)throw mt();St(a.userId===this.userId),i.push(dg(this.serializer,a))}))}),le.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return G6(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),le.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return le.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return zy(t).X({range:i},(o,a,d)=>{if(o[0]===this.userId){const f=Eu(o[1]);r.push(f)}else d.done()}).next(()=>{St(0===r.length)})})}containsKey(t,e){return j6(t,this.userId,e)}xn(t){return z6(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function j6(n,t,e){const i=NT(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let a=!1;return zy(n).X({range:o,Y:!0},(d,f,m)=>{const[v,D,A]=d;v===t&&D===r&&(a=!0),m.done()}).next(()=>a)}function Xf(n){return bs(n,"mutations")}function zy(n){return bs(n,"documentMutations")}function z6(n){return bs(n,"mutationQueues")}class pg{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new pg(0)}static Mn(){return new pg(-1)}}class C8{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new pg(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>At.fromTimestamp(new qi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>qy(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(St(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return qy(t).X((a,d)=>{const f=ax(d);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(r++,o.push(this.removeTargetData(t,f)))}).next(()=>le.waitFor(o)).next(()=>r)}forEachTarget(t,e){return qy(t).X((i,r)=>{const o=ax(r);e(o)})}$n(t){return q6(t).get("targetGlobalKey").next(e=>(St(null!==e),e))}On(t,e){return q6(t).put("targetGlobalKey",e)}Fn(t,e){return qy(t).put(I6(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=sg(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return qy(t).X({range:r,index:"queryTargetsIndex"},(a,d,f)=>{const m=ax(d);Zw(e,m.target)&&(o=m,f.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=ep(t);return e.forEach(a=>{const d=Js(a.path);r.push(o.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,a))}),le.waitFor(r)}removeMatchingKeys(t,e,i){const r=ep(t);return le.forEach(e,o=>{const a=Js(o.path);return le.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=ep(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=ep(t);let o=hn();return r.X({range:i,Y:!0},(a,d,f)=>{const m=Eu(a[1]),v=new it(m);o=o.add(v)}).next(()=>o)}containsKey(t,e){const i=Js(e.path),r=IDBKeyRange.bound([i],[r3(i)],!1,!0);let o=0;return ep(t).X({index:"documentTargetsIndex",Y:!0,range:r},([a,d],f,m)=>{0!==a&&(o++,m.done())}).next(()=>o>0)}le(t,e){return qy(t).get(e).next(i=>i?ax(i):null)}}function qy(n){return bs(n,"targets")}function q6(n){return bs(n,"targetGlobal")}function ep(n){return bs(n,"targetDocuments")}function $6([n,t],[e,i]){const r=sn(n,e);return 0===r?sn(t,i):r}class E8{constructor(t){this.Ln=t,this.buffer=new Ri($6),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();$6(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Y6{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,be.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){jf(i)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Gf(i)}yield e.Qn(3e5)}))}}class D8{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return le.resolve(Fa.ct);const i=new E8(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(H6)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H6):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,o,a,d,f,m;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,a=Date.now(),this.nthSequenceNumber(t,r))).next(D=>(i=D,d=Date.now(),this.removeTargets(t,i,e))).next(D=>(o=D,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(D=>(m=Date.now(),TO()<=Xo.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-v}ms\n\tDetermined least recently used ${r} in `+(d-a)+`ms\n\tRemoved ${o} targets in `+(f-d)+`ms\n\tRemoved ${D} documents in `+(m-f)+`ms\nTotal Duration: ${m-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:D})))}}class S8{constructor(t,e){this.db=t,this.garbageCollector=function Z6(n,t){return new D8(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return oA(t,i)}removeReference(t,e,i){return oA(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return oA(t,e)}Xn(t,e){return function(i,r){let o=!1;return z6(i).Z(a=>j6(i,a,r).next(d=>(d&&(o=!0),le.resolve(!d)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(t,(a,d)=>{if(d<=e){const f=this.Xn(t,a).next(m=>{if(!m)return o++,i.getEntry(t,a).next(()=>(i.removeEntry(a,At.min()),ep(t).delete([0,Js(a.path)])))});r.push(f)}}).next(()=>le.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return oA(t,e)}Yn(t,e){const i=ep(t);let r,o=Fa.ct;return i.X({index:"documentTargetsIndex"},([a,d],{path:f,sequenceNumber:m})=>{0===a?(o!==Fa.ct&&e(new it(Eu(r)),o),o=m,r=f):o=Fa.ct}).next(()=>{o!==Fa.ct&&e(new it(Eu(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function oA(n,t){return ep(n).put((i=n.currentSequenceNumber,{targetId:0,path:Js(t.path),sequenceNumber:i}));var i}class W6{constructor(){this.changes=new Kd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Oi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?le.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class T8{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return mg(t).put(i)}removeEntry(t,e,i){return mg(t).delete(function(r,o){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],XT(o),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Oi.newInvalidDocument(e);return mg(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(hx(e))},(r,o)=>{i=this.ts(e,o)}).next(()=>i)}es(t,e){let i={size:0,document:Oi.newInvalidDocument(e)};return mg(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(hx(e))},(r,o)=>{i={document:this.ts(e,o),size:rA(o)}}).next(()=>i)}getEntries(t,e){let i=ia();return this.ns(t,e,(r,o)=>{const a=this.ts(r,o);i=i.insert(r,a)}).next(()=>i)}ss(t,e){let i=ia(),r=new bi(it.comparator);return this.ns(t,e,(o,a)=>{const d=this.ts(o,a);i=i.insert(o,d),r=r.insert(o,rA(a))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return le.resolve();let r=new Ri(X6);e.forEach(f=>r=r.add(f));const o=IDBKeyRange.bound(hx(r.first()),hx(r.last())),a=r.getIterator();let d=a.getNext();return mg(t).X({index:"documentKeyIndex",range:o},(f,m,v)=>{const D=it.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;d&&X6(d,D)<0;)i(d,null),d=a.getNext();d&&d.isEqual(D)&&(i(d,m),d=a.hasNext()?a.getNext():null),d?v.G(hx(d)):v.done()}).next(()=>{for(;d;)i(d,null),d=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,a=[o.popLast().toArray(),o.lastSegment(),XT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mg(t).j(IDBKeyRange.bound(a,d,!0)).next(f=>{let m=ia();for(const v of f){const D=this.ts(it.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);D.isFoundDocument()&&(Kw(e,D)||r.has(D.key))&&(m=m.insert(D.key,D))}return m})}getAllFromCollectionGroup(t,e,i,r){let o=ia();const a=J6(e,i),d=J6(e,Pa.max());return mg(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,d,!0)},(f,m,v)=>{const D=this.ts(it.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);o=o.insert(D.key,D),o.size===r&&v.done()}).next(()=>o)}newChangeBuffer(t){return new A8(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Q6(t).get("remoteDocumentGlobalKey").next(e=>(St(!!e),e))}Zn(t,e){return Q6(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function f8(n,t){let e;if(t.document)e=w6(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=it.fromSegments(t.noDocument.path),r=ug(t.noDocument.readTime);e=Oi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return mt();{const i=it.fromSegments(t.unknownDocument.path),r=ug(t.unknownDocument.version);e=Oi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new qi(i[0],i[1]);return At.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(At.min()))return i}return Oi.newInvalidDocument(t)}}function K6(n){return new T8(n)}class A8 extends W6{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Kd(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Ri((o,a)=>sn(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const d=this.us.get(o);if(e.push(this.os.removeEntry(t,o,d.readTime)),a.isValidDocument()){const f=A6(this.os.serializer,a);r=r.add(o.path.popLast());const m=rA(f);i+=m-d.size,e.push(this.os.addEntry(t,o,f))}else if(i-=d.size,this.trackRemovals){const f=A6(this.os.serializer,a.convertToNoDocument(At.min()));e.push(this.os.addEntry(t,o,f))}}),r.forEach(o=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.os.updateMetadata(t,i)),le.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((o,a)=>{this.us.set(o,{size:a,readTime:i.get(o).readTime})}),i))}}function Q6(n){return bs(n,"remoteDocumentGlobal")}function mg(n){return bs(n,"remoteDocumentsV14")}function hx(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function J6(n,t){const e=t.documentKey.path.toArray();return[n,XT(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function X6(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=sn(e[o],i[o]),r)return r;return r=sn(e.length,i.length),r||(r=sn(e[e.length-2],i[i.length-2]),r||sn(e[e.length-1],i[i.length-1]))}class I8{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class eH{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&ex(i.mutation,r,na.empty(),qi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,hn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=hn()){const r=Su();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let a=Qw();return o.forEach((d,f)=>{a=a.insert(d,f.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=Su();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,hn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((a,d)=>{e.set(a,d)})})}computeViews(t,e,i,r){let o=ia();const a=Jw(),d=Jw();return e.forEach((f,m)=>{const v=i.get(m.key);r.has(m.key)&&(void 0===v||v.mutation instanceof Qd)?o=o.insert(m.key,m):void 0!==v?(a.set(m.key,v.mutation.getFieldMask()),ex(v.mutation,m,v.mutation.getFieldMask(),qi.now())):a.set(m.key,na.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((m,v)=>a.set(m,v)),e.forEach((m,v)=>{var D;return d.set(m,new I8(v,null!==(D=a.get(m))&&void 0!==D?D:null))}),d))}recalculateAndSaveOverlays(t,e){const i=Jw();let r=new bi((a,d)=>a-d),o=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const d of a)d.keys().forEach(f=>{const m=e.get(f);if(null===m)return;let v=i.get(f)||na.empty();v=d.applyToLocalView(m,v),i.set(f,v);const D=(r.get(d.batchId)||hn()).add(f);r=r.insert(d.batchId,D)})}).next(()=>{const a=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,D=$3();v.forEach(A=>{if(!o.has(A)){const R=t6(e.get(A),i.get(A));null!==R&&D.set(A,R),o=o.add(A)}}),a.push(this.documentOverlayCache.saveOverlays(t,m,D))}return le.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return it.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):HO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):le.resolve(Su());let d=-1,f=o;return a.next(m=>le.forEach(m,(v,D)=>(d<D.largestBatchId&&(d=D.largestBatchId),o.get(v)?le.resolve():this.remoteDocumentCache.getEntry(t,v).next(A=>{f=f.insert(v,A)}))).next(()=>this.populateOverlays(t,m,o)).next(()=>this.computeViews(t,f,m,hn())).next(v=>({batchId:d,changes:q3(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new it(e)).next(i=>{let r=Qw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Qw();return this.indexManager.getCollectionParents(t,r).next(a=>le.forEach(a,d=>{const f=(m=e,v=d.child(r),new Wd(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,v;return this.getDocumentsMatchingCollectionQuery(t,f,i).next(m=>{m.forEach((v,D)=>{o=o.insert(v,D)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((d,f)=>{const m=f.getKey();null===o.get(m)&&(o=o.insert(m,Oi.newInvalidDocument(m)))});let a=Qw();return o.forEach((d,f)=>{const m=r.get(d);void 0!==m&&ex(m.mutation,f,na.empty(),qi.now()),Kw(e,f)&&(a=a.insert(d,f))}),a})}}class M8{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return le.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:Fr(i.createTime)}),le.resolve()}getNamedQuery(t,e){return le.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:nP(i.bundledQuery),readTime:Fr(i.readTime)}),le.resolve();var i}}class k8{constructor(){this.overlays=new bi(it.comparator),this.ls=new Map}getOverlay(t,e){return le.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Su();return le.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.we(t,e,o)}),le.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),le.resolve()}getOverlaysForCollection(t,e,i){const r=Su(),o=e.length+1,a=new it(e.child("")),d=this.overlays.getIteratorFrom(a);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return le.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new bi((m,v)=>m-v);const a=this.overlays.getIterator();for(;a.hasNext();){const m=a.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let v=o.get(m.largestBatchId);null===v&&(v=Su(),o=o.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Su(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=r)););return le.resolve(d)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new ZO(e,i));let o=this.ls.get(e);void 0===o&&(o=hn(),this.ls.set(e,o)),this.ls.set(e,o.add(i.key))}}class cP{constructor(){this.fs=new Ri(ws.ds),this.ws=new Ri(ws._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new ws(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new ws(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new it(new kn([])),i=new ws(e,t),r=new ws(e,t+1),o=[];return this.ws.forEachInRange([i,r],a=>{this.ys(a),o.push(a.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new it(new kn([])),i=new ws(e,t),r=new ws(e,t+1);let o=hn();return this.ws.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(t){const e=new ws(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class ws{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return it.comparator(t.key,e.key)||sn(t.As,e.As)}static _s(t,e){return sn(t.As,e.As)||it.comparator(t.key,e.key)}}class R8{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Ri(ws.ds)}checkEmpty(t){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.vs;this.vs++;const a=new $O(o,e,i,r);this.mutationQueue.push(a);for(const d of r)this.Rs=this.Rs.add(new ws(d.key,o)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return le.resolve(a)}lookupMutationBatch(t,e){return le.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),o=r<0?0:r;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ws(e,0),r=new ws(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],a=>{const d=this.Ps(a.As);o.push(d)}),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(sn);return e.forEach(r=>{const o=new ws(r,0),a=new ws(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,a],d=>{i=i.add(d.As)})}),le.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;it.isDocumentKey(o)||(o=o.child(""));const a=new ws(new it(o),0);let d=new Ri(sn);return this.Rs.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(d=d.add(f.As)),!0)},a),le.resolve(this.Vs(d))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){St(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return le.forEach(e.mutations,r=>{const o=new ws(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new ws(e,0),r=this.Rs.firstAfterOrEqual(i);return le.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return le.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class O8{constructor(t){this.Ds=t,this.docs=new bi(it.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,a=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return le.resolve(i?i.document.mutableCopy():Oi.newInvalidDocument(e))}getEntries(t,e){let i=ia();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Oi.newInvalidDocument(r))}),le.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=ia();const a=e.path,d=new it(a.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!a.isPrefixOf(m.path))break;m.path.length>a.length+1||MO(o3(v),i)<=0||(r.has(v.key)||Kw(e,v))&&(o=o.insert(v.key,v.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(t,e,i,r){mt()}Cs(t,e){return le.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new P8(this)}getSize(t){return le.resolve(this.size)}}class P8 extends W6{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),le.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class F8{constructor(t){this.persistence=t,this.xs=new Kd(e=>sg(e),Zw),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Ns=0,this.ks=new cP,this.targetCount=0,this.Ms=pg.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),le.resolve()}getLastRemoteSnapshotVersion(t){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return le.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),le.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new pg(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,le.resolve()}updateTargetData(t,e){return this.Fn(e),le.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,le.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.xs.forEach((a,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.xs.delete(a),o.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),le.waitFor(o).next(()=>r)}getTargetCount(t){return le.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return le.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),le.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(a=>{o.push(r.markPotentiallyOrphaned(t,a))}),le.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),le.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return le.resolve(i)}containsKey(t,e){return le.resolve(this.ks.containsKey(e))}}class uP{constructor(t,e){this.$s={},this.overlays={},this.Os=new Fa(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new F8(this),this.indexManager=new w8,this.remoteDocumentCache=new O8(i=>this.referenceDelegate.Ls(i)),this.serializer=new T6(e),this.qs=new M8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new k8,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new R8(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){Ge("MemoryPersistence","Starting transaction:",t);const r=new N8(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(t,e){return le.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class N8 extends l3{constructor(t){super(),this.currentSequenceNumber=t}}class aA{constructor(t){this.persistence=t,this.Qs=new cP,this.js=null}static zs(t){return new aA(t)}get Ws(){if(this.js)return this.js;throw mt()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),le.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),le.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),le.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ws,i=>{const r=it.fromPath(i);return this.Hs(t,r).next(o=>{o||e.removeEntry(r,At.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return le.or([()=>le.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class L8{constructor(t){this.serializer=t}O(t,e,i,r){const o=new FT("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",h3,{unique:!0}),d.createObjectStore("documentMutations"),tH(t),function(d){d.createObjectStore("remoteDocuments")}(t));let a=le.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),tH(t)),a=a.next(()=>function(d){const f=d.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",m)}(o))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(d,f){return f.store("mutations").j().next(m=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",h3,{unique:!0});const v=f.store("mutations"),D=m.map(A=>v.put(A));return le.waitFor(D)})}(t,o))),a=a.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Ys(o))),i<6&&r>=6&&(a=a.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(o)))),i<7&&r>=7&&(a=a.next(()=>this.Zs(o))),i<8&&r>=8&&(a=a.next(()=>this.ti(t,o))),i<9&&r>=9&&(a=a.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.ei(o))),i<11&&r>=11&&(a=a.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:wW});f.createIndex("collectionPathOverlayIndex",xW,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",CW,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:uW});f.createIndex("documentKeyIndex",dW),f.createIndex("collectionGroupIndex",hW)}(t)).next(()=>this.ni(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.si(t,o))),i<15&&r>=15&&(a=a.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:_W}).createIndex("sequenceNumberIndex",yW,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:vW}).createIndex("documentKeyIndex",bW,{unique:!1})}(t))),a}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=rA(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>le.forEach(r,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(d=>le.forEach(d,f=>{St(f.userId===o.userId);const m=dg(this.serializer,f);return G6(t,o.userId,m).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((a,d)=>{const f=new kn(a),m=[0,Js(f)];o.push(e.get(m).next(v=>v?le.resolve():e.put({targetId:0,path:Js(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>le.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:gW});const i=e.store("collectionParents"),r=new lP,o=a=>{if(r.add(a)){const d=a.lastSegment(),f=a.popLast();return i.put({collectionId:d,parent:Js(f)})}};return e.store("remoteDocuments").X({Y:!0},(a,d)=>{const f=new kn(a);return o(f.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([a,d,f],m)=>{const v=Eu(d);return o(v.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const o=ax(r),a=I6(this.serializer,o);return e.put(a)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,a)=>{const d=e.store("remoteDocumentsV14"),f=(m=a,m.document?new it(kn.fromString(m.document.name).popFirst(5)):m.noDocument?it.fromSegments(m.noDocument.path):m.unknownDocument?it.fromSegments(m.unknownDocument.path):mt()).path.toArray();var m;const v={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(d.put(v))}).next(()=>le.waitFor(r))}si(t,e){const i=e.store("mutations"),r=K6(this.serializer),o=new uP(aA.zs,this.serializer.fe);return i.j().next(a=>{const d=new Map;return a.forEach(f=>{var m;let v=null!==(m=d.get(f.userId))&&void 0!==m?m:hn();dg(this.serializer,f).keys().forEach(D=>v=v.add(D)),d.set(f.userId,v)}),le.forEach(d,(f,m)=>{const v=new vs(m),D=eA.de(this.serializer,v),A=o.getIndexManager(v),R=sA.de(v,this.serializer,A,o.referenceDelegate);return new eH(r,R,D,A).recalculateAndSaveOverlaysForDocumentKeys(new OO(e,Fa.ct),f).next()})})}}function tH(n){n.createObjectStore("targetDocuments",{keyPath:pW}).createIndex("documentTargetsIndex",mW,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fW,{unique:!0}),n.createObjectStore("targetGlobal")}const dP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hP{constructor(t,e,i,r,o,a,d,f,m,v,D=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=o,this.window=a,this.document=d,this.ri=m,this.oi=v,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=A=>Promise.resolve(),!hP.D())throw new Oe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new S8(this,r),this.di=e+"main",this.serializer=new T6(f),this.wi=new mc(this.di,this.ui,new L8(this.serializer)),this.Bs=new C8(this.referenceDelegate,this.serializer),this.remoteDocumentCache=K6(this.serializer),this.qs=new p8,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===v&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,dP);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Fa(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,be.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,be.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,be.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>cA(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(jf(t))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return fx(t).get("owner").next(e=>le.resolve(this.Ri(e)))}Pi(t){return cA(t).delete(this.clientId)}bi(){var t=this;return(0,be.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=bs(i,"clientMetadata");return r.j().next(o=>{const a=t.Si(o,18e5),d=o.filter(f=>-1===a.indexOf(f));return le.forEach(d,f=>r.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?le.resolve(!0):fx(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,dP);return!1}}return!(!this.networkEnabled||!this.inForeground)||cA(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ge("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,be.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new OO(e,Fa.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>cA(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return sA.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new x8(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return eA.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){Ge("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(a=this.ui)?DW:14===a?g3:13===a?m3:12===a?EW:11===a?p3:void mt();var a;let d;return this.wi.runTransaction(t,r,o,f=>(d=new OO(f,this.Os?this.Os.next():Fa.ct),"readwrite-primary"===e?this.Ti(d).next(m=>!!m||this.Ei(d)).next(m=>{if(!m)throw Pr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Oe(me.FAILED_PRECONDITION,a3);return i(d)}).next(m=>this.vi(d).next(()=>m)):this.Oi(d).next(()=>i(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}Oi(t){return fx(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Oe(me.FAILED_PRECONDITION,dP)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fx(t).put("owner",e)}static D(){return mc.D()}Ai(t){const e=fx(t);return e.get("owner").next(i=>this.Ri(i)?(Ge("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):le.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Pr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,H.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Ge("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Pr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Pr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function fx(n){return bs(n,"owner")}function cA(n){return bs(n,"clientMetadata")}function fP(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class pP{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=hn(),r=hn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new pP(t,e.fromCache,i,r)}}class nH{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(o=>o||this.Gi(t,e,r,i)).next(o=>o||this.Qi(t,e))}Ki(t,e){if(U3(e))return le.resolve(null);let i=wo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=$T(e,null,"F"),i=wo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const a=hn(...o);return this.Ui.getDocuments(t,a).next(d=>this.indexManager.getMinOffset(t,i).next(f=>{const m=this.ji(e,d);return this.zi(e,m,a,f.readTime)?this.Ki(t,$T(e,null,"F")):this.Wi(t,m,e,f)}))})))}Gi(t,e,i,r){return U3(e)||r.isEqual(At.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(o=>{const a=this.ji(e,o);return this.zi(e,a,i,r)?this.Qi(t,e):(TO()<=Xo.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jO(e)),this.Wi(t,a,e,s3(r,-1)))})}ji(t,e){let i=new Ri(j3(t));return e.forEach((r,o)=>{Kw(t,o)&&(i=i.add(o))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(t,e){return TO()<=Xo.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",jO(e)),this.Ui.getDocumentsMatchingQuery(t,e,Pa.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(a=>{o=o.insert(a.key,a)}),o))}}class B8{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new bi(sn),this.Yi=new Kd(o=>sg(o),Zw),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eH(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function iH(n,t,e,i){return new B8(n,t,e,i)}function rH(n,t){return mP.apply(this,arguments)}function mP(){return mP=(0,be.Z)(function*(n,t){const e=at(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],d=[];let f=hn();for(const m of r){a.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of o){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return e.localDocuments.getDocuments(i,f).next(m=>({er:m,removedBatchIds:a,addedBatchIds:d}))})})}),mP.apply(this,arguments)}function sH(n){const t=at(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function oH(n,t,e){let i=hn(),r=hn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let a=ia();return e.forEach((d,f)=>{const m=o.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(At.min())?(t.removeEntry(d,f.readTime),a=a.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||0===f.version.compareTo(m.version)&&m.hasPendingWrites?(t.addEntry(f),a=a.insert(d,f)):Ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{nr:a,sr:r}})}function H8(n,t){const e=at(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function $y(n,t){const e=at(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(o=>o?(r=o,le.resolve(r)):e.Bs.allocateTargetId(i).next(a=>(r=new Jd(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function Yy(n,t,e){return gP.apply(this,arguments)}function gP(){return gP=(0,be.Z)(function*(n,t,e){const i=at(n),r=i.Ji.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!jf(a))throw a;Ge("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),gP.apply(this,arguments)}function uA(n,t,e){const i=at(n);let r=At.min(),o=hn();return i.persistence.runTransaction("Execute query","readonly",a=>function(d,f,m){const v=at(d),D=v.Yi.get(m);return void 0!==D?le.resolve(v.Ji.get(D)):v.Bs.getTargetData(f,m)}(i,a,wo(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,d.targetId).next(f=>{o=f})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,t,e?r:At.min(),e?o:hn())).next(d=>(cH(i,G3(t),d),{documents:d,ir:o})))}function aH(n,t){const e=at(n),i=at(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.le(o,t).next(a=>a?a.target:null))}function lH(n,t){const e=at(n),i=e.Xi.get(t)||At.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,s3(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(cH(e,t,r),r))}function cH(n,t,e){let i=n.Xi.get(t)||At.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(t,i)}function _P(){return _P=(0,be.Z)(function*(n,t,e,i){const r=at(n);let o=hn(),a=ia();for(const m of e){const v=t.rr(m.metadata.name);m.document&&(o=o.add(v));const D=t.ur(m);D.setReadTime(t.cr(m.metadata.readTime)),a=a.insert(v,D)}const d=r.Zi.newChangeBuffer({trackRemovals:!0}),f=yield $y(r,(m=i,wo(Ly(kn.fromString(`__bundle__/docs/${m}`)))));var m;return r.persistence.runTransaction("Apply bundle documents","readwrite",m=>oH(m,d,a).next(v=>(d.apply(m),v)).next(v=>r.Bs.removeMatchingKeysForTargetId(m,f.targetId).next(()=>r.Bs.addMatchingKeys(m,o,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,v.nr,v.sr)).next(()=>v.nr)))}),_P.apply(this,arguments)}function j8(n,t){return yP.apply(this,arguments)}function yP(){return yP=(0,be.Z)(function*(n,t,e=hn()){const i=yield $y(n,wo(nP(t.bundledQuery))),r=at(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const a=Fr(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.qs.saveNamedQuery(o,t);const d=i.withResumeToken(ss.EMPTY_BYTE_STRING,a);return r.Ji=r.Ji.insert(d.targetId,d),r.Bs.updateTargetData(o,d).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,e,i.targetId)).next(()=>r.qs.saveNamedQuery(o,t))})}),yP.apply(this,arguments)}function uH(n,t){return`firestore_clients_${n}_${t}`}function dH(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function vP(n,t){return`firestore_targets_${n}_${t}`}class dA{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let o,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(o=new Oe(r.error.code,r.error.message))),a?new dA(t,e,r.state,o):(Pr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class px{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Oe(i.error.code,i.error.message))),o?new px(t,i.state,r):(Pr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class hA{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=zO();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=u3(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return r?new hA(t,o):(Pr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class bP{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new bP(e.clientId,e.onlineState):(Pr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class wP{constructor(){this.activeTargetIds=zO()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xP{constructor(t,e,i,r,o){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new bi(sn),this.started=!1,this.yr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=uH(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new wP),this.Tr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,be.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const o=t.getItem(uH(t.persistenceKey,r));if(o){const a=hA.ar(r,o);a&&(t.gr=t.gr.insert(a.clientId,a))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(vP(this.persistenceKey,t));if(i){const r=px.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(vP(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ge("SharedClientState","READ",t,e),e}setItem(t,e){Ge("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ge("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ge("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,be.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(o){let a=Fa.ct;if(null!=o)try{const d=JSON.parse(o);St("number"==typeof d),a=d}catch(d){Pr("SharedClientState","Failed to read sequence number from WebStorage",d)}return a}(i.newValue);r!==Fa.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Qr(o)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new dA(this.currentUser,t,e,i),o=dH(this.persistenceKey,this.currentUser,t);this.setItem(o,r.hr())}Cr(t){const e=dH(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=vP(this.persistenceKey,t),o=new px(t,e,i);this.setItem(r,o.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return hA.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return dA.ar(new vs(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return px.ar(r,e)}br(t){return bP.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,be.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),o=this.Sr(i),a=[],d=[];return o.forEach(f=>{r.has(f)||a.push(f)}),r.forEach(f=>{o.has(f)||d.push(f)}),this.syncEngine.Wr(a,d).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=zO();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class hH{constructor(){this.Hr=new wP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new wP,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class z8{Yr(t){}shutdown(){}}class fH{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fA=null;function CP(){return null===fA?fA=268435456+Math.round(2147483648*Math.random()):fA++,"0x"+fA.toString(16)}const q8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $8{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const eo="WebChannelConnection";class Y8 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,o){const a=CP(),d=this.To(t,e);Ge("RestConnection",`Sending RPC '${t}' ${a}:`,d,i);const f={};return this.Eo(f,r,o),this.Ao(t,d,f,i).then(m=>(Ge("RestConnection",`Received RPC '${t}' ${a}: `,m),m),m=>{throw yl("RestConnection",`RPC '${t}' ${a} failed with error: `,m,"url: ",d,"request:",i),m})}vo(t,e,i,r,o,a){return this.Io(t,e,i,r,o)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ky,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}To(t,e){return`${this.mo}/v1/${e}:${q8[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const o=CP();return new Promise((a,d)=>{const f=new zZ;f.setWithCredentials(!0),f.listenOnce(HZ.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case SO.NO_ERROR:const v=f.getResponseJson();Ge(eo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(v)),a(v);break;case SO.TIMEOUT:Ge(eo,`RPC '${t}' ${o} timed out`),d(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case SO.HTTP_ERROR:const D=f.getStatus();if(Ge(eo,`RPC '${t}' ${o} failed with status:`,D,"response text:",f.getResponseText()),D>0){let A=f.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A?.error;if(R&&R.status&&R.message){const B=function(q){const W=q.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(W)>=0?W:me.UNKNOWN}(R.status);d(new Oe(B,R.message))}else d(new Oe(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{Ge(eo,`RPC '${t}' ${o} completed.`)}});const m=JSON.stringify(r);Ge(eo,`RPC '${t}' ${o} sending request:`,r),f.send(e,"POST",m,i,15)})}Ro(t,e,i){const r=CP(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=VZ(),d=UZ(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;void 0!==m&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.xmlHttpFactory=new jZ({})),this.Eo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const v=o.join("");Ge(eo,`Creating RPC '${t}' stream ${r}: ${v}`,f);const D=a.createWebChannel(v,f);let A=!1,R=!1;const B=new $8({ro:W=>{R?Ge(eo,`Not sending because RPC '${t}' stream ${r} is closed:`,W):(A||(Ge(eo,`Opening RPC '${t}' stream ${r} transport.`),D.open(),A=!0),Ge(eo,`RPC '${t}' stream ${r} sending:`,W),D.send(W))},oo:()=>D.close()}),q=(W,ce,Re)=>{W.listen(ce,Le=>{try{Re(Le)}catch(Ye){setTimeout(()=>{throw Ye},0)}})};return q(D,RT.EventType.OPEN,()=>{R||Ge(eo,`RPC '${t}' stream ${r} transport opened.`)}),q(D,RT.EventType.CLOSE,()=>{R||(R=!0,Ge(eo,`RPC '${t}' stream ${r} transport closed`),B.wo())}),q(D,RT.EventType.ERROR,W=>{R||(R=!0,yl(eo,`RPC '${t}' stream ${r} transport errored:`,W),B.wo(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),q(D,RT.EventType.MESSAGE,W=>{var ce;if(!R){const Re=W.data[0];St(!!Re);const Ye=Re.error||(null===(ce=Re[0])||void 0===ce?void 0:ce.error);if(Ye){Ge(eo,`RPC '${t}' stream ${r} received error:`,Ye);const It=Ye.status;let Lt=function(Li){const Es=zr[Li];if(void 0!==Es)return a6(Es)}(It),xn=Ye.message;void 0===Lt&&(Lt=me.INTERNAL,xn="Unknown error status: "+It+" with message "+Ye.message),R=!0,B.wo(new Oe(Lt,xn)),D.close()}else Ge(eo,`RPC '${t}' stream ${r} received:`,Re),B._o(Re)}}),q(d,GZ.STAT_EVENT,W=>{W.stat===XU.PROXY?Ge(eo,`RPC '${t}' stream ${r} detected buffering proxy`):W.stat===XU.NOPROXY&&Ge(eo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.fo()},0),B}}function pH(){return typeof window<"u"?window:null}function pA(){return typeof document<"u"?document:null}function mx(n){return new i8(n,!0)}class EP{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&Ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class mH{constructor(t,e,i,r,o,a,d,f){this.ii=t,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new EP(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,be.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,be.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,be.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(Pr(e.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new Oe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,be.Z)(function*(){t.state=0,t.start()}))}tu(t){return Ge("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z8 extends mH{constructor(t,e,i,r,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.serializer=o}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function o8(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:mt(),r=t.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(St(void 0===m||"string"==typeof m),ss.fromBase64String(m||"")):(St(void 0===m||m instanceof Uint8Array),ss.fromUint8Array(m||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,d=a&&function(f){const m=void 0===f.code?me.UNKNOWN:a6(f.code);return new Oe(m,f.message||"")}(a);e=new h6(i,r,o,d||null)}else if("documentChange"in t){const i=t.documentChange,r=Tu(n,i.document.name),o=Fr(i.document.updateTime),a=i.document.createTime?Fr(i.document.createTime):At.min(),d=new Ls({mapValue:{fields:i.document.fields}}),f=Oi.newFoundDocument(r,o,a,d);e=new JT(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=Tu(n,i.document),o=i.readTime?Fr(i.readTime):At.min(),a=Oi.newNoDocument(r,o);e=new JT([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=Tu(n,i.document);e=new JT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return mt();{const i=t.filter,{count:r=0,unchangedNames:o}=i,a=new QW(r,o);e=new d6(i.targetId,a)}}var f;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return At.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?At.min():o.readTime?Fr(o.readTime):At.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=sx(this.serializer),e.addTarget=function(r,o){let a;const d=o.target;if(a=jT(d)?{documents:x6(r,d)}:{query:tP(r,d)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=g6(r,o.resumeToken);const f=QO(r,o.expectedCount);null!==f&&(a.expectedCount=f)}else if(o.snapshotVersion.compareTo(At.min())>0){a.readTime=Gy(r,o.snapshotVersion.toTimestamp());const f=QO(r,o.expectedCount);null!==f&&(a.expectedCount=f)}return a}(this.serializer,t);const i=function l8(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=sx(this.serializer),e.removeTarget=t,this.Wo(e)}}class W8 extends mH{constructor(t,e,i,r,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(St(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function a8(n,t){return n&&n.length>0?(St(void 0!==t),n.map(e=>function(i,r){let o=Fr(i.updateTime?i.updateTime:r);return o.isEqual(At.min())&&(o=Fr(r)),new YW(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Fr(t.commitTime);return this.listener.cu(i,e)}return St(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=sx(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>ox(this.serializer,i))};this.Wo(e)}}class K8 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(me.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,e,i,o,a,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Oe(me.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class J8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Pr(e),this.mu=!1):Ge("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class X8{constructor(t,e,i,r,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(d=>{i.enqueueAndForget((0,be.Z)(function*(){var f;tp(a)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,be.Z)(function*(m){const v=at(m);v.vu.add(4),yield Zy(v),v.bu.set("Unknown"),v.vu.delete(4),yield gx(v)}),function(m){return f.apply(this,arguments)})(a))}))}),this.bu=new J8(i,r)}}function gx(n){return SP.apply(this,arguments)}function SP(){return SP=(0,be.Z)(function*(n){if(tp(n))for(const t of n.Ru)yield t(!0)}),SP.apply(this,arguments)}function Zy(n){return TP.apply(this,arguments)}function TP(){return TP=(0,be.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),TP.apply(this,arguments)}function mA(n,t){const e=at(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),MP(e)?IP(e):Ky(e).Ko()&&AP(e,t))}function _x(n,t){const e=at(n),i=Ky(e);e.Au.delete(t),i.Ko()&&gH(e,t),0===e.Au.size&&(i.Ko()?i.jo():tp(e)&&e.bu.set("Unknown"))}function AP(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ky(n).su(t)}function gH(n,t){n.Vu.qt(t),Ky(n).iu(t)}function IP(n){n.Vu=new XW({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),Ky(n).start(),n.bu.gu()}function MP(n){return tp(n)&&!Ky(n).Uo()&&n.Au.size>0}function tp(n){return 0===at(n).vu.size}function _H(n){n.Vu=void 0}function e7(n){return kP.apply(this,arguments)}function kP(){return kP=(0,be.Z)(function*(n){n.Au.forEach((t,e)=>{AP(n,t)})}),kP.apply(this,arguments)}function t7(n,t){return RP.apply(this,arguments)}function RP(){return RP=(0,be.Z)(function*(n,t){_H(n),MP(n)?(n.bu.Iu(t),IP(n)):n.bu.set("Unknown")}),RP.apply(this,arguments)}function n7(n,t,e){return OP.apply(this,arguments)}function OP(){return OP=(0,be.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof h6&&2===t.state&&t.cause)try{yield(i=(0,be.Z)(function*(r,o){const a=o.cause;for(const d of o.targetIds)r.Au.has(d)&&(yield r.remoteSyncer.rejectListen(d,a),r.Au.delete(d),r.Vu.removeTarget(d))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Ge("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield gA(n,i)}else if(t instanceof JT?n.Vu.Ht(t):t instanceof d6?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(At.min()))try{const i=yield sH(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const a=r.Vu.ce(o);return a.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=r.Au.get(f);m&&r.Au.set(f,m.withResumeToken(d.resumeToken,o))}}),a.targetMismatches.forEach((d,f)=>{const m=r.Au.get(d);if(!m)return;r.Au.set(d,m.withResumeToken(ss.EMPTY_BYTE_STRING,m.snapshotVersion)),gH(r,d);const v=new Jd(m.target,d,f,m.sequenceNumber);AP(r,v)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){Ge("RemoteStore","Failed to raise snapshot:",i),yield gA(n,i)}var i}),OP.apply(this,arguments)}function gA(n,t,e){return PP.apply(this,arguments)}function PP(){return PP=(0,be.Z)(function*(n,t,e){if(!jf(t))throw t;n.vu.add(1),yield Zy(n),n.bu.set("Offline"),e||(e=()=>sH(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield gx(n)}))}),PP.apply(this,arguments)}function yH(n,t){return t().catch(e=>gA(n,e,t))}function Wy(n){return FP.apply(this,arguments)}function FP(){return FP=(0,be.Z)(function*(n){const t=at(n),e=np(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;i7(t);)try{const r=yield H8(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,r7(t,r)}catch(r){yield gA(t,r)}vH(t)&&bH(t)}),FP.apply(this,arguments)}function i7(n){return tp(n)&&n.Eu.length<10}function r7(n,t){n.Eu.push(t);const e=np(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function vH(n){return tp(n)&&!np(n).Uo()&&n.Eu.length>0}function bH(n){np(n).start()}function s7(n){return NP.apply(this,arguments)}function NP(){return NP=(0,be.Z)(function*(n){np(n).hu()}),NP.apply(this,arguments)}function o7(n){return LP.apply(this,arguments)}function LP(){return LP=(0,be.Z)(function*(n){const t=np(n);for(const e of n.Eu)t.uu(e.mutations)}),LP.apply(this,arguments)}function a7(n,t,e){return BP.apply(this,arguments)}function BP(){return BP=(0,be.Z)(function*(n,t,e){const i=n.Eu.shift(),r=YO.from(i,t,e);yield yH(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Wy(n)}),BP.apply(this,arguments)}function l7(n,t){return VP.apply(this,arguments)}function VP(){return VP=(0,be.Z)(function*(n,t){var e;t&&np(n).ou&&(yield(e=(0,be.Z)(function*(i,r){if(o6(o=r.code)&&o!==me.ABORTED){const a=i.Eu.shift();np(i).Qo(),yield yH(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield Wy(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),vH(n)&&bH(n)}),VP.apply(this,arguments)}function wH(n,t){return UP.apply(this,arguments)}function UP(){return UP=(0,be.Z)(function*(n,t){const e=at(n);e.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const i=tp(e);e.vu.add(3),yield Zy(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield gx(e)}),UP.apply(this,arguments)}function HP(n,t){return GP.apply(this,arguments)}function GP(){return GP=(0,be.Z)(function*(n,t){const e=at(n);t?(e.vu.delete(2),yield gx(e)):t||(e.vu.add(2),yield Zy(e),e.bu.set("Unknown"))}),GP.apply(this,arguments)}function Ky(n){return n.Su||(n.Su=function(t,e,i){const r=at(t);return r.fu(),new Z8(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:e7.bind(null,n),ao:t7.bind(null,n),nu:n7.bind(null,n)}),n.Ru.push(function(){var t=(0,be.Z)(function*(e){e?(n.Su.Qo(),MP(n)?IP(n):n.bu.set("Unknown")):(yield n.Su.stop(),_H(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function np(n){return n.Du||(n.Du=function(t,e,i){const r=at(t);return r.fu(),new W8(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:s7.bind(null,n),ao:l7.bind(null,n),au:o7.bind(null,n),cu:a7.bind(null,n)}),n.Ru.push(function(){var t=(0,be.Z)(function*(e){e?(n.Du.Qo(),yield Wy(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class jP{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,o){const a=Date.now()+i,d=new jP(t,e,a,r,o);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qy(n,t){if(Pr("AsyncQueue",`${t}: ${n}`),jf(n))return new Oe(me.UNAVAILABLE,`${t}: ${n}`);throw n}class Jy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||it.comparator(e.key,i.key):(e,i)=>it.comparator(e.key,i.key),this.keyedMap=Qw(),this.sortedSet=new bi(this.comparator)}static emptySet(t){return new Jy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Jy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Jy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class xH{constructor(){this.Cu=new bi(it.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):mt():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Xy{constructor(t,e,i,r,o,a,d,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const a=[];return e.forEach(d=>{a.push({type:0,doc:d})}),new Xy(t,e,Jy.emptySet(e),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ww(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class c7{constructor(){this.Nu=void 0,this.listeners=[]}}class u7{constructor(){this.queries=new Kd(t=>H3(t),Ww),this.onlineState="Unknown",this.ku=new Set}}function zP(n,t){return qP.apply(this,arguments)}function qP(){return qP=(0,be.Z)(function*(n,t){const e=at(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new c7),r)try{o.Nu=yield e.onListen(i)}catch(a){const d=Qy(a,`Initialization of query '${jO(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,o),o.listeners.push(t),t.Mu(e.onlineState),o.Nu&&t.$u(o.Nu)&&ZP(e)}),qP.apply(this,arguments)}function $P(n,t){return YP.apply(this,arguments)}function YP(){return YP=(0,be.Z)(function*(n,t){const e=at(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const a=o.listeners.indexOf(t);a>=0&&(o.listeners.splice(a,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),YP.apply(this,arguments)}function d7(n,t){const e=at(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const d of a.listeners)d.$u(r)&&(i=!0);a.Nu=r}}i&&ZP(e)}function h7(n,t,e){const i=at(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function ZP(n){n.ku.forEach(t=>{t.next()})}class WP{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Xy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Xy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class f7{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class CH{constructor(t){this.serializer=t}rr(t){return Tu(this.serializer,t)}ur(t){return t.metadata.exists?w6(this.serializer,t.document,!1):Oi.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Fr(t)}}class p7{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=EH(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=kn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new CH(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const a of r.metadata.queries){const d=(e.get(a)||hn()).add(o);e.set(a,d)}}return e}complete(){var t=this;return(0,be.Z)(function*(){const e=yield function G8(n,t,e,i){return _P.apply(this,arguments)}(t.localStore,new CH(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield j8(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function EH(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class DH{constructor(t){this.key=t}}class SH{constructor(t){this.key=t}}class TH{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=hn(),this.mutatedKeys=hn(),this.tc=j3(t),this.ec=new Jy(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new xH,r=e?e.ec:this.ec;let o=e?e.mutatedKeys:this.mutatedKeys,a=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,m="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((v,D)=>{const A=r.get(v),R=Kw(this.query,D)?D:null,B=!!A&&this.mutatedKeys.has(A.key),q=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let W=!1;A&&R?A.data.isEqual(R.data)?B!==q&&(i.track({type:3,doc:R}),W=!0):this.rc(A,R)||(i.track({type:2,doc:R}),W=!0,(f&&this.tc(R,f)>0||m&&this.tc(R,m)<0)&&(d=!0)):!A&&R?(i.track({type:0,doc:R}),W=!0):A&&!R&&(i.track({type:1,doc:A}),W=!0,(f||m)&&(d=!0)),W&&(R?(a=a.add(R),o=q?o.add(v):o.delete(v)):(a=a.delete(v),o=o.delete(v)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const v="F"===this.query.limitType?a.last():a.first();a=a.delete(v.key),o=o.delete(v.key),i.track({type:1,doc:v})}return{ec:a,ic:i,zi:d,mutatedKeys:o}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((m,v)=>function(D,A){const R=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return R(D)-R(A)}(m.type,v.type)||this.tc(m.doc,v.doc)),this.oc(i);const a=e?this.uc():[],d=0===this.Zu.size&&this.current?1:0,f=d!==this.Xu;return this.Xu=d,0!==o.length||f?{snapshot:new Xy(this.query,t.ec,r,o,t.mutatedKeys,0===d,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new xH,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=hn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new SH(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new DH(i))}),e}hc(t){this.Yu=t.ir,this.Zu=hn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Xy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class m7{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class g7{constructor(t){this.key=t,this.fc=!1}}class _7{constructor(t,e,i,r,o,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new Kd(d=>H3(d),Ww),this._c=new Map,this.mc=new Set,this.gc=new bi(it.comparator),this.yc=new Map,this.Ic=new cP,this.Tc={},this.Ec=new Map,this.Ac=pg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function y7(n,t){return KP.apply(this,arguments)}function KP(){return KP=(0,be.Z)(function*(n,t){const e=vF(n);let i,r;const o=e.wc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const a=yield $y(e.localStore,wo(t)),d=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield QP(e,t,i,"current"===d,a.resumeToken),e.isPrimaryClient&&mA(e.remoteStore,a)}return r}),KP.apply(this,arguments)}function QP(n,t,e,i,r){return JP.apply(this,arguments)}function JP(){return JP=(0,be.Z)(function*(n,t,e,i,r){n.Rc=(D,A,R)=>{return(B=(0,be.Z)(function*(q,W,ce,Re){let Le=W.view.sc(ce);Le.zi&&(Le=yield uA(q.localStore,W.query,!1).then(({documents:Lt})=>W.view.sc(Lt,Le)));const Ye=Re&&Re.targetChanges.get(W.targetId),It=W.view.applyChanges(Le,q.isPrimaryClient,Ye);return lF(q,W.targetId,It.cc),It.snapshot}),function(q,W,ce,Re){return B.apply(this,arguments)})(n,D,A,R);var B};const o=yield uA(n.localStore,t,!0),a=new TH(t,o.ir),d=a.sc(o.documents),f=ix.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),m=a.applyChanges(d,n.isPrimaryClient,f);lF(n,e,m.cc);const v=new m7(t,e,a);return n.wc.set(t,v),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),m.snapshot}),JP.apply(this,arguments)}function v7(n,t){return XP.apply(this,arguments)}function XP(){return XP=(0,be.Z)(function*(n,t){const e=at(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!Ww(o,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Yy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),_x(e.remoteStore,i.targetId),ev(e,i.targetId)}).catch(Gf))):(ev(e,i.targetId),yield Yy(e.localStore,i.targetId,!0))}),XP.apply(this,arguments)}function eF(){return eF=(0,be.Z)(function*(n,t,e){const i=bF(n);try{const r=yield function(o,a){const d=at(o),f=qi.now(),m=a.reduce((A,R)=>A.add(R.key),hn());let v,D;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let R=ia(),B=hn();return d.Zi.getEntries(A,m).next(q=>{R=q,R.forEach((W,ce)=>{ce.isValidDocument()||(B=B.add(W))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,R)).next(q=>{v=q;const W=[];for(const ce of a){const Re=WW(ce,v.get(ce.key).overlayedDocument);null!=Re&&W.push(new Qd(ce.key,Re,T3(Re.value.mapValue),$i.exists(!0)))}return d.mutationQueue.addMutationBatch(A,f,W,a)}).next(q=>{D=q;const W=q.applyToLocalDocumentSet(v,B);return d.documentOverlayCache.saveOverlays(A,q.batchId,W)})}).then(()=>({batchId:D.batchId,changes:q3(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,d){let f=o.Tc[o.currentUser.toKey()];f||(f=new bi(sn)),f=f.insert(a,d),o.Tc[o.currentUser.toKey()]=f}(i,r.batchId,e),yield Xd(i,r.changes),yield Wy(i.remoteStore)}catch(r){const o=Qy(r,"Failed to persist write");e.reject(o)}}),eF.apply(this,arguments)}function AH(n,t){return tF.apply(this,arguments)}function tF(){return tF=(0,be.Z)(function*(n,t){const e=at(n);try{const i=yield function U8(n,t){const e=at(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const d=[];t.targetChanges.forEach((v,D)=>{const A=r.get(D);if(!A)return;d.push(e.Bs.removeMatchingKeys(o,v.removedDocuments,D).next(()=>e.Bs.addMatchingKeys(o,v.addedDocuments,D)));let R=A.withSequenceNumber(o.currentSequenceNumber);var B,q,W;null!==t.targetMismatches.get(D)?R=R.withResumeToken(ss.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),r=r.insert(D,R),q=R,W=v,(0===(B=A).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0)&&d.push(e.Bs.updateTargetData(o,R))});let f=ia(),m=hn();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(o,v))}),d.push(oH(o,a,t.documentUpdates).next(v=>{f=v.nr,m=v.sr})),!i.isEqual(At.min())){const v=e.Bs.getLastRemoteSnapshotVersion(o).next(D=>e.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));d.push(v)}return le.waitFor(d).next(()=>a.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(e.Ji=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const a=e.yc.get(o);a&&(St(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.fc=!0:r.modifiedDocuments.size>0?St(a.fc):r.removedDocuments.size>0&&(St(a.fc),a.fc=!1))}),yield Xd(e,i,t)}catch(i){yield Gf(i)}}),tF.apply(this,arguments)}function IH(n,t,e){const i=at(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((o,a)=>{const d=a.view.Mu(t);d.snapshot&&r.push(d.snapshot)}),function(o,a){const d=at(o);d.onlineState=a;let f=!1;d.queries.forEach((m,v)=>{for(const D of v.listeners)D.Mu(a)&&(f=!0)}),f&&ZP(d)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function w7(n,t,e){return nF.apply(this,arguments)}function nF(){return nF=(0,be.Z)(function*(n,t,e){const i=at(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),o=r&&r.key;if(o){let a=new bi(it.comparator);a=a.insert(o,Oi.newNoDocument(o,At.min()));const d=hn().add(o),f=new nx(At.min(),new Map,new bi(sn),a,d);yield AH(i,f),i.gc=i.gc.remove(o),i.yc.delete(t),cF(i)}else yield Yy(i.localStore,t,!1).then(()=>ev(i,t,e)).catch(Gf)}),nF.apply(this,arguments)}function x7(n,t){return iF.apply(this,arguments)}function iF(){return iF=(0,be.Z)(function*(n,t){const e=at(n),i=t.batch.batchId;try{const r=yield function V8(n,t){const e=at(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Zi.newChangeBuffer({trackRemovals:!0});return function(a,d,f,m){const v=f.batch,D=v.keys();let A=le.resolve();return D.forEach(R=>{A=A.next(()=>m.getEntry(d,R)).next(B=>{const q=f.docVersions.get(R);St(null!==q),B.version.compareTo(q)<0&&(v.applyToRemoteDocument(B,f),B.isValidDocument()&&(B.setReadTime(f.commitVersion),m.addEntry(B)))})}),A.next(()=>a.mutationQueue.removeMutationBatch(d,v))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let d=hn();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(d=d.add(a.batch.mutations[f].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);aF(e,i,null),oF(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Xd(e,r)}catch(r){yield Gf(r)}}),iF.apply(this,arguments)}function C7(n,t,e){return rF.apply(this,arguments)}function rF(){return rF=(0,be.Z)(function*(n,t,e){const i=at(n);try{const r=yield function(o,a){const d=at(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,a).next(v=>(St(null!==v),m=v.keys(),d.mutationQueue.removeMutationBatch(f,v))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,a)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(i.localStore,t);aF(i,t,e),oF(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Xd(i,r)}catch(r){yield Gf(r)}}),rF.apply(this,arguments)}function sF(){return sF=(0,be.Z)(function*(n,t){const e=at(n);tp(e.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=at(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>a.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=Qy(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),sF.apply(this,arguments)}function oF(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function aF(n,t,e){const i=at(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function ev(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||MH(n,i)})}function MH(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(_x(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),cF(n))}function lF(n,t,e){for(const i of e)i instanceof DH?(n.Ic.addReference(i.key,t),D7(n,i)):i instanceof SH?(Ge("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||MH(n,i.key)):mt()}function D7(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(Ge("SyncEngine","New document in limbo: "+e),n.mc.add(i),cF(n))}function cF(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new it(kn.fromString(t)),i=n.Ac.next();n.yc.set(i,new g7(e)),n.gc=n.gc.insert(e,i),mA(n.remoteStore,new Jd(wo(Ly(e.path)),i,"TargetPurposeLimboResolution",Fa.ct))}}function Xd(n,t,e){return uF.apply(this,arguments)}function uF(){return uF=(0,be.Z)(function*(n,t,e){const i=at(n),r=[],o=[],a=[];var d;i.wc.isEmpty()||(i.wc.forEach((d,f)=>{a.push(i.Rc(f,t,e).then(m=>{if((m||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,m?.fromCache?"not-current":"current"),m){r.push(m);const v=pP.Li(f.targetId,m);o.push(v)}}))}),yield Promise.all(a),i.dc.nu(r),yield(d=(0,be.Z)(function*(f,m){const v=at(f);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>le.forEach(m,A=>le.forEach(A.Fi,R=>v.persistence.referenceDelegate.addReference(D,A.targetId,R)).next(()=>le.forEach(A.Bi,R=>v.persistence.referenceDelegate.removeReference(D,A.targetId,R)))))}catch(D){if(!jf(D))throw D;Ge("LocalStore","Failed to update sequence numbers: "+D)}for(const D of m){const A=D.targetId;if(!D.fromCache){const R=v.Ji.get(A),q=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);v.Ji=v.Ji.insert(A,q)}}}),function(f,m){return d.apply(this,arguments)})(i.localStore,o))}),uF.apply(this,arguments)}function S7(n,t){return dF.apply(this,arguments)}function dF(){return dF=(0,be.Z)(function*(n,t){const e=at(n);if(!e.currentUser.isEqual(t)){Ge("SyncEngine","User change. New user:",t.toKey());const i=yield rH(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(a=>{a.forEach(d=>{d.reject(new Oe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Xd(e,i.er)}var r}),dF.apply(this,arguments)}function T7(n,t){const e=at(n),i=e.yc.get(t);if(i&&i.fc)return hn().add(i.key);{let r=hn();const o=e._c.get(t);if(!o)return r;for(const a of o){const d=e.wc.get(a);r=r.unionWith(d.view.nc)}return r}}function A7(n,t){return hF.apply(this,arguments)}function hF(){return hF=(0,be.Z)(function*(n,t){const e=at(n),i=yield uA(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&lF(e,t.targetId,r.cc),r}),hF.apply(this,arguments)}function I7(n,t){return fF.apply(this,arguments)}function fF(){return fF=(0,be.Z)(function*(n,t){const e=at(n);return lH(e.localStore,t).then(i=>Xd(e,i))}),fF.apply(this,arguments)}function M7(n,t,e,i){return pF.apply(this,arguments)}function pF(){return pF=(0,be.Z)(function*(n,t,e,i){const r=at(n),o=yield function(a,d){const f=at(a),m=at(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",v=>m.Sn(v,d).next(D=>D?f.localDocuments.getDocuments(v,D):le.resolve(null)))}(r.localStore,t);var d;null!==o?("pending"===e?yield Wy(r.remoteStore):"acknowledged"===e||"rejected"===e?(aF(r,t,i||null),oF(r,t),d=t,at(at(r.localStore).mutationQueue).Cn(d)):mt(),yield Xd(r,o)):Ge("SyncEngine","Cannot apply mutation batch with id: "+t)}),pF.apply(this,arguments)}function mF(){return mF=(0,be.Z)(function*(n,t){const e=at(n);if(vF(e),bF(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield kH(e,i.toArray());e.vc=!0,yield HP(e.remoteStore,!0);for(const o of r)mA(e.remoteStore,o)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((o,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(ev(e,a),Yy(e.localStore,a,!0))),_x(e.remoteStore,a)}),yield r,yield kH(e,i),function(o){const a=at(o);a.yc.forEach((d,f)=>{_x(a.remoteStore,f)}),a.Ic.Ts(),a.yc=new Map,a.gc=new bi(it.comparator)}(e),e.vc=!1,yield HP(e.remoteStore,!1)}}),mF.apply(this,arguments)}function kH(n,t,e){return gF.apply(this,arguments)}function gF(){return gF=(0,be.Z)(function*(n,t,e){const i=at(n),r=[],o=[];for(const a of t){let d;const f=i._c.get(a);if(f&&0!==f.length){d=yield $y(i.localStore,wo(f[0]));for(const m of f){const v=i.wc.get(m),D=yield A7(i,v);D.snapshot&&o.push(D.snapshot)}}else{const m=yield aH(i.localStore,a);d=yield $y(i.localStore,m),yield QP(i,RH(m),a,!1,d.resumeToken)}r.push(d)}return i.dc.nu(o),r}),gF.apply(this,arguments)}function RH(n){return V3(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function R7(n){const t=at(n);return at(at(t.localStore).persistence).$i()}function O7(n,t,e,i){return _F.apply(this,arguments)}function _F(){return _F=(0,be.Z)(function*(n,t,e,i){const r=at(n);if(r.vc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const a=yield lH(r.localStore,G3(o[0])),d=nx.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,ss.EMPTY_BYTE_STRING);yield Xd(r,a,d);break}case"rejected":yield Yy(r.localStore,t,!0),ev(r,t,i);break;default:mt()}}),_F.apply(this,arguments)}function P7(n,t,e){return yF.apply(this,arguments)}function yF(){return yF=(0,be.Z)(function*(n,t,e){const i=vF(n);if(i.vc){for(const r of t){if(i._c.has(r)){Ge("SyncEngine","Adding an already active target "+r);continue}const o=yield aH(i.localStore,r),a=yield $y(i.localStore,o);yield QP(i,RH(o),a.targetId,!1,a.resumeToken),mA(i.remoteStore,a)}for(const r of e)i._c.has(r)&&(yield Yy(i.localStore,r,!1).then(()=>{_x(i.remoteStore,r),ev(i,r)}).catch(Gf))}}),yF.apply(this,arguments)}function vF(n){const t=at(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=AH.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=T7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=w7.bind(null,t),t.dc.nu=d7.bind(null,t.eventManager),t.dc.Pc=h7.bind(null,t.eventManager),t}function bF(n){const t=at(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=x7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=C7.bind(null,t),t}class yx{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,be.Z)(function*(){e.serializer=mx(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return iH(this.persistence,new nH,t.initialUser,this.serializer)}createPersistence(t){return new uP(aA.zs,this.serializer)}createSharedClientState(t){return new hH}terminate(){var t=this;return(0,be.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class wF extends yx{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield bF(i.Vc.syncEngine),yield Wy(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return iH(this.persistence,new nH,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new Y6(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new aW(e,this.persistence);return new oW(t.asyncQueue,i)}createPersistence(t){const e=fP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Xs.withCacheSize(this.cacheSizeBytes):Xs.DEFAULT;return new hP(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,pH(),pA(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new hH}}class OH extends wF{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof xP&&(i.sharedClientState.syncEngine={jr:M7.bind(null,r),zr:O7.bind(null,r),Wr:P7.bind(null,r),$i:R7.bind(null,r),Qr:I7.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,be.Z)(function*(a){yield function k7(n,t){return mF.apply(this,arguments)}(i.Vc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=pH();if(!xP.D(e))throw new Oe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=fP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new xP(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class tv{initialize(t,e){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>IH(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=S7.bind(null,i.syncEngine),yield HP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new u7}createDatastore(t){const e=mx(t.databaseInfo.databaseId),i=new Y8(t.databaseInfo);return new K8(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=d=>IH(this.syncEngine,d,0),a=fH.D()?new fH:new z8,new X8(e,i,r,o,a);var e,i,r,o,a}createSyncEngine(t,e){return function(i,r,o,a,d,f,m){const v=new _7(i,r,o,a,d,f);return m&&(v.vc=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,be.Z)(function*(e){const i=at(e);Ge("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Zy(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function PH(n,t=10240){let e=0;return{read:()=>(0,be.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class _A{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Pr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class L7{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new rs,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,be.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,be.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,be.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const o=yield t.$c(r);return new f7(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,be.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,be.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,be.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class B7{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Oe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(o,a){const d=at(o),f=sx(d.serializer)+"/documents",m={documents:a.map(R=>rx(d.serializer,R))},v=yield d.vo("BatchGetDocuments",f,m,a.length),D=new Map;v.forEach(R=>{const B=function s8(n,t){return"found"in t?function(e,i){St(!!i.found);const r=Tu(e,i.found.name),o=Fr(i.found.updateTime),a=i.found.createTime?Fr(i.found.createTime):At.min(),d=new Ls({mapValue:{fields:i.found.fields}});return Oi.newFoundDocument(r,o,a,d)}(n,t):"missing"in t?function(e,i){St(!!i.missing),St(!!i.readTime);const r=Tu(e,i.missing),o=Fr(i.readTime);return Oi.newNoDocument(r,o)}(n,t):mt()}(d.serializer,R);D.set(B.key.toString(),B)});const A=[];return a.forEach(R=>{const B=D.get(R.toString());St(!!B),A.push(B)}),A}),function(o,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Hy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=it.fromPath(r);t.mutations.push(new qO(o,t.precondition(o)))}),yield(i=(0,be.Z)(function*(r,o){const a=at(r),d=sx(a.serializer)+"/documents",f={writes:o.map(m=>ox(a.serializer,m))};yield a.Io("Commit",d,f)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw mt();e=At.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Oe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(At.min())?$i.exists(!1):$i.updateTime(e):$i.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(At.min()))throw new Oe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $i.updateTime(e)}return $i.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class V7{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new EP(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,be.Z)(function*(){const e=new B7(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Uc(o)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!Gw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!o6(e)}return!1}}class U7{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=vs.UNAUTHENTICATED,this.clientId=i3.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,be.Z)(function*(d){Ge("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Ge("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,be.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Qy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function yA(n,t){return xF.apply(this,arguments)}function xF(){return xF=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(o){i.isEqual(o)||(yield rH(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),xF.apply(this,arguments)}function CF(n,t){return EF.apply(this,arguments)}function EF(){return EF=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield DF(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>wH(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>wH(t.remoteStore,o)),n._onlineComponents=t}),EF.apply(this,arguments)}function FH(n){return"FirebaseError"===n.name?n.code===me.FAILED_PRECONDITION||n.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function DF(n){return SF.apply(this,arguments)}function SF(){return SF=(0,be.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yA(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!FH(e))throw e;yl("Error using user provided cache. Falling back to memory cache: "+e),yield yA(n,new yx)}}else Ge("FirestoreClient","Using default OfflineComponentProvider"),yield yA(n,new yx);return n._offlineComponents}),SF.apply(this,arguments)}function vA(n){return TF.apply(this,arguments)}function TF(){return TF=(0,be.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield CF(n,n._uninitializedComponentsProvider._online)):(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield CF(n,new tv))),n._onlineComponents}),TF.apply(this,arguments)}function NH(n){return DF(n).then(t=>t.persistence)}function bA(n){return DF(n).then(t=>t.localStore)}function LH(n){return vA(n).then(t=>t.remoteStore)}function AF(n){return vA(n).then(t=>t.syncEngine)}function nv(n){return IF.apply(this,arguments)}function IF(){return IF=(0,be.Z)(function*(n){const t=yield vA(n),e=t.eventManager;return e.onListen=y7.bind(null,t.syncEngine),e.onUnlisten=v7.bind(null,t.syncEngine),e}),IF.apply(this,arguments)}function VH(n,t,e={}){const i=new rs;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,o,a,d,f){const m=new _A({next:D=>{o.enqueueAndForget(()=>$P(r,v));const A=D.docs.has(a);!A&&D.fromCache?f.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&D.fromCache&&d&&"server"===d.source?f.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(D)},error:D=>f.reject(D)}),v=new WP(Ly(a.path),m,{includeMetadataChanges:!0,Ku:!0});return zP(r,v)}(yield nv(n),n.asyncQueue,t,e,i)})),i.promise}function UH(n,t,e={}){const i=new rs;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,o,a,d,f){const m=new _A({next:D=>{o.enqueueAndForget(()=>$P(r,v)),D.fromCache&&"server"===d.source?f.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(D)},error:D=>f.reject(D)}),v=new WP(a,m,{includeMetadataChanges:!0,Ku:!0});return zP(r,v)}(yield nv(n),n.asyncQueue,t,e,i)})),i.promise}function HH(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const GH=new Map;function MF(n,t,e){if(!e)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function jH(n,t,e,i){if(!0===t&&!0===i)throw new Oe(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function zH(n){if(!it.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qH(n){if(it.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":mt()}function Sn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=wA(n);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function $H(n,t){if(t<=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class YH{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=HH(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vx{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YH(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new ZZ;switch(e.type){case"firstParty":return new JZ(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=GH.get(t);e&&(Ge("ComponentProvider","Removing Datastore"),GH.delete(t),e.terminate())}(this),Promise.resolve()}}class Pi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Au(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pi(this.firestore,t,this._key)}}class Bs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Bs(this.firestore,t,this._query)}}class Au extends Bs{constructor(t,e,i){super(t,e,Ly(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pi(this.firestore,null,new it(t))}withConverter(t){return new Au(this.firestore,t,this._path)}}function WH(n,t,...e){if(n=(0,H.m9)(n),MF("collection","path",t),n instanceof vx){const i=kn.fromString(t,...e);return qH(i),new Au(n,null,i)}{if(!(n instanceof Pi||n instanceof Au))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kn.fromString(t,...e));return qH(i),new Au(n.firestore,null,i)}}function xA(n,t,...e){if(n=(0,H.m9)(n),1===arguments.length&&(t=i3.A()),MF("doc","path",t),n instanceof vx){const i=kn.fromString(t,...e);return zH(i),new Pi(n,null,new it(i))}{if(!(n instanceof Pi||n instanceof Au))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kn.fromString(t,...e));return zH(i),new Pi(n.firestore,n instanceof Au?n.converter:null,new it(i))}}function KH(n,t){return n=(0,H.m9)(n),t=(0,H.m9)(t),(n instanceof Pi||n instanceof Au)&&(t instanceof Pi||t instanceof Au)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function kF(n,t){return n=(0,H.m9)(n),t=(0,H.m9)(t),n instanceof Bs&&t instanceof Bs&&n.firestore===t.firestore&&Ww(n._query,t._query)&&n.converter===t.converter}class K7{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new EP(this,"async_queue_retry"),this.Xc=()=>{const e=pA();e&&Ge("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=pA();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=pA();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new rs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,be.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!jf(e))throw e;Ge("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=jP.createAndSchedule(this,t,e,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&mt()}verifyOperationInProgress(){}sa(){var t=this;return(0,be.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function RF(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Q7{constructor(){this._progressObserver={},this._taskCompletionResolver=new rs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Fi extends vx{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new K7,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||QH(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||QH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function QH(n){var t,e,i;const r=n._freezeSettings(),o=(d=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new AW(n._databaseId,d,n._persistenceKey,(m=r).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,HH(m.experimentalLongPollingOptions),m.useFetchStreams));var d,m;n._firestoreClient=new U7(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function JH(n,t,e){const i=new rs;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield yA(n,e),yield CF(n,t),i.resolve()}catch(r){const o=r;if(!FH(o))throw o;yl("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function XH(n){if(n._initialized||n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Iu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Iu(ss.fromBase64String(t))}catch(e){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Iu(ss.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class eh{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class gg{constructor(t){this._methodName=t}}class CA{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return sn(this._lat,t._lat)||sn(this._long,t._long)}}const l9=/^__.*__$/;class c9{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Qd(t,this.data,this.fieldMask,e,this.fieldTransforms):new Uy(t,this.data,e,this.fieldTransforms)}}class eG{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Qd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function tG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class EA{constructor(t,e,i,r,o,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new EA(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return TA(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(tG(this.ca)&&l9.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class u9{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||mx(t)}ya(t,e,i,r=!1){return new EA({ca:t,methodName:e,ga:i,path:vr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _g(n){const t=n._freezeSettings(),e=mx(n._databaseId);return new u9(n._databaseId,!!t.ignoreUndefinedProperties,e)}function DA(n,t,e,i,r,o={}){const a=n.ya(o.merge||o.mergeFields?2:0,t,e,r);NF("Data must be an object, but it was:",a,i);const d=rG(i,a);let f,m;if(o.merge)f=new na(a.fieldMask),m=a.fieldTransforms;else if(o.mergeFields){const v=[];for(const D of o.mergeFields){const A=xx(t,D,e);if(!a.contains(A))throw new Oe(me.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);oG(v,A)||v.push(A)}f=new na(v),m=a.fieldTransforms.filter(D=>f.covers(D.field))}else f=null,m=a.fieldTransforms;return new c9(new Ls(d),f,m)}class wx extends gg{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wx}}function nG(n,t,e){return new EA({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class OF extends gg{_toFieldTransform(t){return new Xw(t.path,new By)}isEqual(t){return t instanceof OF}}class d9 extends gg{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=nG(this,t,!0),i=this.pa.map(o=>yg(o,e)),r=new ag(i);return new Xw(t.path,r)}isEqual(t){return this===t}}class h9 extends gg{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=nG(this,t,!0),i=this.pa.map(o=>yg(o,e)),r=new lg(i);return new Xw(t.path,r)}isEqual(t){return this===t}}class f9 extends gg{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new Vy(t.serializer,W3(t.serializer,this.Ia));return new Xw(t.path,e)}isEqual(t){return this===t}}function PF(n,t,e,i){const r=n.ya(1,t,e);NF("Data must be an object, but it was:",r,i);const o=[],a=Ls.empty();zf(i,(f,m)=>{const v=SA(t,f,e);m=(0,H.m9)(m);const D=r.da(v);if(m instanceof wx)o.push(v);else{const A=yg(m,D);null!=A&&(o.push(v),a.set(v,A))}});const d=new na(o);return new eG(a,d,r.fieldTransforms)}function FF(n,t,e,i,r,o){const a=n.ya(1,t,e),d=[xx(t,i,e)],f=[r];if(o.length%2!=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<o.length;A+=2)d.push(xx(t,o[A])),f.push(o[A+1]);const m=[],v=Ls.empty();for(let A=d.length-1;A>=0;--A)if(!oG(m,d[A])){const R=d[A];let B=f[A];B=(0,H.m9)(B);const q=a.da(R);if(B instanceof wx)m.push(R);else{const W=yg(B,q);null!=W&&(m.push(R),v.set(R,W))}}const D=new na(m);return new eG(v,D,a.fieldTransforms)}function iG(n,t,e,i=!1){return yg(e,n.ya(i?4:3,t))}function yg(n,t){if(sG(n=(0,H.m9)(n)))return NF("Unsupported field value:",t,n),rG(n,t);if(n instanceof gg)return function(e,i){if(!tG(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const a of e){let d=yg(a,i.wa(o));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,H.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return W3(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=qi.fromDate(e);return{timestampValue:Gy(i.serializer,r)}}if(e instanceof qi){const r=new qi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gy(i.serializer,r)}}if(e instanceof CA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Iu)return{bytesValue:g6(i.serializer,e._byteString)};if(e instanceof Pi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:JO(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${wA(e)}`)}(n,t)}function rG(n,t){const e={};return y3(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zf(n,(i,r)=>{const o=yg(r,t.ha(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function sG(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qi||n instanceof CA||n instanceof Iu||n instanceof Pi||n instanceof gg)}function NF(n,t,e){if(!sG(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=wA(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function xx(n,t,e){if((t=(0,H.m9)(t))instanceof eh)return t._internalPath;if("string"==typeof t)return SA(n,t);throw TA("Field path arguments must be of type string or ",n,!1,void 0,e)}const p9=new RegExp("[~\\*/\\[\\]]");function SA(n,t,e){if(t.search(p9)>=0)throw TA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new eh(...t.split("."))._internalPath}catch{throw TA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function TA(n,t,e,i,r){const o=i&&!i.isEmpty(),a=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||a)&&(f+=" (found",o&&(f+=` in field ${i}`),a&&(f+=` in document ${r}`),f+=")"),new Oe(me.INVALID_ARGUMENT,d+n+f)}function oG(n,t){return n.some(e=>e.isEqual(t))}class Cx{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new m9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(AA("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class m9 extends Cx{data(){return super.data()}}function AA(n,t){return"string"==typeof t?SA(n,t):t instanceof eh?t._internalPath:t._delegate._internalPath}function aG(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LF{}class Ex extends LF{}function ip(n,t,...e){let i=[];t instanceof LF&&i.push(t),i=i.concat(e),function(r){const o=r.filter(d=>d instanceof iv).length,a=r.filter(d=>d instanceof Dx).length;if(o>1||o>0&&a>0)throw new Oe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Dx extends Ex{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Dx(t,e,i)}_apply(t){const e=this._parse(t);return dG(t._query,e),new Bs(t.firestore,t.converter,GO(t._query,e))}_parse(t){const e=_g(t.firestore);return function(r,o,a,d,f,m,v){let D;if(f.isKeyField()){if("array-contains"===m||"array-contains-any"===m)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if("in"===m||"not-in"===m){uG(v,m);const A=[];for(const R of v)A.push(cG(d,r,R));D={arrayValue:{values:A}}}else D=cG(d,r,v)}else"in"!==m&&"not-in"!==m&&"array-contains-any"!==m||uG(v,m),D=iG(a,"where",v,"in"===m||"not-in"===m);return Dn.create(f,m,D)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class iv extends LF{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new iv(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:ei.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const a=r.getFlattenedFilters();for(const d of a)dG(o,d),o=GO(o,d)}(t._query,e),new Bs(t.firestore,t.converter,GO(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class BF extends Ex{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new BF(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Fy(r,o);return function(d,f){if(null===UO(d)){const m=qT(d);null!==m&&hG(0,m,f.field)}}(i,a),a}(t._query,this._field,this._direction);return new Bs(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Wd(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class IA extends Ex{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new IA(t,e,i)}_apply(t){return new Bs(t.firestore,t.converter,$T(t._query,this._limit,this._limitType))}}class MA extends Ex{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new MA(t,e,i)}_apply(t){const e=lG(t,this.type,this._docOrFields,this._inclusive);return new Bs(t.firestore,t.converter,(r=e,new Wd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class kA extends Ex{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new kA(t,e,i)}_apply(t){const e=lG(t,this.type,this._docOrFields,this._inclusive);return new Bs(t.firestore,t.converter,(r=e,new Wd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function lG(n,t,e,i){if(e[0]=(0,H.m9)(e[0]),e[0]instanceof Cx)return function(r,o,a,d,f){if(!d)throw new Oe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const m=[];for(const v of og(r))if(v.field.isKeyField())m.push(rg(o,d.key));else{const D=d.data.field(v.field);if(BT(D))throw new Oe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const A=v.field.canonicalString();throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}m.push(D)}return new Kf(m,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=_g(n.firestore);return function(o,a,d,f,m,v){const D=o.explicitOrderBy;if(m.length>D.length)throw new Oe(me.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let R=0;R<m.length;R++){const B=m[R];if(D[R].field.isKeyField()){if("string"!=typeof B)throw new Oe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof B}`);if(!HO(o)&&-1!==B.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${B}' contains a slash.`);const q=o.path.child(kn.fromString(B));if(!it.isDocumentKey(q))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const W=new it(q);A.push(rg(a,W))}else{const q=iG(d,f,B);A.push(q)}}return new Kf(A,v)}(n._query,n.firestore._databaseId,r,t,e,i)}}function cG(n,t,e){if("string"==typeof(e=(0,H.m9)(e))){if(""===e)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HO(t)&&-1!==e.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(kn.fromString(e));if(!it.isDocumentKey(i))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return rg(n,new it(i))}if(e instanceof Pi)return rg(n,e._key);throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wA(e)}.`)}function uG(n,t){if(!Array.isArray(n)||0===n.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dG(n,t){if(t.isInequality()){const i=qT(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=UO(n);null!==o&&hG(0,r,o)}const e=function(i,r){for(const o of i)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Oe(me.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function hG(n,t,e){if(!e.isEqual(t))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class VF{convertValue(t,e="none"){switch(Zf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return br(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Zd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw mt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return zf(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new CA(br(t.latitude),br(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=VT(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(zw(t));default:return null}}convertTimestamp(t){const e=qf(t);return new qi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=kn.fromString(t);St(S6(i));const r=new $f(i.get(1),i.get(3)),o=new it(i.popFirst(5));return r.isEqual(e)||Pr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function RA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class E9 extends VF{constructor(t){super(),this.firestore=t}convertBytes(t){return new Iu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Pi(this.firestore,null,e)}}class vg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class th extends Cx{constructor(t,e,i,r,o,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Sx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(AA("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Sx extends th{data(t={}){return super.data(t)}}class rp{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new vg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Sx(this._firestore,this._userDataWriter,i.key,i,new vg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Sx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const d=new Sx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return 0!==a.type&&(f=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),m=o.indexOf(a.doc.key)),{type:S9(a.type),doc:d,oldIndex:f,newIndex:m}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function S9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function pG(n,t){return n instanceof th&&t instanceof th?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof rp&&t instanceof rp&&n._firestore===t._firestore&&kF(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class sp extends VF{constructor(t){super(),this.firestore=t}convertBytes(t){return new Iu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Pi(this.firestore,null,e)}}function mG(n,t,e){n=Sn(n,Pi);const i=Sn(n.firestore,Fi),r=RA(n.converter,t,e);return rv(i,[DA(_g(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,$i.none())])}function gG(n,t,e,...i){n=Sn(n,Pi);const r=Sn(n.firestore,Fi),o=_g(r);let a;return a="string"==typeof(t=(0,H.m9)(t))||t instanceof eh?FF(o,"updateDoc",n._key,t,e,i):PF(o,"updateDoc",n._key,t),rv(r,[a.toMutation(n._key,$i.exists(!0))])}function _G(n,...t){var e,i,r;n=(0,H.m9)(n);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||RF(t[a])||(o=t[a],a++);const d={includeMetadataChanges:o.includeMetadataChanges};if(RF(t[a])){const D=t[a];t[a]=null===(e=D.next)||void 0===e?void 0:e.bind(D),t[a+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),t[a+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let f,m,v;if(n instanceof Pi)m=Sn(n.firestore,Fi),v=Ly(n._key.path),f={next:D=>{t[a]&&t[a](UF(m,n,D))},error:t[a+1],complete:t[a+2]};else{const D=Sn(n,Bs);m=Sn(D.firestore,Fi),v=D._query;const A=new sp(m);f={next:R=>{t[a]&&t[a](new rp(m,A,D,R))},error:t[a+1],complete:t[a+2]},aG(n._query)}return function(D,A,R,B){const q=new _A(B),W=new WP(A,q,R);return D.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return zP(yield nv(D),W)})),()=>{q.Dc(),D.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return $P(yield nv(D),W)}))}}(Nr(m),v,d,f)}function rv(n,t){return function(e,i){const r=new rs;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function b7(n,t,e){return eF.apply(this,arguments)}(yield AF(e),i,r)})),r.promise}(Nr(n),t)}function UF(n,t,e){const i=e.docs.get(t._key),r=new sp(n);return new th(n,r,t._key,i,new vg(e.hasPendingWrites,e.fromCache),t.converter)}const z9={maxAttempts:5};class yG{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=_g(t)}set(t,e,i){this._verifyNotCommitted();const r=op(t,this._firestore),o=RA(r.converter,e,i),a=DA(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,$i.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=op(t,this._firestore);let a;return a="string"==typeof(e=(0,H.m9)(e))||e instanceof eh?FF(this._dataReader,"WriteBatch.update",o._key,e,i,r):PF(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(a.toMutation(o._key,$i.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=op(t,this._firestore);return this._mutations=this._mutations.concat(new Hy(e._key,$i.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function op(n,t){if((n=(0,H.m9)(n)).firestore!==t)throw new Oe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class q9 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=_g(t)}get(t){const e=op(t,this._firestore),i=new E9(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return mt();const o=r[0];if(o.isFoundDocument())return new Cx(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Cx(this._firestore,i,e._key,null,e.converter);throw mt()})}set(t,e,i){const r=op(t,this._firestore),o=RA(r.converter,e,i),a=DA(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const o=op(t,this._firestore);let a;return a="string"==typeof(e=(0,H.m9)(e))||e instanceof eh?FF(this._dataReader,"Transaction.update",o._key,e,i,r):PF(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,a),this}delete(t){const e=op(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=op(t,this._firestore),i=new sp(this._firestore);return super.get(t).then(r=>new th(this._firestore,i,e._key,r._document,new vg(!1,!1),e.converter))}}!function(n,t=!0){ky=ys.SDK_VERSION,(0,ys._registerComponent)(new Jo.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),a=new Fi(new KZ(e.getProvider("auth-internal")),new XZ(e.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $f(d.options.projectId,f)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,ys.registerVersion)(e3,"3.13.0",n),(0,ys.registerVersion)(e3,"3.13.0","esm2017")}();function HF(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function bG(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function wG(){if(!function SW(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Tx{constructor(t){this._delegate=t}static fromBase64String(t){return wG(),new Tx(Iu.fromBase64String(t))}static fromUint8Array(t){return bG(),new Tx(Iu.fromUint8Array(t))}toBase64(){return wG(),this._delegate.toBase64()}toUint8Array(){return bG(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function GF(n){return function eK(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class tK{enableIndexedDbPersistence(t,e){return function X7(n,t){XH(n=Sn(n,Fi));const e=Nr(n);if(e._uninitializedComponentsProvider)throw new Oe(me.FAILED_PRECONDITION,"SDK cache is already specified.");yl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new tv;return JH(e,r,new wF(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function e9(n){XH(n=Sn(n,Fi));const t=Nr(n);if(t._uninitializedComponentsProvider)throw new Oe(me.FAILED_PRECONDITION,"SDK cache is already specified.");yl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new tv;return JH(t,i,new OH(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function t9(n){if(n._initialized&&!n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new rs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(e=(0,be.Z)(function*(i){if(!mc.D())return Promise.resolve();const r=i+"main";yield mc.delete(r)}),function(i){return e.apply(this,arguments)})(fP(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class xG{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof $f||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&yl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function ZH(n,t,e,i={}){var r;const o=(n=Sn(n,vx))._getSettings(),a=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let d,f;if("string"==typeof i.mockUserToken)d=i.mockUserToken,f=vs.MOCK_USER;else{d=(0,H.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new vs(m)}n._authCredentials=new WZ(new t3(d,f))}}(this._delegate,t,e,i)}enableNetwork(){return function i9(n){return function H7(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield NH(n),e=yield LH(n);return t.setNetworkEnabled(!0),function(i){const r=at(i);return r.vu.delete(0),gx(r)}(e)}))}(Nr(n=Sn(n,Fi)))}(this._delegate)}disableNetwork(){return function r9(n){return function G7(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield NH(n),e=yield LH(n);return t.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const o=at(r);o.vu.add(0),yield Zy(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Nr(n=Sn(n,Fi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,jH("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function n9(n){return function(t){const e=new rs;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function E7(n,t){return sF.apply(this,arguments)}(yield AF(t),e)})),e.promise}(Nr(n=Sn(n,Fi)))}(this._delegate)}onSnapshotsInSync(t){return function F9(n,t){return function q7(n,t){const e=new _A(t);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield nv(n),r=e,at(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield nv(n),r=e,void at(i).ku.delete(r);var i,r}))}}(Nr(n=Sn(n,Fi)),RF(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new sv(this,WH(this._delegate,t))}catch(e){throw xo(e,"collection()","Firestore.collection()")}}doc(t){try{return new vl(this,xA(this._delegate,t))}catch(e){throw xo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Co(this,function W7(n,t){if(n=Sn(n,vx),MF("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bs(n,null,(e=t,new Wd(kn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw xo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function $9(n,t,e){n=Sn(n,Fi);const i=Object.assign(Object.assign({},z9),e);return function(r){if(r.maxAttempts<1)throw new Oe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,a){const d=new rs;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const f=yield function BH(n){return vA(n).then(t=>t.datastore)}(r);new V7(r.asyncQueue,f,a,o,d).run()})),d.promise}(Nr(n),r=>t(new q9(n,r)),i)}(this._delegate,e=>t(new CG(this,e)))}batch(){return Nr(this._delegate),new EG(new yG(this._delegate,t=>rv(this._delegate,t)))}loadBundle(t){return function s9(n,t){const e=Nr(n=Sn(n,Fi)),i=new Q7;return function $7(n,t,e,i){const r=function(o,a){let d;return d="string"==typeof o?l6().encode(o):o,f=function(f,m){if(f instanceof Uint8Array)return PH(f,m);if(f instanceof ArrayBuffer)return PH(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new L7(f,a);var f}(e,mx(t));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function F7(n,t,e){const i=at(n);var r;(r=(0,be.Z)(function*(o,a,d){try{const f=yield a.getMetadata();if(yield function(A,R){const B=at(A),q=Fr(R.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",W=>B.qs.getBundleMetadata(W,R.id)).then(W=>!!W&&W.createTime.compareTo(q)>=0)}(o.localStore,f))return yield a.close(),d._completeWith({taskState:"Success",documentsLoaded:(A=f).totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}),Promise.resolve(new Set);d._updateProgress(EH(f));const m=new p7(f,o.localStore,a.serializer);let v=yield a.bc();for(;v;){const A=yield m.zu(v);A&&d._updateProgress(A),v=yield a.bc()}const D=yield m.complete();return yield Xd(o,D.Ju,void 0),yield function(A,R){const B=at(A);return B.persistence.runTransaction("Save bundle","readwrite",q=>B.qs.saveBundleMetadata(q,R))}(o.localStore,f),d._completeWith(D.progress),Promise.resolve(D.Hu)}catch(f){return yl("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var A}),function(o,a,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield AF(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function o9(n,t){return function Y7(n,t){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(e,i){const r=at(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield bA(n),t)}))}(Nr(n=Sn(n,Fi)),t).then(e=>e?new Bs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Co(this,e):null)}}class OA extends VF{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tx(new Iu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return vl.forKey(e,this.firestore,null)}}class CG{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new OA(t)}get(t){const e=wg(t);return this._delegate.get(e).then(i=>new Ax(this._firestore,new th(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=wg(t);return i?(HF("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=wg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=wg(t);return this._delegate.delete(e),this}}class EG{constructor(t){this._delegate=t}set(t,e,i){const r=wg(t);return i?(HF("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=wg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=wg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class bg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Sx(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ix(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=bg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new bg(t,new OA(t),e),r.set(e,o)),o}}bg.INSTANCES=new WeakMap;class vl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new OA(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new vl(e,new Pi(e._delegate,i,new it(t)))}static forKey(t,e,i){return new vl(e,new Pi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new sv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new sv(this.firestore,WH(this._delegate,t))}catch(e){throw xo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,H.m9)(t))instanceof Pi&&KH(this._delegate,t)}set(t,e){e=HF("DocumentReference.set",e);try{return e?mG(this._delegate,t,e):mG(this._delegate,t)}catch(i){throw xo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?gG(this._delegate,t):gG(this._delegate,t,e,...i)}catch(r){throw xo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function O9(n){return rv(Sn(n.firestore,Fi),[new Hy(n._key,$i.none())])}(this._delegate)}onSnapshot(...t){const e=DG(t),i=SG(t,r=>new Ax(this.firestore,new th(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return _G(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function A9(n){n=Sn(n,Pi);const t=Sn(n.firestore,Fi),e=Nr(t),i=new sp(t);return function j7(n,t){const e=new rs;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,o,a){try{const d=yield function(f,m){const v=at(f);return v.persistence.runTransaction("read document","readonly",D=>v.localDocuments.getDocument(D,m))}(r,o);d.isFoundDocument()?a.resolve(d):d.isNoDocument()?a.resolve(null):a.reject(new Oe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=Qy(d,`Failed to get document '${o} from cache`);a.reject(f)}}),function(r,o,a){return i.apply(this,arguments)})(yield bA(n),t,e);var i})),e.promise}(e,n._key).then(r=>new th(t,i,n._key,r,new vg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function I9(n){n=Sn(n,Pi);const t=Sn(n.firestore,Fi);return VH(Nr(t),n._key,{source:"server"}).then(e=>UF(t,n,e))}(this._delegate):function T9(n){n=Sn(n,Pi);const t=Sn(n.firestore,Fi);return VH(Nr(t),n._key).then(e=>UF(t,n,e))}(this._delegate),e.then(i=>new Ax(this.firestore,new th(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new vl(this.firestore,this._delegate.withConverter(t?bg.getInstance(this.firestore,t):null))}}function xo(n,t,e){return n.message=n.message.replace(t,e),n}function DG(n){for(const t of n)if("object"==typeof t&&!GF(t))return t;return{}}function SG(n,t){var e,i;let r;return r=GF(n[0])?n[0]:GF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Ax{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new vl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return pG(this._delegate,t._delegate)}}class Ix extends Ax{data(t){const e=this._delegate.data(t);return function YZ(n,t){n||mt()}(void 0!==e),e}}class Co{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new OA(t)}where(t,e,i){try{return new Co(this.firestore,ip(this._delegate,function g9(n,t,e){const i=t,r=AA("where",n);return Dx._create(r,i,e)}(t,e,i)))}catch(r){throw xo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Co(this.firestore,ip(this._delegate,function _9(n,t="asc"){const e=t,i=AA("orderBy",n);return BF._create(i,e)}(t,e)))}catch(i){throw xo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Co(this.firestore,ip(this._delegate,function y9(n){return $H("limit",n),IA._create("limit",n,"F")}(t)))}catch(e){throw xo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Co(this.firestore,ip(this._delegate,function v9(n){return $H("limitToLast",n),IA._create("limitToLast",n,"L")}(t)))}catch(e){throw xo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Co(this.firestore,ip(this._delegate,function b9(...n){return MA._create("startAt",n,!0)}(...t)))}catch(e){throw xo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Co(this.firestore,ip(this._delegate,function w9(...n){return MA._create("startAfter",n,!1)}(...t)))}catch(e){throw xo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Co(this.firestore,ip(this._delegate,function x9(...n){return kA._create("endBefore",n,!1)}(...t)))}catch(e){throw xo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Co(this.firestore,ip(this._delegate,function C9(...n){return kA._create("endAt",n,!0)}(...t)))}catch(e){throw xo(e,"endAt()","Query.endAt()")}}isEqual(t){return kF(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function k9(n){n=Sn(n,Bs);const t=Sn(n.firestore,Fi),e=Nr(t),i=new sp(t);return function z7(n,t){const e=new rs;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,o,a){try{const d=yield uA(r,o,!0),f=new TH(o,d.ir),m=f.sc(d.documents),v=f.applyChanges(m,!1);a.resolve(v.snapshot)}catch(d){const f=Qy(d,`Failed to execute query '${o} against cache`);a.reject(f)}}),function(r,o,a){return i.apply(this,arguments)})(yield bA(n),t,e);var i})),e.promise}(e,n._query).then(r=>new rp(t,i,n,r))}(this._delegate):"server"===t?.source?function R9(n){n=Sn(n,Bs);const t=Sn(n.firestore,Fi),e=Nr(t),i=new sp(t);return UH(e,n._query,{source:"server"}).then(r=>new rp(t,i,n,r))}(this._delegate):function M9(n){n=Sn(n,Bs);const t=Sn(n.firestore,Fi),e=Nr(t),i=new sp(t);return aG(n._query),UH(e,n._query).then(r=>new rp(t,i,n,r))}(this._delegate),e.then(i=>new jF(this.firestore,new rp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=DG(t),i=SG(t,r=>new jF(this.firestore,new rp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return _G(this._delegate,e,i)}withConverter(t){return new Co(this.firestore,this._delegate.withConverter(t?bg.getInstance(this.firestore,t):null))}}class iK{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Ix(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jF{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Co(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Ix(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new iK(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Ix(this._firestore,i))})}isEqual(t){return pG(this._delegate,t._delegate)}}class sv extends Co{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new vl(this.firestore,t):null}doc(t){try{return new vl(this.firestore,void 0===t?xA(this._delegate):xA(this._delegate,t))}catch(e){throw xo(e,"doc()","CollectionReference.doc()")}}add(t){return function P9(n,t){const e=Sn(n.firestore,Fi),i=xA(n),r=RA(n.converter,t);return rv(e,[DA(_g(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,$i.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new vl(this.firestore,e))}isEqual(t){return KH(this._delegate,t._delegate)}withConverter(t){return new sv(this.firestore,this._delegate.withConverter(t?bg.getInstance(this.firestore,t):null))}}function wg(n){return Sn(n,Pi)}class zF{constructor(...t){this._delegate=new eh(...t)}static documentId(){return new zF(vr.keyField().canonicalString())}isEqual(t){return(t=(0,H.m9)(t))instanceof eh&&this._delegate._internalPath.isEqual(t._internalPath)}}class xg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Z9(){return new OF("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new xg(t)}static delete(){const t=function Y9(){return new wx("deleteField")}();return t._methodName="FieldValue.delete",new xg(t)}static arrayUnion(...t){const e=function W9(...n){return new d9("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new xg(e)}static arrayRemove(...t){const e=function K9(...n){return new h9("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new xg(e)}static increment(t){const e=function Q9(n){return new f9("increment",n)}(t);return e._methodName="FieldValue.increment",new xg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const rK={Firestore:xG,GeoPoint:CA,Timestamp:qi,Blob:Tx,Transaction:CG,WriteBatch:EG,DocumentReference:vl,DocumentSnapshot:Ax,Query:Co,QueryDocumentSnapshot:Ix,QuerySnapshot:jF,CollectionReference:sv,FieldPath:zF,FieldValue:xg,setLogLevel:function nK(n){!function $Z(n){Hf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function oK(n){(function sK(n,t){n.INTERNAL.registerComponent(new Jo.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},rK)))})(n,(t,e)=>new xG(t,e,new tK)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(vy.Z);var PA=G(5363),aK=G(6063);class lK extends Ze.x{constructor(t=1/0,e=1/0,i=aK.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(i.push(t),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!t.closed;a+=i?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const a=e.now();let d=0;for(let f=1;f<i.length&&i[f]<=a;f+=2)d=f;d&&i.splice(0,d+1)}}}var qF=G(3099);function TG(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,qF.B)({connector:()=>new lK(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function AG(n,t){return(0,ks.m)(t)?_n(()=>n,t):_n(()=>n)}var $F=G(9468);G(259);const ZF=new Map,MG={activated:!1,tokenObservers:[]},fK={initialized:!1,enabled:!1};function wr(n){return ZF.get(n)||Object.assign({},MG)}function NA(){return fK}const WF="https://content-firebaseappcheck.googleapis.com/v1",_K="exchangeDebugToken",kG={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class vK{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,be.Z)(function*(){e.stop();try{e.pending=new H.BH,yield function bK(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new H.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Vs=new H.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function KF(n){if(!wr(n).activated)throw Vs.create("use-before-activation",{appName:n.name})}function VA(n,t){return JF.apply(this,arguments)}function JF(){return JF=(0,be.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const o={method:"POST",body:JSON.stringify(t),headers:i};let a,d;try{a=yield fetch(n,o)}catch(D){throw Vs.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==a.status)throw Vs.create("fetch-status-error",{httpStatus:a.status});try{d=yield a.json()}catch(D){throw Vs.create("fetch-parse-error",{originalErrorMessage:D?.message})}const f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const m=1e3*Number(f[1]),v=Date.now();return{token:d.token,expireTimeMillis:v+m,issuedAtTimeMillis:v}}),JF.apply(this,arguments)}function RG(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${WF}/projects/${e}/apps/${i}:${_K}?key=${r}`,body:{debug_token:t}}}const EK="firebase-app-check-database",DK=1,Mx="firebase-app-check-store";let UA=null;function XF(){return XF=(0,be.Z)(function*(n,t){const i=(yield function PG(){return UA||(UA=new Promise((n,t)=>{try{const e=indexedDB.open(EK,DK);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Vs.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Mx,{keyPath:"compositeKey"})}}catch(e){t(Vs.create("storage-open",{originalErrorMessage:e?.message}))}}),UA)}()).transaction(Mx,"readwrite"),o=i.objectStore(Mx).put({compositeKey:n,value:t});return new Promise((a,d)=>{o.onsuccess=f=>{a()},i.onerror=f=>{var m;d(Vs.create("storage-set",{originalErrorMessage:null===(m=f.target.error)||void 0===m?void 0:m.message}))}})}),XF.apply(this,arguments)}const kx=new Xo.Yd("@firebase/app-check");function nN(n,t){return(0,H.hl)()?function TK(n,t){return function FG(n,t){return XF.apply(this,arguments)}(function LG(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{kx.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function rN(){return NA().enabled}function sN(){return oN.apply(this,arguments)}function oN(){return oN=(0,be.Z)(function*(){const n=NA();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),oN.apply(this,arguments)}const OK={error:"UNKNOWN_ERROR"};function PK(n){return H.US.encodeString(JSON.stringify(n),!1)}function HA(n){return aN.apply(this,arguments)}function aN(){return aN=(0,be.Z)(function*(n,t=!1){const e=n.app;KF(e);const i=wr(e);let o,r=i.token;if(r&&!ov(r)&&(i.token=void 0,r=void 0),!r){const f=yield i.cachedTokenPromise;f&&(ov(f)?r=f:yield nN(e,void 0))}if(!t&&r&&ov(r))return{token:r.token};let d,a=!1;if(rN()){i.exchangeTokenPromise||(i.exchangeTokenPromise=VA(RG(e,yield sN()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const f=yield i.exchangeTokenPromise;return yield nN(e,f),i.token=f,{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield wr(e).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?kx.warn(f.message):kx.error(f),o=f}return r?o?d=ov(r)?{token:r.token,internalError:o}:HG(o):(d={token:r.token},i.token=r,yield nN(e,r)):d=HG(o),a&&function UG(n,t){const e=wr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,d),d}),aN.apply(this,arguments)}function lN(){return lN=(0,be.Z)(function*(n){const t=n.app;KF(t);const{provider:e}=wr(t);if(rN()){const i=yield sN(),{token:r}=yield VA(RG(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}}),lN.apply(this,arguments)}function uN(n,t){const e=wr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function VG(n){const{app:t}=n,e=wr(t);let i=e.tokenRefresher;i||(i=function FK(n){const{app:t}=n;return new vK((0,be.Z)(function*(){let i;if(i=wr(t).token?yield HA(n,!0):yield HA(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=wr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},kG.RETRIAL_MIN_WAIT,kG.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function ov(n){return n.expireTimeMillis-Date.now()>0}function HG(n){return{token:PK(OK),error:n}}class NK{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=wr(this.app);for(const e of t)uN(this.app,e.next);return Promise.resolve()}}const WG="app-check-internal";!function KK(){(0,ys._registerComponent)(new Jo.wA("app-check",n=>function LK(n,t){return new NK(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(WG).initialize()})),(0,ys._registerComponent)(new Jo.wA(WG,n=>function BK(n){return{getToken:t=>HA(n,t),getLimitedUseToken:()=>function BG(n){return lN.apply(this,arguments)}(n),addTokenListener:t=>function cN(n,t,e,i){const{app:r}=n,o=wr(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&ov(o.token)){const d=o.token;Promise.resolve().then(()=>{e({token:d.token}),VG(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>VG(n))}(n,"INTERNAL",t),removeTokenListener:t=>uN(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ys.registerVersion)("@firebase/app-check","0.8.0")}();class Rx{constructor(){return(0,Mn.vb)("app-check")}}typeof window<"u"&&window;var jA=G(9260);const mN=new s.OlP("angularfire2.auth.use-emulator"),gN=new s.OlP("angularfire2.auth.settings"),_N=new s.OlP("angularfire2.auth.tenant-id"),yN=new s.OlP("angularfire2.auth.langugage-code"),vN=new s.OlP("angularfire2.auth.use-device-language"),bN=new s.OlP("angularfire.auth.persistence"),wN=(n,t,e,i,r,o,a,d)=>(0,jr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,o&&f.useDeviceLanguage(),a)for(const[m,v]of Object.entries(a))f.settings[m]=v;return d&&f.setPersistence(d),f},[e,i,r,o,a,d]);let av=(()=>{class n{constructor(e,i,r,o,a,d,f,m,v,D,A,R){const B=new Ze.x,q=j(void 0).pipe((0,PA.Q)(a.outsideAngular),_n(()=>o.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,9568)))),(0,Ke.U)(()=>(0,jr.on)(e,o,i)),(0,Ke.U)(W=>wN(W,o,d,m,v,D,f,A)),TG({bufferSize:1,refCount:!1}));if(us(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=j(null);else{q.pipe(fl()).subscribe();const ce=q.pipe(_n(Ye=>Ye.getRedirectResult().then(It=>It,()=>null)),Mn.iC,TG({bufferSize:1,refCount:!1})),Re=q.pipe(_n(Ye=>new pn.y(It=>({unsubscribe:o.runOutsideAngular(()=>Ye.onAuthStateChanged(Lt=>It.next(Lt),Lt=>It.error(Lt),()=>It.complete()))})))),Le=q.pipe(_n(Ye=>new pn.y(It=>({unsubscribe:o.runOutsideAngular(()=>Ye.onIdTokenChanged(Lt=>It.next(Lt),Lt=>It.error(Lt),()=>It.complete()))}))));this.authState=ce.pipe(AG(Re),(0,$F.R)(a.outsideAngular),(0,PA.Q)(a.insideAngular)),this.user=ce.pipe(AG(Le),(0,$F.R)(a.outsideAngular),(0,PA.Q)(a.insideAngular)),this.idToken=this.user.pipe(_n(Ye=>Ye?(0,U.D)(Ye.getIdToken()):j(null))),this.idTokenResult=this.user.pipe(_n(Ye=>Ye?(0,U.D)(Ye.getIdTokenResult()):j(null))),this.credential=(0,Ai.T)(ce,B,this.authState.pipe(Nn(Ye=>!Ye))).pipe((0,Ke.U)(Ye=>Ye?.user?Ye:null),(0,$F.R)(a.outsideAngular),(0,PA.Q)(a.insideAngular))}return(0,jr.pX)(this,q,o,{spy:{apply:(W,ce,Re)=>{(W.startsWith("signIn")||W.startsWith("createUser"))&&Re.then(Le=>B.next(Le))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jr.Dh),s.LFG(jr.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Mn.HU),s.LFG(mN,8),s.LFG(gN,8),s.LFG(_N,8),s.LFG(yN,8),s.LFG(vN,8),s.LFG(bN,8),s.LFG(Rx,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),nQ=(()=>{class n{constructor(){jA.Z.registerVersion("angularfire",Mn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[av]}),n})();function QG(n,t){return function iQ(n,t=Zo.z){return new pn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function xN(n,t){return QG(n,t).pipe((0,Ke.U)(e=>({payload:e,type:"query"})))}function zA(n,t){return xN(n,t).pipe(tr(void 0),yy(),(0,Ke.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,d)=>{const f=r.find(v=>v.doc.ref.isEqual(a.ref)),m=e?.payload.docs.find(v=>v.ref.isEqual(a.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(a.metadata)||!f&&m&&JSON.stringify(m.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:a}})}),o}))}function JG(n,t,e){return zA(n,e).pipe(oc((i,r)=>function sQ(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function oQ(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return CN(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return CN(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return CN(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),ol(),(0,Ke.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function CN(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function XG(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ej{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=zA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Ke.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(tr(void 0),yy(),Nn(([i,r])=>r.length>0||!i),(0,Ke.U)(([i,r])=>r),Mn.iC)}auditTrail(t){return this.stateChanges(t).pipe(oc((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=XG(t);return JG(this.query,e,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(t={}){return xN(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Mn.iC)}get(t){return(0,U.D)(this.query.get(t)).pipe(Mn.iC)}add(t){return this.ref.add(t)}doc(t){return new tj(this.ref.doc(t),this.afs)}}class tj{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=rj(i,e);return new ej(r,o,this.afs)}snapshotChanges(){return function rQ(n,t){return QG(n,t).pipe(tr(void 0),yy(),(0,Ke.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ke.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,U.D)(this.ref.get(t)).pipe(Mn.iC)}}class aQ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?zA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Nn(e=>e.length>0),Mn.iC):zA(this.query,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}auditTrail(t){return this.stateChanges(t).pipe(oc((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=XG(t);return JG(this.query,e,this.afs.schedulers.outsideAngular).pipe(Mn.iC)}valueChanges(t={}){return xN(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Mn.iC)}get(t){return(0,U.D)(this.query.get(t)).pipe(Mn.iC)}}const nj=new s.OlP("angularfire2.enableFirestorePersistence"),ij=new s.OlP("angularfire2.firestore.persistenceSettings"),lQ=new s.OlP("angularfire2.firestore.settings"),cQ=new s.OlP("angularfire2.firestore.use-emulator");function rj(n,t=(e=>e)){return{query:t(n),ref:n}}let Ox=(()=>{class n{constructor(e,i,r,o,a,d,f,m,v,D,A,R,B,q,W,ce,Re){this.schedulers=f;const Le=(0,jr.on)(e,d,i),Ye=v;D&&wN(Le,d,A,B,q,W,R,ce),[this.firestore,this.persistenceEnabled$]=(0,jr.cc)(`${Le.name}.firestore`,"AngularFirestore",Le.name,()=>{const It=d.runOutsideAngular(()=>Le.firestore());if(o&&It.settings(o),Ye&&It.useEmulator(...Ye),r&&!us(a)){const Lt=()=>{try{return(0,U.D)(It.enablePersistence(m||void 0).then(()=>!0,()=>!1))}catch(xn){return typeof console<"u"&&console.warn(xn),j(!1)}};return[It,d.runOutsideAngular(Lt)]}return[It,j(!1)]},[o,Ye,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:a}=rj(r,i),d=this.schedulers.ngZone.run(()=>o);return new ej(d,a,this)}collectionGroup(e,i){const r=i||(a=>a),o=this.firestore.collectionGroup(e);return new aQ(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new tj(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jr.Dh),s.LFG(jr.xv,8),s.LFG(nj,8),s.LFG(lQ,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Mn.HU),s.LFG(ij,8),s.LFG(cQ,8),s.LFG(av,8),s.LFG(mN,8),s.LFG(gN,8),s.LFG(_N,8),s.LFG(yN,8),s.LFG(vN,8),s.LFG(bN,8),s.LFG(Rx,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),uQ=(()=>{class n{constructor(){jA.Z.registerVersion("angularfire",Mn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:nj,useValue:!0},{provide:ij,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ox]}),n})();var dQ=G(1389);let ap=(()=>{class n{constructor(e,i,r){this.fireAuth=e,this.firestore=i,this.router=r,this.loggedIn$=new S(null),this.user$=this.fireAuth.authState.pipe(_n(o=>o?(this.loggedIn$.next(!0),this.firestore.doc(`users/${o.uid}`).valueChanges()):(this.loggedIn$.next(!1),j(null))))}get user(){return this.user$}get isLoggedIn(){return this.loggedIn$.value}googleSignin(){var e=this;return(0,be.Z)(function*(){const i=new dQ.V,r=yield e.fireAuth.signInWithPopup(i);r.user&&e.router.navigate(["dashboard"]),e.updateUserData(r.user)})()}signOut(){var e=this;return(0,be.Z)(function*(){yield e.fireAuth.signOut(),e.router.navigate([""])})()}updateUserData(e){return this.firestore.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL},{merge:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(s.LFG(av),s.LFG(Ox),s.LFG(ir))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sj=(()=>{class n{constructor(e,i){this.firestore=e,this.auth=i}get getUserVideos(){return this.userVideos$}get communityVideos(){return this.communityVideos$}getVideos(e){return this.userVideos$=this.firestore.collection(`users/${e}/videos/`).valueChanges()}getCommunityVideos(){return this.firestore.collection("helpRequests").snapshotChanges().pipe(_n(e=>e.length?gs(e.map(i=>{const r=i.payload.doc.id,o=i.payload.doc.data().videoId;return this.firestore.collection("videos").doc(o).snapshotChanges().pipe((0,Ke.U)(()=>({requestId:r,...i.payload.doc.data()})))})):j([])),(0,Ke.U)(e=>e.flat()))}addVideo(e,i){this.firestore.doc(`users/${i}`).collection("videos").doc(e).set({videoId:e}),this.userVideos$=this.firestore.collection(`users/${i}/videos/`).valueChanges()}updateVideo(e,i){const r=this.firestore.doc(`users/${i}`),o={videoId:e.id,title:e.snippet.title,channel:e.snippet.channelTitle,views:e.statistics.viewCount,published:e.snippet.publishedAt};r.collection("videos").doc(e.id).update(o)}deleteVideo(e,i){this.firestore.doc(`users/${i}/videos/${e}`).delete()}static#e=this.\u0275fac=function(i){return new(i||n)(s.LFG(Ox),s.LFG(ap))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();var hQ=G(1144);const fQ=["addListener","removeListener"],pQ=["addEventListener","removeEventListener"],mQ=["on","off"];function qA(n,t,e,i){if((0,ks.m)(e)&&(i=e,e=void 0),i)return qA(n,t,e).pipe(vd(i));const[r,o]=function yQ(n){return(0,ks.m)(n.addEventListener)&&(0,ks.m)(n.removeEventListener)}(n)?pQ.map(a=>d=>n[a](t,d,e)):function gQ(n){return(0,ks.m)(n.addListener)&&(0,ks.m)(n.removeListener)}(n)?fQ.map(oj(n,t)):function _Q(n){return(0,ks.m)(n.on)&&(0,ks.m)(n.off)}(n)?mQ.map(oj(n,t)):[];if(!r&&(0,hQ.z)(n))return(0,nr.z)(a=>qA(a,t,e))((0,Ss.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new pn.y(a=>{const d=(...f)=>a.next(1<f.length?f:f[0]);return r(d),()=>o(d)})}function oj(n,t){return e=>i=>n[e](t,i)}var aj=G(4408);const Px={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Px;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new x.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Px;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Px;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var lj=G(7565);const cj=new class bQ extends lj.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class vQ extends aj.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Px.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Px.cancelAnimationFrame(e),t._scheduled=void 0)}});let EN,wQ=1;const $A={};function uj(n){return n in $A&&(delete $A[n],!0)}const xQ={setImmediate(n){const t=wQ++;return $A[t]=!0,EN||(EN=Promise.resolve()),EN.then(()=>uj(t)&&n()),t},clearImmediate(n){uj(n)}},{setImmediate:CQ,clearImmediate:EQ}=xQ,YA={setImmediate(...n){const{delegate:t}=YA;return(t?.setImmediate||CQ)(...n)},clearImmediate(n){const{delegate:t}=YA;return(t?.clearImmediate||EQ)(n)},delegate:void 0},DN=new class SQ extends lj.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class DQ extends aj.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=YA.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(YA.clearImmediate(e),t._scheduled=void 0)}});var AQ=G(3532);function SN(n=0,t,e=Zo.P){let i=-1;return null!=t&&((0,AQ.K)(t)?e=t:i=t),new pn.y(r=>{let o=function IQ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function TN(n,t=Zo.z){return function TQ(n){return(0,qn.e)((t,e)=>{let i=!1,r=null,o=null,a=!1;const d=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const m=r;r=null,e.next(m)}a&&e.complete()},f=()=>{o=null,a&&e.complete()};t.subscribe((0,$n.x)(e,m=>{i=!0,r=m,o||(0,Ss.Xf)(n(m)).subscribe(o=(0,$n.x)(e,d,f))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>SN(n,t))}const MQ=["contentWrapper"],kQ=["*"],RQ=new s.OlP("VIRTUAL_SCROLL_STRATEGY");let lv=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ze.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new pn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(TN(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):j()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Nn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Un(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qA(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Vn),s.LFG(te,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dj=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Ze.x,this._elementScrolled=new pn.y(a=>this.ngZone.runOutsideAngular(()=>qA(this.elementRef.nativeElement,"scroll").pipe(Nt(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=xa()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==xa()?e.left=e.right:1==xa()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;fs()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?r:i:"end"==e&&(e=a?i:r),a&&2==xa()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==xa()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(lv),s.Y36(s.R0b),s.Y36(Pn,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),cv=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ze.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(TN(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vn),s.LFG(s.R0b),s.LFG(te,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hj=new s.OlP("VIRTUAL_SCROLLABLE");let FQ=(()=>{class n extends dj{constructor(e,i,r,o){super(e,i,r,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(lv),s.Y36(s.R0b),s.Y36(Pn,8))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const LQ=typeof requestAnimationFrame<"u"?cj:DN;let BQ=(()=>{class n extends FQ{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Dt(e)}constructor(e,i,r,o,a,d,f,m){super(e,d,r,a),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=m,this._platform=(0,s.f3M)(Vn),this._detachedSubject=new Ze.x,this._renderedRangeSubject=new Ze.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new pn.y(v=>this._scrollStrategy.scrolledIndexChange.subscribe(D=>Promise.resolve().then(()=>this.ngZone.run(()=>v.next(D))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=x.w0.EMPTY,this._viewportChanges=f.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(tr(null),TN(0,LQ)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Nt(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function NQ(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,a=o?"X":"Y";let f=`translate${a}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(f+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=f&&(this._renderedContentTransform=f,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",o="right",a="rtl"==this.dir?.value;i="start"==e?a?o:r:"end"==e?a?r:o:e||("horizontal"===this.orientation?"left":"top");const d=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-d}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(RQ,8),s.Y36(Pn,8),s.Y36(lv),s.Y36(cv),s.Y36(hj,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf(MQ,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[s._Bn([{provide:dj,useFactory:(t,e)=>t||e,deps:[[new s.FiY,new s.tBr(hj)],n]}]),s.qOj,s.jDz],ngContentSelectors:kQ,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),uv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),AN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qo,uv,BQ,qo,uv]}),n})();class IN{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class dv extends IN{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class hv extends IN{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class VQ extends IN{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class ZA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof dv?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof hv?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof VQ?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class UQ extends ZA{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const d=a.element,f=this._document.createComment("dom-portal");d.parentNode.insertBefore(f,d),this.outletElement.appendChild(d),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let fv=(()=>{class n extends ZA{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const a=o.element,d=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(d,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(a,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(te))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),pv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const fj=fs();class HQ{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ii(-this._previousScrollPosition.left),t.style.top=Ii(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),fj&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fj&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class GQ{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Nn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class MN{enable(){}disable(){}attach(){}}function kN(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function pj(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class jQ{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();kN(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zQ=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new MN,this.close=a=>new GQ(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new HQ(this._viewportRuler,this._document),this.reposition=a=>new jQ(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lv),s.LFG(cv),s.LFG(s.R0b),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Fx{constructor(t){if(this.scrollStrategy=new MN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class qQ{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let mj=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$Q=(()=>{class n extends mj{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const d=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YQ=(()=>{class n extends mj{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Rr(o)},this._clickListener=o=>{const a=Rr(o),d="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){const v=f[m];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(a)||v.overlayElement.contains(d))break;const D=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(o)):D.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(Vn),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WA=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||dd()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),dd()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(Vn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Nx{constructor(t,e,i,r,o,a,d,f,m,v=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=d,this._location=f,this._outsideClickDispatcher=m,this._animationsDisabled=v,this._backdropElement=null,this._backdropClick=new Ze.x,this._attachments=new Ze.x,this._detachments=new Ze.x,this._locationChanges=x.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new Ze.x,this._outsidePointerEvents=new Ze.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ct(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ii(this._config.width),t.height=Ii(this._config.height),t.minWidth=Ii(this._config.minWidth),t.minHeight=Ii(this._config.minHeight),t.maxWidth=Ii(this._config.maxWidth),t.maxHeight=Ii(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Ca(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Nt((0,Ai.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const gj="cdk-overlay-connected-position-bounding-box",ZQ=/([A-Za-z%]+)$/;class WQ{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ze.x,this._resizeSubscription=x.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(gj),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let a;for(let d of this._preferredPositions){let f=this._getOriginPoint(t,r,d),m=this._getOverlayPoint(f,e,d),v=this._getOverlayFit(m,e,i,d);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,f);this._canFitWithFlexibleDimensions(v,m,i)?o.push({position:d,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,d)}):(!a||a.overlayFit.visibleArea<v.visibleArea)&&(a={overlayFit:v,overlayPoint:m,originPoint:f,position:d,overlayRect:e})}if(o.length){let d=null,f=-1;for(const m of o){const v=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);v>f&&(f=v,d=m)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Cg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?a:d}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=yj(e);let{x:a,y:d}=t,f=this._getOffset(r,"x"),m=this._getOffset(r,"y");f&&(a+=f),m&&(d+=m);let A=0-d,R=d+o.height-i.height,B=this._subtractOverflows(o.width,0-a,a+o.width-i.width),q=this._subtractOverflows(o.height,A,R),W=B*q;return{visibleArea:W,isCompletelyWithinViewport:o.width*o.height===W,fitsInViewportVertically:q===o.height,fitsInViewportHorizontally:B==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,a=_j(this._overlayRef.getConfig().minHeight),d=_j(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=a&&a<=r)&&(t.fitsInViewportHorizontally||null!=d&&d<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=yj(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),d=Math.max(t.y+r.height-o.height,0),f=Math.max(o.top-i.top-t.y,0),m=Math.max(o.left-i.left-t.x,0);let v=0,D=0;return v=r.width<=o.width?m||-a:t.x<this._viewportMargin?o.left-i.left-t.x:0,D=r.height<=o.height?f||-d:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:v,y:D},{x:t.x+v,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new qQ(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,a,d,v,D,A;if("top"===e.overlayY)a=t.y,o=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,o=i.height-d+this._viewportMargin;else{const R=Math.min(i.bottom-t.y+i.top,t.y),B=this._lastBoundingBoxSize.height;o=2*R,a=t.y-R,o>B&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-B/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)A=i.width-t.x+this._viewportMargin,v=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)D=t.x,v=i.right-t.x;else{const R=Math.min(i.right-t.x+i.left,t.x),B=this._lastBoundingBoxSize.width;v=2*R,D=t.x-R,v>B&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-B/2)}return{top:a,left:D,bottom:d,right:A,width:v,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Ii(i.height),r.top=Ii(i.top),r.bottom=Ii(i.bottom),r.width=Ii(i.width),r.left=Ii(i.left),r.right=Ii(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Ii(o)),a&&(r.maxWidth=Ii(a))}this._lastBoundingBoxSize=i,Cg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Cg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Cg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const v=this._viewportRuler.getViewportScrollPosition();Cg(i,this._getExactOverlayY(e,t,v)),Cg(i,this._getExactOverlayX(e,t,v))}else i.position="static";let d="",f=this._getOffset(e,"x"),m=this._getOffset(e,"y");f&&(d+=`translateX(${f}px) `),m&&(d+=`translateY(${m}px)`),i.transform=d.trim(),a.maxHeight&&(r?i.maxHeight=Ii(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Ii(a.maxWidth):o&&(i.maxWidth="")),Cg(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Ii(o.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Ii(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:pj(t,i),isOriginOutsideView:kN(t,i),isOverlayClipped:pj(e,i),isOverlayOutsideView:kN(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ca(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Cg(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function _j(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(ZQ);return e&&"px"!==e?null:parseFloat(t)}return n||null}function yj(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const vj="cdk-global-overlay-wrapper";class KQ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(vj),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:d}=i,f=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),m=!("100%"!==o&&"100vh"!==o||d&&"100%"!==d&&"100vh"!==d),v=this._xPosition,D=this._xOffset,A="rtl"===this._overlayRef.getConfig().direction;let R="",B="",q="";f?q="flex-start":"center"===v?(q="center",A?B=D:R=D):A?"left"===v||"end"===v?(q="flex-end",R=D):("right"===v||"start"===v)&&(q="flex-start",B=D):"left"===v||"start"===v?(q="flex-start",R=D):("right"===v||"end"===v)&&(q="flex-end",B=D),t.position=this._cssPosition,t.marginLeft=f?"0":R,t.marginTop=m?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=f?"0":B,e.justifyContent=q,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(vj),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let QQ=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new KQ}flexibleConnectedTo(e){return new WQ(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cv),s.LFG(te),s.LFG(Vn),s.LFG(WA))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JQ=0,ra=(()=>{class n{constructor(e,i,r,o,a,d,f,m,v,D,A,R){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=d,this._ngZone=f,this._document=m,this._directionality=v,this._location=D,this._outsideClickDispatcher=A,this._animationsModuleType=R}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),a=new Fx(e);return a.direction=a.direction||this._directionality.value,new Nx(o,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+JQ++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new UQ(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zQ),s.LFG(WA),s.LFG(s._Vd),s.LFG(QQ),s.LFG($Q),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(te),s.LFG(Pn),s.LFG(je),s.LFG(YQ),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XQ=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],bj=new s.OlP("cdk-connected-overlay-scroll-strategy");let RN=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),wj=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Dt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Dt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Dt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Dt(e)}get push(){return this._push}set push(e){this._push=Dt(e)}constructor(e,i,r,o,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=x.w0.EMPTY,this._attachSubscription=x.w0.EMPTY,this._detachSubscription=x.w0.EMPTY,this._positionSubscription=x.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new s.vpe,this.positionChange=new s.vpe,this.attach=new s.vpe,this.detach=new s.vpe,this.overlayKeydown=new s.vpe,this.overlayOutsideClick=new s.vpe,this._templatePortal=new hv(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=XQ);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Sa(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Fx({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof RN?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(FD(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ra),s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(bj),s.Y36(Pn,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[s.TTD]}),n})();const tJ={provide:bj,deps:[ra],useFactory:function eJ(n){return()=>n.scrollStrategies.reposition()}};let mv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ra,tJ],imports:[qo,pv,AN,AN]}),n})();function nJ(n,t){}class KA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let xj=(()=>{class n extends ZA{constructor(e,i,r,o,a,d,f,m){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=d,this._overlayRef=f,this._focusMonitor=m,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=v=>{this._portalOutlet.hasAttached();const D=this._portalOutlet.attachDomPortal(v);return this._contentAttached(),D},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Zs(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Zs();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Zs())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(v_),s.Y36(te,8),s.Y36(KA),s.Y36(Xp),s.Y36(s.R0b),s.Y36(Nx),s.Y36(tc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(fv,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,nJ,0,0,"ng-template",0)},dependencies:[fv],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class ON{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Ze.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Sa(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const Cj=new s.OlP("DialogScrollStrategy"),iJ=new s.OlP("DialogData"),rJ=new s.OlP("DefaultDialogConfig"),oJ={provide:Cj,deps:[ra],useFactory:function sJ(n){return()=>n.scrollStrategies.block()}};let aJ=0,Ej=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,a,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ze.x,this._afterOpenedAtThisLevel=new Ze.x,this._ariaHiddenElements=new Map,this.afterAllClosed=kt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(tr(void 0))),this._scrollStrategy=d}open(e,i){(i={...this._defaultOptions||new KA,...i}).id=i.id||"cdk-dialog-"+aJ++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),a=this._overlay.create(o),d=new ON(a,i),f=this._attachContainer(a,d,i);return d.containerInstance=f,this._attachDialogContent(e,d,f,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){PN(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){PN(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),PN(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Fx({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,a=[{provide:KA,useValue:r},{provide:ON,useValue:i},{provide:Nx,useValue:e}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,a.push(...r.container.providers(r))):d=xj;const f=new dv(d,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,i,r,o){if(e instanceof s.Rgc){const a=this._createInjector(o,i,r,void 0);let d={$implicit:o.data,dialogRef:i};o.templateContext&&(d={...d,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new hv(e,null,d,a))}else{const a=this._createInjector(o,i,r,this._injector),d=r.attachComponentPortal(new dv(e,o.viewContainerRef,a,o.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(e,i,r,o){const a=e.injector||e.viewContainerRef?.injector,d=[{provide:iJ,useValue:e.data},{provide:ON,useValue:i}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(i,e,r)):d.push(...e.providers)),e.direction&&(!a||!a.get(Pn,null,{optional:!0}))&&d.push({provide:Pn,useValue:{value:e.direction,change:j()}}),s.zs3.create({parent:a||o,providers:d})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ra),s.LFG(s.zs3),s.LFG(rJ,8),s.LFG(n,12),s.LFG(WA),s.LFG(Cj))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function PN(n,t){let e=n.length;for(;e--;)t(n[e])}let lJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ej,oJ],imports:[mv,pv,Wo,pv]}),n})();function cJ(n,t){}class QA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const FN="mdc-dialog--open",Dj="mdc-dialog--opening",Sj="mdc-dialog--closing";let hJ=(()=>{class n extends xj{constructor(e,i,r,o,a,d,f,m){super(e,i,r,o,a,d,f,m),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(v_),s.Y36(te,8),s.Y36(QA),s.Y36(Xp),s.Y36(s.R0b),s.Y36(Nx),s.Y36(tc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const Tj="--mat-dialog-transition-duration";function Aj(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Ts(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Ts(n.substring(0,n.length-1)):"0"===n?0:null}let fJ=(()=>{class n extends hJ{constructor(e,i,r,o,a,d,f,m,v){super(e,i,r,o,a,d,f,v),this._animationMode=m,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Aj(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Aj(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Tj,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Dj,FN)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(FN),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(FN),this._animationsEnabled?(this._hostElement.style.setProperty(Tj,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Sj)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Dj,Sj)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(v_),s.Y36(te,8),s.Y36(QA),s.Y36(Xp),s.Y36(s.R0b),s.Y36(Nx),s.Y36(s.QbO,8),s.Y36(tc))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[s.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,cJ,0,0,"ng-template",2),s.qZA()())},dependencies:[fv],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Lx{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Ze.x,this._beforeClosed=new Ze.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Nn(r=>"opened"===r.state),Ct(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Nn(r=>"closed"===r.state),Ct(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ai.T)(this.backdropClick(),this.keydownEvents().pipe(Nn(r=>27===r.keyCode&&!this.disableClose&&!Sa(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),Ij(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Nn(e=>"closing"===e.state),Ct(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Ij(n,t,e){return n._closeInteractionType=t,n.close(e)}const JA=new s.OlP("MatMdcDialogData"),pJ=new s.OlP("mat-mdc-dialog-default-options"),Mj=new s.OlP("mat-mdc-dialog-scroll-strategy"),gJ={provide:Mj,deps:[ra],useFactory:function mJ(n){return()=>n.scrollStrategies.block()}};let _J=0,yJ=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,a,d,f,m,v,D){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=f,this._dialogContainerType=m,this._dialogDataToken=v,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ze.x,this._afterOpenedAtThisLevel=new Ze.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=QA,this.afterAllClosed=kt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(tr(void 0))),this._scrollStrategy=d,this._dialog=i.get(Ej)}open(e,i){let r;(i={...this._defaultOptions||new QA,...i}).id=i.id||`${this._idPrefix}${_J++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:KA,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,d,f)=>(r=new this._dialogRefConstructor(a,i,f),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),lp=(()=>{class n extends yJ{constructor(e,i,r,o,a,d,f,m){super(e,i,o,d,f,a,Lx,fJ,JA,m),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ra),s.LFG(s.zs3),s.LFG(je,8),s.LFG(pJ,8),s.LFG(Mj),s.LFG(n,12),s.LFG(WA),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),vJ=0,Eg=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=kj(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){Ij(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Lx,8),s.Y36(s.SBq),s.Y36(lp))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._onButtonClick(o)}),2&e&&s.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),n})(),Dg=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+vJ++}ngOnInit(){this._dialogRef||(this._dialogRef=kj(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Lx,8),s.Y36(s.SBq),s.Y36(lp))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),Sg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),Tg=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function kj(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let Rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[lp,gJ],imports:[lJ,mv,pv,Tn,Tn]}),n})();const bJ=["mat-button",""],Pj=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Fj=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],xJ=["mat-mini-fab",""],EJ=["mat-icon-button",""],DJ=["*"],SJ=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],TJ=E_(C_(cb(class{constructor(n){this._elementRef=n}})));let NN=(()=>{class n extends TJ{constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,s.f3M)(tc),this._isFab=!1;const a=e.nativeElement.classList;for(const d of SJ)this._hasHostAttributes(d.selector)&&d.mdcClasses.forEach(f=>{a.add(f)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(nc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},features:[s.qOj]}),n})(),bl=(()=>{class n extends NN{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Vn),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:bJ,ngContentSelectors:Fj,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(Pj),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(s.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),s.xp6(6),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[nc],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})();const IJ=new s.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:Nj});function Nj(){return{color:"accent"}}const Lj=Nj();let LN=(()=>{class n extends NN{constructor(e,i,r,o,a){super(e,i,r,o),this._options=a,this._isFab=!0,this._options=this._options||Lj,this.color=this.defaultColor=this._options.color||Lj.color}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Vn),s.Y36(s.R0b),s.Y36(s.QbO,8),s.Y36(IJ,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:xJ,ngContentSelectors:Fj,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(Pj),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(s.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),s.xp6(6),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[nc],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),gv=(()=>{class n extends NN{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Vn),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:EJ,ngContentSelectors:DJ,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(),s._UZ(0,"span",0),s.Hsn(1),s._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(s.xp6(3),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[nc],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Bj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Tn,pb,Tn]}),n})(),Vj=(()=>{class n{constructor(e,i){this.fb=e,this.dialogRef=i}ngOnInit(){this.form=new fu({youtubeUrl:this.fb.control("",[R_.required,R_.pattern(/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?(?=.*v=\w+)(?:\S+)?|embed\/\w+|v\/\w+|\S+)|youtu\.be\/\w+)(?:\S+)?$/)])},{updateOn:"submit"})}onSubmit(){if(this.form.valid){const r=this.form?.get("youtubeUrl")?.value;var i=r.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);this.youtubeVideoId=i&&11===i[7].length?i[7]:null,this.dialogRef.close(this.youtubeVideoId)}}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(Z_),s.Y36(Lx))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-video-init-form"]],decls:12,vars:1,consts:[[3,"formGroup","submit"],[1,"url-wrapper"],["color","primary",1,"form-field"],["formControlName","youtubeUrl","matInput","","type","text"],["mat-raised-button","","color","primary","type","submit"]],template:function(i,r){1&i&&(s.TgZ(0,"form",0),s.NdJ("submit",function(){return r.onSubmit()}),s.TgZ(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),s._uU(4,"Enter YouTube URL"),s.qZA(),s._UZ(5,"input",3),s.TgZ(6,"mat-hint"),s._uU(7,"Enter the YouTube video URL which you want subtitles/dubbing for"),s.qZA(),s.TgZ(8,"mat-error"),s._uU(9,"Invalid URL"),s.qZA()(),s.TgZ(10,"button",4),s._uU(11,"ADD +"),s.qZA()()()),2&i&&s.Q6J("formGroup",r.form)},dependencies:[ic,ll,Cb,LE,Rd,H_,Ed,hl,Ad,mu,G_,bl],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{max-width:550px;width:550px}.url-wrapper[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center}.mdc-button[_ngcontent-%COMP%]{margin-top:10px;height:42px;width:100px}"]})}return n})(),MJ=(()=>{class n{constructor(e){this.dialogRef=e}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(Lx))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-dialog-confirmation"]],decls:8,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,r){1&i&&(s.TgZ(0,"h1",0),s._uU(1,"Are you sure you want to delete this entity? This is irreversible and all related data linked to it will be lost."),s.qZA(),s._UZ(2,"div",1),s.TgZ(3,"div",2)(4,"button",3),s.NdJ("click",function(){return r.onNoClick()}),s._uU(5,"Discard"),s.qZA(),s.TgZ(6,"button",4),s._uU(7,"DELETE"),s.qZA()()),2&i&&(s.xp6(6),s.Q6J("mat-dialog-close",!0))},dependencies:[bl,Eg,Dg,Sg,Tg]})}return n})(),BN=(()=>{class n{setCommunityRequestDetails(e){this.communityRequestDetails=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const XA="AIzaSyD8yaklPh_bMxRvf7u0AU95RW2rXPwfK1c",kJ={apiKey:"AIzaSyDc0XAr8qY1-UszFqnCuNE0DzhCPvzb76M",authDomain:"subanddub-63772.firebaseapp.com",projectId:"subanddub-63772",storageBucket:"subanddub-63772.appspot.com",messagingSenderId:"882616744849",appId:"1:882616744849:web:c50cbddcae7923e7a8b830"};class eI{}class VN{}class Mu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Mu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Mu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Mu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(d=>-1===o.indexOf(d)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class OJ{encodeKey(t){return Uj(t)}encodeValue(t){return Uj(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const FJ=/%(\d[a-f0-9])/gi,NJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Uj(n){return encodeURIComponent(n).replace(FJ,(t,e)=>NJ[e]??t)}function tI(n){return`${n}`}class cp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new OJ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function PJ(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,d]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],f=e.get(a)||[];f.push(d),e.set(a,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(tI):[tI(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new cp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(tI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(tI(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class LJ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Hj(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Gj(n){return typeof Blob<"u"&&n instanceof Blob}function jj(n){return typeof FormData<"u"&&n instanceof FormData}class Bx{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function BJ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Mu),this.context||(this.context=new LJ),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+a}}else this.params=new cp,this.urlWithParams=e}serializeBody(){return null===this.body?null:Hj(this.body)||Gj(this.body)||jj(this.body)||function VJ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof cp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jj(this.body)?null:Gj(this.body)?this.body.type||null:Hj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let f=t.headers||this.headers,m=t.params||this.params;const v=t.context??this.context;return void 0!==t.setHeaders&&(f=Object.keys(t.setHeaders).reduce((D,A)=>D.set(A,t.setHeaders[A]),f)),t.setParams&&(m=Object.keys(t.setParams).reduce((D,A)=>D.set(A,t.setParams[A]),m)),new Bx(e,i,o,{params:m,headers:f,context:v,reportProgress:d,responseType:r,withCredentials:a})}}var qr=(()=>((qr=qr||{})[qr.Sent=0]="Sent",qr[qr.UploadProgress=1]="UploadProgress",qr[qr.ResponseHeader=2]="ResponseHeader",qr[qr.DownloadProgress=3]="DownloadProgress",qr[qr.Response=4]="Response",qr[qr.User=5]="User",qr))();class UN{constructor(t,e=200,i="OK"){this.headers=t.headers||new Mu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class HN extends UN{constructor(t={}){super(t),this.type=qr.ResponseHeader}clone(t={}){return new HN({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class nI extends UN{constructor(t={}){super(t),this.type=qr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new nI({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zj extends UN{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function GN(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ag=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Bx)o=e;else{let f,m;f=r.headers instanceof Mu?r.headers:new Mu(r.headers),r.params&&(m=r.params instanceof cp?r.params:new cp({fromObject:r.params})),o=new Bx(e,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=j(o).pipe(yu(f=>this.handler.handle(f)));if(e instanceof Bx||"events"===r.observe)return a;const d=a.pipe(Nn(f=>f instanceof nI));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe((0,Ke.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,Ke.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,Ke.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,Ke.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new cp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,GN(r,i))}post(e,i,r={}){return this.request("POST",e,GN(r,i))}put(e,i,r={}){return this.request("PUT",e,GN(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(eI))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function qj(n,t){return t(n)}function UJ(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const GJ=new s.OlP("HTTP_INTERCEPTORS"),Vx=new s.OlP("HTTP_INTERCEPTOR_FNS");function jJ(){let n=null;return(t,e)=>(null===n&&(n=((0,s.f3M)(GJ,{optional:!0})??[]).reduceRight(UJ,qj)),n(t,e))}let $j=(()=>{class n extends eI{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Vx)));this.chain=i.reduceRight((r,o)=>function HJ(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(r,o,this.injector),qj)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(VN),s.LFG(s.lqb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const YJ=/^\)\]\}',?\n/;let Zj=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((R,B)=>r.setRequestHeader(R,B.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const R=e.detectContentTypeHeader();null!==R&&r.setRequestHeader("Content-Type",R)}if(e.responseType){const R=e.responseType.toLowerCase();r.responseType="json"!==R?R:"text"}const o=e.serializeBody();let a=null;const d=()=>{if(null!==a)return a;const R=r.statusText||"OK",B=new Mu(r.getAllResponseHeaders()),q=function ZJ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new HN({headers:B,status:r.status,statusText:R,url:q}),a},f=()=>{let{headers:R,status:B,statusText:q,url:W}=d(),ce=null;204!==B&&(ce=typeof r.response>"u"?r.responseText:r.response),0===B&&(B=ce?200:0);let Re=B>=200&&B<300;if("json"===e.responseType&&"string"==typeof ce){const Le=ce;ce=ce.replace(YJ,"");try{ce=""!==ce?JSON.parse(ce):null}catch(Ye){ce=Le,Re&&(Re=!1,ce={error:Ye,text:ce})}}Re?(i.next(new nI({body:ce,headers:R,status:B,statusText:q,url:W||void 0})),i.complete()):i.error(new zj({error:ce,headers:R,status:B,statusText:q,url:W||void 0}))},m=R=>{const{url:B}=d(),q=new zj({error:R,status:r.status||0,statusText:r.statusText||"Unknown Error",url:B||void 0});i.error(q)};let v=!1;const D=R=>{v||(i.next(d()),v=!0);let B={type:qr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(B.total=R.total),"text"===e.responseType&&r.responseText&&(B.partialText=r.responseText),i.next(B)},A=R=>{let B={type:qr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(B.total=R.total),i.next(B)};return r.addEventListener("load",f),r.addEventListener("error",m),r.addEventListener("timeout",m),r.addEventListener("abort",m),e.reportProgress&&(r.addEventListener("progress",D),null!==o&&r.upload&&r.upload.addEventListener("progress",A)),r.send(o),i.next({type:qr.Sent}),()=>{r.removeEventListener("error",m),r.removeEventListener("abort",m),r.removeEventListener("load",f),r.removeEventListener("timeout",m),e.reportProgress&&(r.removeEventListener("progress",D),null!==o&&r.upload&&r.upload.removeEventListener("progress",A)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const jN=new s.OlP("XSRF_ENABLED"),Wj=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Kj=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Qj{}let QJ=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Io(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(s.Lbi),s.LFG(Wj))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function JJ(n,t){const e=n.url.toLowerCase();if(!(0,s.f3M)(jN)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,s.f3M)(Qj).getToken(),r=(0,s.f3M)(Kj);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Lr=(()=>((Lr=Lr||{})[Lr.Interceptors=0]="Interceptors",Lr[Lr.LegacyInterceptors=1]="LegacyInterceptors",Lr[Lr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Lr[Lr.NoXsrfProtection=3]="NoXsrfProtection",Lr[Lr.JsonpSupport=4]="JsonpSupport",Lr[Lr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Lr))();function _v(n,t){return{\u0275kind:n,\u0275providers:t}}function XJ(...n){const t=[Ag,Zj,$j,{provide:eI,useExisting:$j},{provide:VN,useExisting:Zj},{provide:Vx,useValue:JJ,multi:!0},{provide:jN,useValue:!0},{provide:Qj,useClass:QJ}];for(const e of n)t.push(...e.\u0275providers);return(0,s.MR2)(t)}const Jj=new s.OlP("LEGACY_INTERCEPTOR_FN");let tX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[XJ(_v(Lr.LegacyInterceptors,[{provide:Jj,useFactory:jJ},{provide:Vx,useExisting:Jj,multi:!0}]))]}),n})(),yv=(()=>{class n{constructor(e){this.http=e,this.currentTimeSubject=new S(0),this.currentCaption=new S("")}playerRefSetter(e){this.playerRef=e}getVideoDetails(e){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?part=snippet&part=statistics&part=contentDetails&id=${e}&key=${XA}`).pipe((0,Ke.U)(o=>{if(o)return o.items}))}getCaptionDetails(e){return this.http.get(`https://www.googleapis.com/youtube/v3/captions?part=snippet&videoId=${e}&key=${XA}`).pipe((0,Ke.U)(o=>{if(o)return o.items}))}getCurrentTime(){return this.currentTimeSubject.asObservable()}getCurrentCaption(){return this.currentCaption.asObservable()}startTimeTracking(){this.stopTimeTracking(),this.timer=setInterval(()=>{this.updateCurrentTime()},300)}stopTimeTracking(){clearInterval(this.timer)}updateCurrentTime(){const e=this.playerRef.getCurrentTime();this.currentTimeSubject.next(e)}updateCurrentCaption(e){this.currentCaption.next(e)}seekToPoint(e){this.playerRef.getPlayerState()===YT.PlayerState.PAUSED&&this.playerRef.seekTo(e,!0)}ngOnDestroy(){this.stopTimeTracking()}static#e=this.\u0275fac=function(i){return new(i||n)(s.LFG(Ag))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nX(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.action())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.hij(" ",e.data.action," ")}}const iX=["label"];function rX(n,t){}const sX=Math.pow(2,31)-1;class zN{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Ze.x,this._afterOpened=new Ze.x,this._onAction=new Ze.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,sX))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Xj=new s.OlP("MatSnackBarData");class iI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let oX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),aX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),lX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),cX=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zN),s.Y36(Xj))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._uU(1),s.qZA(),s.YNc(2,nX,3,1,"div",1)),2&e&&(s.xp6(1),s.hij(" ",i.data.message,"\n"),s.xp6(1),s.Q6J("ngIf",i.hasAction))},dependencies:[ci,bl,oX,aX,lX],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const uX={snackBarState:As("state",[zi("void, hidden",In({transform:"scale(0.8)",opacity:0})),zi("visible",In({transform:"scale(1)",opacity:1})),Xr("* => visible",mr("150ms cubic-bezier(0, 0, 0.2, 1)")),Xr("* => void, * => hidden",mr("75ms cubic-bezier(0.4, 0.0, 1, 1)",In({opacity:0})))])};let dX=0,hX=(()=>{class n extends ZA{constructor(e,i,r,o,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=a,this._document=(0,s.f3M)(te),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ze.x,this._onExit=new Ze.x,this._onEnter=new Ze.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+dX++,this.attachDomPortal=d=>{this._assertNotAttached();const f=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),f},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Ct(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?-1===a.indexOf(e)&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Vn),s.Y36(iI))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(fv,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),fX=(()=>{class n extends hX{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,i="mdc-snackbar__label";e.classList.toggle(i,!e.querySelector(`.${i}`))}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(iX,7),2&e){let r;s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,i){1&e&&s.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&s.d8E("@state",i._animationState)},features:[s.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),s.YNc(4,rX,0,0,"ng-template",4),s.qZA(),s._UZ(5,"div"),s.qZA()()),2&e&&(s.xp6(5),s.uIk("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[fv],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[uX.snackBarState]}}),n})(),ez=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mv,pv,hr,Bj,Tn,Tn]}),n})();const tz=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function pX(){return new iI}});let mX=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,o,a,d){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=a,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:iI,useValue:i}]}),a=new dv(this.snackBarContainerComponent,i.viewContainerRef,o),d=e.attach(a);return d.instance.snackBarConfig=i,d.instance}_attach(e,i){const r={...new iI,...this._defaultConfig,...i},o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),d=new zN(a,o);if(e instanceof s.Rgc){const f=new hv(e,null,{$implicit:r.data,snackBarRef:d});d.instance=a.attachTemplatePortal(f)}else{const f=this._createInjector(r,d),m=new dv(e,void 0,f),v=a.attachComponentPortal(m);d.instance=v.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Nt(o.detachments())).subscribe(f=>{o.overlayElement.classList.toggle(this.handsetCssClass,f.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Fx;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,d=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:zN,useValue:i},{provide:Xj,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ra),s.LFG(pE),s.LFG(s.zs3),s.LFG(ib),s.LFG(n,12),s.LFG(tz))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),rI=(()=>{class n extends mX{constructor(e,i,r,o,a,d){super(e,i,r,o,a,d),this.simpleSnackBarComponent=cX,this.snackBarContainerComponent=fX,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ra),s.LFG(pE),s.LFG(s.zs3),s.LFG(ib),s.LFG(n,12),s.LFG(tz))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:ez}),n})();function nz(n,t,e){return e?nz(n,t).pipe(vd(e)):new pn.y(i=>{const r=(...a)=>i.next(1===a.length?a[0]:a),o=n(r);return(0,ks.m)(t)?()=>t(r,o):void 0})}const _X={connector:()=>new Ze.x};function iz(n,t=_X){const{connector:e}=t;return(0,qn.e)((i,r)=>{const o=e();(0,Ss.Xf)(n(function gX(n){return new pn.y(t=>n.subscribe(t))}(o))).subscribe(r),r.add(i.subscribe(o))})}function sI(...n){const t=(0,I.jO)(n);return(0,qn.e)((e,i)=>{const r=n.length,o=new Array(r);let a=n.map(()=>!1),d=!1;for(let f=0;f<r;f++)(0,Ss.Xf)(n[f]).subscribe((0,$n.x)(i,m=>{o[f]=m,!d&&!a[f]&&(a[f]=!0,(d=a.every(tf.y))&&(a=null))},hd.Z));e.subscribe((0,$n.x)(i,f=>{if(d){const m=[f,...o];i.next(t?t(...m):m)}}))})}const{isArray:bX}=Array;function wX(n){return 1===n.length&&bX(n[0])?n[0]:n}function rz(...n){const t=(0,I.jO)(n);return t?(0,Em.z)(rz(...n),vd(t)):(0,qn.e)((e,i)=>{KC([e,...wX(n)])(i)})}function sz(n){return(0,qn.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,$n.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}const xX=["youtubeContainer"];let qN=(()=>{class n{get videoId(){return this._videoId.value}set videoId(e){this._videoId.next(e)}get height(){return this._height.value}set height(e){this._height.next(e||390)}get width(){return this._width.value}set width(e){this._width.next(e||640)}set startSeconds(e){this._startSeconds.next(e)}set endSeconds(e){this._endSeconds.next(e)}set suggestedQuality(e){this._suggestedQuality.next(e)}get playerVars(){return this._playerVars.value}set playerVars(e){this._playerVars.next(e)}get disableCookies(){return this._disableCookies.value}set disableCookies(e){this._disableCookies.next(!!e)}constructor(e,i){this._ngZone=e,this._youtubeContainer=new Ze.x,this._destroyed=new Ze.x,this._playerChanges=new S(void 0),this._videoId=new S(void 0),this._height=new S(390),this._width=new S(640),this._startSeconds=new S(void 0),this._endSeconds=new S(void 0),this._suggestedQuality=new S(void 0),this._playerVars=new S(void 0),this._disableCookies=new S(!1),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=fr(i)}ngOnInit(){if(!this._isBrowser)return;let e=j(!0);if(!window.YT||!window.YT.Player){const o=new Ze.x;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>o.next(!0))},e=o.pipe(Ct(1),tr(!1))}const i=this._disableCookies.pipe((0,Ke.U)(o=>o?"https://www.youtube-nocookie.com":void 0)),r=function SX(n,t,e,i,r,o,a,d){const f=gs([t,e,a]).pipe(sI(gs([r,o])),(0,Ke.U)(([m,v])=>{const[D,A,R]=m,[B,q]=v;return D?{videoId:D,playerVars:R,width:B,height:q,host:A}:void 0}));return gs([n,f,j(d)]).pipe(function TX(n){return(0,Em.z)(rz(n),sz(([t,e])=>!e),(0,Ke.U)(([t])=>t))}(i),oc(AX,void 0),ol())}(this._youtubeContainer,this._videoId,i,e,this._width,this._height,this._playerVars,this._ngZone).pipe((0,Fn.b)(o=>{this._playerChanges.next(o)}),function DX(n){return(0,nr.z)(t=>t?lz(t)?j(t):new pn.y(e=>{let i=!1,r=!1;const o=a=>{r=!0,i||(a.target.removeEventListener("onReady",o),e.next(a.target))};return t.addEventListener("onReady",o),()=>{i=!0,r||n(t)}}).pipe(Ct(1),tr(void 0)):j(void 0))}(o=>{lz(o)||o.destroy()}),Nt(this._destroyed),function vX(n){return n?t=>iz(n)(t):t=>function yX(n,t){const e=(0,ks.m)(n)?n:()=>n;return(0,ks.m)(t)?iz(t,{connector:e}):i=>new W_(i,e)}(new Ze.x)(t)}());r.subscribe(o=>{this._player=o,o&&this._pendingPlayerState&&this._initializePlayer(o,this._pendingPlayerState),this._pendingPlayerState=void 0}),function CX(n,t,e){gs([n,t,e]).subscribe(([i,r,o])=>i&&i.setSize(r,o))}(r,this._width,this._height),function EX(n,t){gs([n,t]).subscribe(([e,i])=>e&&i&&e.setPlaybackQuality(i))}(r,this._suggestedQuality),function IX(n,t,e,i,r,o){const a=gs([e,i]).pipe((0,Ke.U)(([v,D])=>({startSeconds:v,endSeconds:D}))),d=a.pipe($N(n,v=>!!v&&!function MX(n){const t=n.getPlayerState();return t!==YT.PlayerState.UNSTARTED&&t!==YT.PlayerState.CUED}(v))),f=t.pipe($N(n,(v,D)=>!!v&&v.videoId!==D)),m=n.pipe($N(gs([t,a]),([v,D],A)=>!(!A||v==A.videoId&&!D.startSeconds&&!D.endSeconds)));(0,Ai.T)(m,f,d).pipe(sI(gs([n,t,a,r])),(0,Ke.U)(([v,D])=>D),Nt(o)).subscribe(([v,D,A,R])=>{!D||!v||(v.videoId=D,v.cueVideoById({videoId:D,suggestedQuality:R,...A}))})}(r,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),r.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(e,i){this._player?this._player.seekTo(e,i):this._getPendingState().seek={seconds:e,allowSeekAhead:i}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(e){this._player?this._player.setVolume(e):this._getPendingState().volume=e}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(e){if(this._player)return this._player.setPlaybackRate(e);this._getPendingState().playbackRate=e}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(e,i){const{playbackState:r,playbackRate:o,volume:a,muted:d,seek:f}=i;switch(r){case YT.PlayerState.PLAYING:e.playVideo();break;case YT.PlayerState.PAUSED:e.pauseVideo();break;case YT.PlayerState.CUED:e.stopVideo()}null!=o&&e.setPlaybackRate(o),null!=a&&e.setVolume(a),null!=d&&(d?e.mute():e.unMute()),null!=f&&e.seekTo(f.seconds,f.allowSeekAhead)}_getLazyEmitter(e){return this._playerChanges.pipe(_n(i=>i?nz(r=>{i.addEventListener(e,r)},r=>{try{i.removeEventListener&&i.removeEventListener(e,r)}catch{}}):j()),i=>new pn.y(r=>i.subscribe({next:o=>this._ngZone.run(()=>r.next(o)),error:o=>r.error(o),complete:()=>r.complete()})),Nt(this._destroyed))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.Lbi))},n.\u0275cmp=s.Xpm({type:n,selectors:[["youtube-player"]],viewQuery:function(e,i){if(1&e&&s.Gf(xX,5),2&e){let r;s.iGM(r=s.CRH())&&(i.youtubeContainer=r.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:"disableCookies",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(e,i){1&e&&s._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})();function AX(n,[t,e,i]){if(n&&e&&(n.playerVars!==e.playerVars||n.host!==e.host))n.destroy();else{if(!e)return void(n&&n.destroy());if(n)return n}const r=i.runOutsideAngular(()=>new YT.Player(t,e));return r.videoId=e.videoId,r.playerVars=e.playerVars,r.host=e.host,r}function lz(n){return"getPlayerStatus"in n}function $N(n,t){return(0,Em.z)(sI(n),Nn(([e,i])=>t(i,e)),(0,Ke.U)(([e])=>e))}let kX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const RX=["*"];let oI;function Ux(n){return function OX(){if(void 0===oI&&(oI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(oI=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return oI}()?.createHTML(n)||n}function cz(n){return Error(`Unable to find icon with the name "${n}"`)}function uz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function dz(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ig{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let aI=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Ig(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const a=this._sanitizer.sanitize(s.q3G.HTML,r);if(!a)throw dz(r);const d=Ux(a);return this._addSvgIconConfig(e,i,new Ig("",d,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Ig(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw dz(i);const a=Ux(o);return this._addSvgIconSetConfig(e,new Ig("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw uz(e);const r=this._cachedIconsByUrl.get(i);return r?j(lI(r)):this._loadSvgIconFromConfig(new Ig(e,null)).pipe((0,Fn.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,Ke.U)(o=>lI(o)))}getNamedSvgIcon(e,i=""){const r=hz(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):xf(cz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?j(lI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Ke.U)(i=>lI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?j(r):kb(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(pl(d=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,a.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(m)),j(null)})))).pipe((0,Ke.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw cz(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(o),d=this._extractSvgIconFromSet(a,e,o.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Fn.b)(i=>e.svgText=i),(0,Ke.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?j(null):this._fetchIcon(e).pipe((0,Fn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const d=this._svgElementFromString(Ux("<svg></svg>"));return d.appendChild(a),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Ux("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:a,value:d}=r[o];"id"!==a&&i.setAttribute(a,d)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function PX(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!a)throw uz(i);const d=this._inProgressUrlFetches.get(a);if(d)return d;const f=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe((0,Ke.U)(m=>Ux(m)),vu(()=>this._inProgressUrlFetches.delete(a)),(0,qF.B)());return this._inProgressUrlFetches.set(a,f),f}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(hz(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return NX(o)?new Ig(o.url,null,o.options):new Ig(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ag,8),s.LFG(jo),s.LFG(te,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lI(n){return n.cloneNode(!0)}function hz(n,t){return n+":"+t}function NX(n){return!(!n.url||!n.options)}const LX=E_(class{constructor(n){this._elementRef=n}}),BX=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),VX=new s.OlP("mat-icon-location",{providedIn:"root",factory:function UX(){const n=(0,s.f3M)(te),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),fz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],HX=fz.map(n=>`[${n}]`).join(", "),GX=/^url\(['"]?#(.*?)['"]?\)$/;let gc=(()=>{class n extends LX{get inline(){return this._inline}set inline(e){this._inline=Dt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,a,d){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=x.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(HX),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)fz.forEach(a=>{const d=i[o],f=d.getAttribute(a),m=f?f.match(GX):null;if(m){let v=r.get(d);v||(v=[],r.set(d,v)),v.push({name:a,value:m[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ct(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(aI),s.$8M("aria-hidden"),s.Y36(VX),s.Y36(s.qLn),s.Y36(BX,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:RX,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),pz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Tn,Tn]}),n})();const jX=["tooltip"],mz=new s.OlP("mat-tooltip-scroll-strategy"),$X={provide:mz,deps:[ra],useFactory:function qX(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},ZX=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function YX(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),gz="tooltip-panel",_z=kr({passive:!0});let eee=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Dt(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Dt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ts(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ts(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,a,d,f,m,v,D,A,R){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=a,this._platform=d,this._ariaDescriber=f,this._focusMonitor=m,this._dir=D,this._defaultOptions=A,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ze.x,this._scrollStrategy=v,this._document=R,A&&(A.position&&(this.position=A.position),A.positionAtOrigin&&(this.positionAtOrigin=A.positionAtOrigin),A.touchGestures&&(this.touchGestures=A.touchGestures)),D.change.pipe(Nt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Nt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,_z)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new dv(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Nt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof s.SBq)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Nt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${gz}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Nt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Nt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Nt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Sa(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ct(1),Nt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",a!==this._currentPosition){const d=this._overlayRef;if(d){const f=`${this._cssClassPrefix}-${gz}-`;d.removePanelClass(f+this._currentPosition),d.addPanelClass(f+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,_z)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),_c=(()=>{class n extends eee{constructor(e,i,r,o,a,d,f,m,v,D,A,R){super(e,i,r,o,a,d,f,m,v,D,A,R),this._tooltipComponent=nee,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ra),s.Y36(s.SBq),s.Y36(lv),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(Vn),s.Y36(rE),s.Y36(tc),s.Y36(mz),s.Y36(Pn,8),s.Y36(ZX,8),s.Y36(te))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),tee=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ze.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),nee=(()=>{class n extends tee{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(jX,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.TgZ(2,"div",2),s._uU(3),s.qZA()()),2&e&&(s.ekj("mdc-tooltip--multiline",i._isMultiline),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message))},dependencies:[Vt],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),iee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[$X],imports:[Wo,hr,mv,Tn,Tn,uv]}),n})();const ree=["*"],aee=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],lee=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],cee=new s.OlP("MAT_CARD_CONFIG");let Hx=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(cee,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ree,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),cI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),Gx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),yz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),n})(),YN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:lee,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,i){1&e&&(s.F$t(aee),s.Hsn(0),s.TgZ(1,"div",0),s.Hsn(2,1),s.qZA(),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),vee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Tn,hr,Tn]}),n})(),bee=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Dt(e)}get inset(){return this._inset}set inset(e){this._inset=Dt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),wee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Tn,Tn]}),n})(),xee=(()=>{class n{constructor(){this.editVideoEmitter=new s.vpe,this.deleteVideoEmitter=new s.vpe,this.videoIdEmitter=new s.vpe}ngOnInit(){this.publishDate=vz(new Date(this.videoDetails?.snippet?.publishedAt))}editVideo(e){this.editVideoEmitter.emit(e)}deleteVideo(e){this.deleteVideoEmitter.emit(e)}emitVideoId(e){this.videoIdEmitter.emit(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["video-card"]],inputs:{videoId:"videoId",videoDetails:"videoDetails"},outputs:{editVideoEmitter:"editVideoEmitter",deleteVideoEmitter:"deleteVideoEmitter",videoIdEmitter:"videoIdEmitter"},decls:22,vars:11,consts:[[1,"yt-card"],[1,"thumb",3,"click"],[3,"src"],[1,"details"],[1,"info"],[1,"title",3,"click"],[1,"channel-name"],[1,"views"],["id","views"],[1,"actions"],["matTooltip","Go to Video Details",3,"click"],["matTooltip","Delete Video from your collection",3,"click"]],template:function(i,r){1&i&&(s.TgZ(0,"div",0)(1,"div",1),s.NdJ("click",function(){return r.emitVideoId(r.videoDetails.id)}),s._UZ(2,"img",2),s.qZA(),s.TgZ(3,"div",3)(4,"div",4)(5,"div",5),s.NdJ("click",function(){return r.emitVideoId(r.videoDetails.id)}),s._uU(6),s.ALo(7,"slice"),s.qZA(),s.TgZ(8,"div",6),s._uU(9),s.qZA(),s.TgZ(10,"div",7)(11,"span",8),s._uU(12),s.ALo(13,"number"),s.qZA(),s._uU(14," \xb7 "),s.TgZ(15,"span"),s._uU(16),s.qZA()()()(),s.TgZ(17,"div",9)(18,"mat-icon",10),s.NdJ("click",function(){return r.editVideo(r.videoDetails.id)}),s._uU(19,"edit"),s.qZA(),s.TgZ(20,"mat-icon",11),s.NdJ("click",function(){return r.deleteVideo(r.videoDetails.id)}),s._uU(21,"delete"),s.qZA()()()),2&i&&(s.xp6(2),s.Q6J("src",null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.thumbnails?null:r.videoDetails.snippet.thumbnails.medium.url,s.LSH),s.xp6(4),s.hij(" ",(null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.title?null:r.videoDetails.snippet.title.length)>50?s.Dn7(7,5,null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title,0,50)+"...":null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title," "),s.xp6(3),s.Oqu(null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.channelTitle),s.xp6(3),s.hij("",s.lcZ(13,9,null==r.videoDetails||null==r.videoDetails.statistics?null:r.videoDetails.statistics.viewCount)," views"),s.xp6(4),s.hij("",r.publishDate," ago"))},dependencies:[gc,_c,Pl,Ol],styles:[".yt-card[_ngcontent-%COMP%]{max-width:400px;max-height:350px;width:420px;height:350px;font-family:sans-serif;display:flex;flex-direction:column;overflow:hidden;margin:10px 10px 10px 0;box-shadow:#717172 0 10px 35px -10px;border-radius:4px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{height:56%;overflow:hidden;margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;cursor:pointer}.yt-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;padding:10px;gap:10px}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{flex:1}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:50%}.yt-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer}.yt-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray;text-decoration:none}.actions[_ngcontent-%COMP%]{height:30px;display:flex;padding-left:15px;padding-bottom:15px;flex-grow:1;align-items:flex-end;gap:20px}.actions[_ngcontent-%COMP%]:hover{cursor:pointer}.yt-card[_ngcontent-%COMP%]:hover{border-radius:0;transition:.3s}"]})}return n})();function vz(n){let t=Math.floor(((new Date).valueOf()-n.valueOf())/1e3),e=t/31536e3;return e>1?Math.floor(e)+" years":(e=t/2592e3,e>1?Math.floor(e)+" months":(e=t/86400,e>1?Math.floor(e)+" days":(e=t/3600,e>1?Math.floor(e)+" hours":(e=t/60,e>1?Math.floor(e)+" minutes":Math.floor(t)+" seconds"))))}let ZN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["fullscreen-loader"]],decls:2,vars:0,consts:[[1,"cssload-container"],[1,"cssload-speeding-wheel"]],template:function(i,r){1&i&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.qZA())},styles:['.cssload-container[_ngcontent-%COMP%]{position:fixed;width:100%;inset:0;background-color:#ffffffb3;z-index:9999}.cssload-speeding-wheel[_ngcontent-%COMP%]{content:"";display:block;position:absolute;left:48%;top:40%;width:33px;height:33px;margin:0 auto;border:4px solid rgb(0,0,0);border-radius:50%;border-left-color:transparent;border-right-color:transparent;animation:_ngcontent-%COMP%_cssload-spin .5s infinite linear;-o-animation:cssload-spin .5s infinite linear;-ms-animation:cssload-spin .5s infinite linear;-webkit-animation:_ngcontent-%COMP%_cssload-spin .5s infinite linear;-moz-animation:cssload-spin .5s infinite linear}@keyframes _ngcontent-%COMP%_cssload-spin{to{transform:rotate(360deg)}}']})}return n})(),Cee=(()=>{class n{constructor(){this.editVideoEmitter=new s.vpe,this.deleteVideoEmitter=new s.vpe,this.requestCommunityHelpEmitter=new s.vpe}ngOnInit(){this.publishDate=this.timeSince(new Date(this.videoDetails?.snippet?.publishedAt))}editVideo(e){this.editVideoEmitter.emit(e)}timeSince(e){let i=Math.floor(((new Date).valueOf()-e.valueOf())/1e3),r=i/31536e3;return r>1?Math.floor(r)+" years":(r=i/2592e3,r>1?Math.floor(r)+" months":(r=i/86400,r>1?Math.floor(r)+" days":(r=i/3600,r>1?Math.floor(r)+" hours":(r=i/60,r>1?Math.floor(r)+" minutes":Math.floor(i)+" seconds"))))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["community-video-card"]],inputs:{videoId:"videoId",videoDetails:"videoDetails",communityRequestDetails:"communityRequestDetails"},outputs:{editVideoEmitter:"editVideoEmitter",deleteVideoEmitter:"deleteVideoEmitter",requestCommunityHelpEmitter:"requestCommunityHelpEmitter"},decls:25,vars:13,consts:[[1,"yt-card"],[1,"thumb"],["target","_blank",3,"href"],[3,"src"],[1,"details"],[1,"info"],[1,"title"],[1,"channel-name"],[1,"views"],["id","views"],[1,"actions"],["matTooltip","Assist with Subtitles",3,"click"]],template:function(i,r){1&i&&(s.TgZ(0,"div",0)(1,"div",1)(2,"a",2),s._UZ(3,"img",3),s.qZA()(),s.TgZ(4,"div",4)(5,"div",5)(6,"div",6),s._uU(7),s.ALo(8,"slice"),s.qZA(),s.TgZ(9,"div",7),s._uU(10),s.qZA(),s.TgZ(11,"div",8)(12,"span",9),s._uU(13),s.ALo(14,"number"),s.qZA(),s.TgZ(15,"div")(16,"span"),s._uU(17),s.qZA()(),s.TgZ(18,"span"),s._uU(19,"Requested by "),s.TgZ(20,"b"),s._uU(21),s.qZA()()()()(),s.TgZ(22,"div",10)(23,"mat-icon",11),s.NdJ("click",function(){return r.editVideo(r.communityRequestDetails)}),s._uU(24,"group"),s.qZA()()()),2&i&&(s.xp6(2),s.Q6J("href","//youtube.com/watch?v="+(null==r.videoDetails?null:r.videoDetails.id),s.LSH),s.xp6(1),s.Q6J("src",null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.thumbnails?null:r.videoDetails.snippet.thumbnails.medium.url,s.LSH),s.xp6(4),s.hij(" ",(null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.title?null:r.videoDetails.snippet.title.length)>50?s.Dn7(8,7,null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title,0,50)+"...":null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title," "),s.xp6(3),s.Oqu(null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.channelTitle),s.xp6(3),s.hij("",s.lcZ(14,11,null==r.videoDetails||null==r.videoDetails.statistics?null:r.videoDetails.statistics.viewCount)," views"),s.xp6(4),s.hij("Language: ",r.communityRequestDetails.language,""),s.xp6(4),s.Oqu(r.communityRequestDetails.requestedBy))},dependencies:[gc,_c,Pl,Ol],styles:[".yt-card[_ngcontent-%COMP%]{max-width:400px;max-height:350px;width:420px;height:350px;font-family:sans-serif;display:flex;flex-direction:column;overflow:hidden;margin:10px 10px 10px 0;box-shadow:#717172 0 10px 35px -10px;border-radius:4px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{height:56%;overflow:hidden;margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;cursor:pointer}.yt-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;padding:10px;gap:10px}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{flex:1}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:50%}.yt-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray;text-decoration:none}.actions[_ngcontent-%COMP%]{height:30px;display:flex;padding-left:15px;padding-bottom:15px;flex-grow:1;align-items:flex-end;gap:20px}.actions[_ngcontent-%COMP%]:hover{cursor:pointer}.yt-card[_ngcontent-%COMP%]:hover{border-radius:0;transition:.3s}"]})}return n})(),Eee=(()=>{class n{transform(e,i,r){return e?i?(i=i.toString().toLowerCase(),e.filter(o=>o.snippet.title.toLowerCase().includes(i))):e:[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=s.Yjl({name:"filter",type:n,pure:!0})}return n})();const Dee=["userVideosContainer"];function See(n,t){1&n&&(s.TgZ(0,"div",20)(1,"h3"),s._uU(2,"No videos found, click on the + button to get started!"),s.qZA()())}function Tee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"video-card",24),s.NdJ("editVideoEmitter",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.navigateToDetailsView(r))})("deleteVideoEmitter",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.deleteVideoPrompt(r))})("videoIdEmitter",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.previewVideo(r))}),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(3);s.Q6J("videoId",e.videoId)("videoDetails",i.getVideoDetailsById(e.videoId))}}function Aee(n,t){if(1&n&&(s.TgZ(0,"div",22),s.YNc(1,Tee,1,2,"video-card",23),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngIf",e.youtubeVideoDetails)}}function Iee(n,t){if(1&n&&(s.YNc(0,Aee,2,1,"div",21),s.ALo(1,"filter"),s.ALo(2,"async")),2&n){s.oxw();const e=s.MAs(12),i=s.oxw();s.Q6J("ngForOf",s.xi3(1,1,s.lcZ(2,4,i.userVideos$),e.value))}}function Mee(n,t){1&n&&(s.ynx(0),s.TgZ(1,"mat-icon",28),s._uU(2,"video_library"),s.qZA(),s.TgZ(3,"mat-card-title"),s._uU(4,"Select a video to preview."),s.qZA(),s.BQk())}function kee(n,t){if(1&n&&(s.TgZ(0,"div",29),s._UZ(1,"youtube-player",30),s.qZA()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("videoId",e.videoSelectedId)}}function Ree(n,t){if(1&n&&(s.TgZ(0,"div",25)(1,"mat-card")(2,"mat-card-content",26),s.YNc(3,Mee,5,0,"ng-container",2),s.YNc(4,kee,2,1,"div",27),s.qZA()()()),2&n){const e=s.oxw(2);s.xp6(3),s.Q6J("ngIf",!e.videoSelectedId),s.xp6(1),s.Q6J("ngIf",e.videoSelectedId)}}function Oee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"community-video-card",33),s.NdJ("editVideoEmitter",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.navigateToCommunityEdit(r))}),s.qZA()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.Q6J("videoId",e.videoId)("communityRequestDetails",e)("videoDetails",i.getVideoDetailsById(e.videoId))}}function Pee(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,Oee,1,3,"community-video-card",32),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.youtubeVideoDetails)}}function Fee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"div",4)(2,"span",5),s._uU(3),s.ALo(4,"async"),s.qZA(),s.TgZ(5,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openDialog())}),s.TgZ(6,"mat-icon"),s._uU(7,"add"),s.qZA()(),s.TgZ(8,"mat-form-field")(9,"mat-label"),s._uU(10,"Search By Title"),s.qZA(),s._UZ(11,"input",7,8),s.qZA(),s.TgZ(13,"div",9)(14,"button",10),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeToListView())}),s.TgZ(15,"mat-icon"),s._uU(16,"dehaze"),s.qZA()(),s.TgZ(17,"button",11),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.changeToGridView())}),s.TgZ(18,"mat-icon"),s._uU(19,"grid_on"),s.qZA()()()(),s.TgZ(20,"div",12)(21,"div",13,14),s.YNc(23,See,3,0,"div",15),s.ALo(24,"async"),s.YNc(25,Iee,3,6,"ng-template",null,16,s.W1O),s.qZA(),s.YNc(27,Ree,5,2,"div",17),s.qZA(),s._UZ(28,"mat-divider"),s.TgZ(29,"div",18)(30,"h1"),s._uU(31,"Community Videos"),s.qZA(),s.TgZ(32,"h3"),s._uU(33,"Someone in the Sub&Dub community needs your help! Assist them with subtitling their videos."),s.qZA()(),s.TgZ(34,"div",13),s.YNc(35,Pee,2,1,"div",19),s.ALo(36,"async"),s.qZA()()}if(2&n){const e=s.MAs(26),i=s.oxw();let r;s.xp6(3),s.hij("My Videos (",null==(r=s.lcZ(4,5,i.userVideos$))?null:r.length,")"),s.xp6(20),s.Q6J("ngIf",!s.lcZ(24,7,i.userVideos$))("ngIfElse",e),s.xp6(4),s.Q6J("ngIf",i.listView),s.xp6(8),s.Q6J("ngForOf",s.lcZ(36,9,i.communityVideos$))}}function Nee(n,t){1&n&&(s.TgZ(0,"div",34),s._UZ(1,"app-video-init-form",35),s.qZA())}function Lee(n,t){1&n&&s._UZ(0,"fullscreen-loader")}let Bee=(()=>{class n{constructor(e,i,r,o,a,d,f,m){this.auth=e,this.dashboardService=i,this.youtubeService=r,this.router=o,this.dialog=a,this.snackbar=d,this.sanitizer=f,this.renderer=m,this.userVideos$=new pn.y,this.communityVideos$=new pn.y,this.loading$=new S(null),this.userId$=new S(""),this.isFormOpen=!1,this.listView=!1,this.apiLoaded=!1}ngOnInit(){if(this.user$=this.auth.user,this.loading$.next(!0),gs([this.user$,this.user$.pipe(ol(),_n(e=>e?(this.userId$.next(e.uid),this.userVideos$=this.dashboardService.getVideos(e.uid),this.communityVideos$=this.dashboardService.getCommunityVideos(),gs([this.userVideos$,this.communityVideos$])):j(null)))]).pipe(ol(),_n(([e,[i,r]])=>{const o=i.map(m=>m.videoId),a=r.map(m=>m.videoId),d=new Set([...o,...a]),f=Array.from(d).join(",");return this.youtubeService.getVideoDetails(f)})).subscribe(e=>{e&&(this.youtubeVideoDetails=e,this.loading$.next(!1))}),!this.apiLoaded){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),this.apiLoaded=!0}}navigateToDetailsView(e){this.router.navigate(["/details",e])}navigateToCommunityEdit(e){this.router.navigate(["community/edit",e.videoId,e.iso,e.requestId])}deleteVideoPrompt(e){this.dialog.open(MJ,{width:"400px",scrollStrategy:new MN}).afterClosed().subscribe(r=>{!0===r&&this.dashboardService.deleteVideo(e,this.userId$.value)})}openDialog(){this.dialog.open(Vj,{height:"150px"}).afterClosed().subscribe(i=>{this.youtubeVideoDetails.map(r=>r.id).includes(i)?this.snackbar.open("Video already exists in Collection.","DISMISS",{duration:5e3}):i&&this.addVideoToUserCollection(i)})}getVideoDetailsById(e){return this.youtubeVideoDetails.find(i=>i.id===e)}addVideoToUserCollection(e){this.dashboardService.addVideo(e,this.userId$.value)}previewVideo(e){this.videoSelectedId=e}iframeURL(){return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+this.videoSelectedId+"?autoplay=1")}changeToListView(){this.listView=!0,this.videoSelectedId=null,this.renderer.removeClass(this.userVideosContainer.nativeElement,"grid-view"),this.renderer.addClass(this.userVideosContainer.nativeElement,"list-view")}changeToGridView(){this.listView=!1,this.videoSelectedId=null,this.renderer.removeClass(this.userVideosContainer.nativeElement,"list-view"),this.renderer.addClass(this.userVideosContainer.nativeElement,"grid-view")}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(ap),s.Y36(sj),s.Y36(yv),s.Y36(ir),s.Y36(lp),s.Y36(rI),s.Y36(jo),s.Y36(s.Qsj))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(i,r){if(1&i&&s.Gf(Dee,5),2&i){let o;s.iGM(o=s.CRH())&&(r.userVideosContainer=o.first)}},features:[s._Bn([sj,BN])],decls:5,vars:7,consts:[["class","dashboard-wrapper",4,"ngIf"],["class","video-submission-form",4,"ngIf"],[4,"ngIf"],[1,"dashboard-wrapper"],[1,"dashboard-header"],[1,"my-videos"],["mat-icon-button","","matTooltip","Add New video",3,"click"],["matInput",""],["searchInput",""],[1,"view-switch"],["mat-icon-button","","matTooltip","List View",3,"click"],["mat-icon-button","","matTooltip","Grid View",3,"click"],[1,"view-wrapper"],[1,"video-container"],["userVideosContainer",""],["class","no-video",4,"ngIf","ngIfElse"],["videos",""],["class","video-player-card",4,"ngIf"],[1,"community-videos-header"],["class","",4,"ngFor","ngForOf"],[1,"no-video"],["class","video",4,"ngFor","ngForOf"],[1,"video"],[3,"videoId","videoDetails","editVideoEmitter","deleteVideoEmitter","videoIdEmitter",4,"ngIf"],[3,"videoId","videoDetails","editVideoEmitter","deleteVideoEmitter","videoIdEmitter"],[1,"video-player-card"],["align","center",1,"card-content"],["class","iframe-container",4,"ngIf"],[1,"video-icon"],[1,"iframe-container"],[3,"videoId"],[1,""],[3,"videoId","communityRequestDetails","videoDetails","editVideoEmitter",4,"ngIf"],[3,"videoId","communityRequestDetails","videoDetails","editVideoEmitter"],[1,"video-submission-form"],[1,"video-init-form"]],template:function(i,r){1&i&&(s.YNc(0,Fee,37,11,"div",0),s.ALo(1,"async"),s.YNc(2,Nee,2,0,"div",1),s.YNc(3,Lee,1,0,"fullscreen-loader",2),s.ALo(4,"async")),2&i&&(s.Q6J("ngIf",s.lcZ(1,3,r.user$)),s.xp6(2),s.Q6J("ngIf",r.isFormOpen),s.xp6(1),s.Q6J("ngIf",s.lcZ(4,5,r.loading$)))},dependencies:[Wr,ci,ic,ll,Rd,gv,qN,gc,_c,Hx,Gx,cI,bee,Vj,xee,ZN,Cee,Qr,Eee],styles:[".dashboard-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:40px;padding-left:100px;padding-right:50px}.dashboard-header[_ngcontent-%COMP%]{display:flex;gap:30px;padding-right:80px;align-items:baseline}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}.community-videos-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:30px;font-size:32px}.video-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:30px;padding-bottom:20px}.view-switch[_ngcontent-%COMP%]{margin-left:auto;display:flex;align-items:center}.view-switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.list-view[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:nowrap;max-height:600px;overflow-x:hidden;overflow-y:auto;max-width:40%;padding-bottom:20px}.grid-view[_ngcontent-%COMP%]{flex-direction:row}.view-wrapper[_ngcontent-%COMP%]{display:flex;gap:10px;padding-bottom:10px}.view-wrapper[_ngcontent-%COMP%]   .video-player-card[_ngcontent-%COMP%]{flex-grow:1}.view-wrapper[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{height:100%;justify-content:center}.view-wrapper[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:center;align-items:center;flex-direction:column}.view-wrapper[_ngcontent-%COMP%]   .video-icon[_ngcontent-%COMP%]{transform:scale(3);margin-bottom:20px}.iframe-container[_ngcontent-%COMP%]{height:100%;width:100%}  youtube-player iframe{height:100%;width:100%}.my-videos[_ngcontent-%COMP%]{font-size:32px}"],changeDetection:0})}return n})(),Vee=(()=>{class n{constructor(e,i){this.auth=e,this.router=i}getStarted(){this.auth.isLoggedIn?this.router.navigate(["dashboard"]):this.auth.googleSignin()}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(ap),s.Y36(ir))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-sign-in"]],decls:58,vars:0,consts:[[1,"framer-17VMZ","snipcss-2LQon",2,"display","contents"],["id","style-S7kbQ",1,"framer-72rtr7","style-S7kbQ"],["data-framer-name","Hero","name","Hero",1,"framer-izipst"],["data-framer-name","Menu","name","Menu",1,"framer-1m6zcj4"],["data-framer-component-type","RichTextContainer","id","style-3xcjG",1,"framer-1o7iind","style-3xcjG"],["id","style-XoYMm",1,"framer-text","style-XoYMm",2,"font-weight","bold","font-size","46px"],["id","style-XoYMm",1,"framer-text","style-XoYMm"],["data-border","true",1,"framer-rs3vcm",3,"click"],["id","style-O989f",1,"framer-text","style-O989f"],[1,"framer-1hto07d"],["data-framer-name","Image","name","Image",1,"framer-11thb9q"],[1,"framer-10b499s"],["data-framer-component-type","RichTextContainer","id","style-jshnF",1,"framer-12fq5iq","style-jshnF"],["id","style-tFLTC",1,"framer-text","style-tFLTC"],["data-framer-name","Image","name","Image",1,"framer-1vhezkk"],["data-framer-background-image-wrapper","true","id","style-WgjoQ",1,"style-WgjoQ"],["src","/assets/images/homepage_banner1.jpg","alt","","id","style-e97mo",1,"style-e97mo"],["data-framer-name","Image","name","Image",1,"framer-pp9yjo"],["data-framer-background-image-wrapper","true","id","style-xjifs",1,"style-xjifs"],["src","https://framerusercontent.com/images/X52e4CdSiXlWJuU2uLUKD17ek.jpg?scale-down-to=512","alt","","id","style-qAWA5",1,"style-qAWA5"],["data-framer-name","Image","name","Image",1,"framer-3hlrvk"],[1,"framer-uazw45-container"],["id","style-Jj7TO",1,"style-Jj7TO"],["id","curve-pBaYbXGyr-3njpi4","clipPathUnits","objectBoundingBox","transform","scale(0.005)"],["d","M200 99.5882C200 99.5882 155.228 150.176 100 150.176C44.7715 150.176 0 99.5882 0 99.5882C0 99.5882 44.7715 49 100 49C155.228 49 200 99.5882 200 99.5882Z"],["data-border","true","data-framer-name","Decoration","name","Decoration",1,"framer-smw6up"],["data-border","true","data-framer-name","Decoration","name","Decoration",1,"framer-kljns1"],["data-framer-name","Metrics","name","Metrics",1,"framer-1fpzmgq"],[1,"framer-1m5sbt9"],["data-framer-name","Card","name","Card",1,"framer-1gvow"],["data-framer-component-type","RichTextContainer","id","style-Y3led",1,"framer-1etk73u","style-Y3led"],["id","style-5Iw2H",1,"framer-text","style-5Iw2H"],["data-framer-component-type","RichTextContainer","id","style-CMm6E",1,"framer-dlcxlt","style-CMm6E"],["id","style-Ps2xU",1,"framer-text","style-Ps2xU"],["data-framer-name","Card","name","Card",1,"framer-xdm1ys"],["data-framer-name","Image","name","Image",1,"framer-1uy86ve"],["data-framer-background-image-wrapper","true","id","style-gdzvo",1,"style-gdzvo"],["src","/assets/images/homepage_banner2.jpg","alt","","loading","lazy","id","style-xUGQo",1,"style-xUGQo"],["data-framer-name","Card","name","Card",1,"framer-e74uzy"],["data-framer-name","Image","name","Image",1,"framer-1q6krjs"],["data-framer-background-image-wrapper","true","id","style-JY3C8",1,"style-JY3C8"],["src","https://framerusercontent.com/images/AaUW2N6W1BV6WPzUnBuXdohFoY.jpg?scale-down-to=512","alt","","loading","lazy","id","style-qjeZY",1,"style-qjeZY"],["data-framer-name","Card","name","Card",1,"framer-lywx49"],["data-framer-component-type","RichTextContainer","id","style-Dr8BU",1,"framer-sun0bc","style-Dr8BU"],["id","style-Z8CAj",1,"framer-text","style-Z8CAj"],["data-framer-component-type","RichTextContainer","id","style-8hoXX",1,"framer-n2z993","style-8hoXX"],["id","style-UrLUD",1,"framer-text","style-UrLUD"],["id","overlay"]],template:function(i,r){1&i&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),s._uU(6,"Sub & Dub "),s.qZA(),s.TgZ(7,"p",6),s._uU(8,"Revolution in Subtitling & Dubbing "),s.qZA()()(),s.TgZ(9,"div",7),s.NdJ("click",function(){return r.getStarted()}),s.TgZ(10,"h1",8),s._uU(11," GET STARTED "),s.qZA()(),s.TgZ(12,"div",9)(13,"div",10),s._UZ(14,"div",11),s.TgZ(15,"div",12)(16,"h1",13),s._uU(17,"Seamlessly combine the precision of Google Translate with the human touch of ChatGPT. It\u2019s subtitle magic like you\u2019ve never seen before. No language is out of reach now! "),s.qZA()()(),s.TgZ(18,"div",14)(19,"div",15),s._UZ(20,"img",16),s.qZA()(),s.TgZ(21,"div",17)(22,"div",18),s._UZ(23,"img",19),s.qZA()(),s.TgZ(24,"div",20)(25,"div",21)(26,"div",22),s.O4$(),s.TgZ(27,"svg")(28,"clipPath",23),s._UZ(29,"path",24),s.qZA()()()()(),s.kcU(),s._UZ(30,"div",25)(31,"div",26),s.qZA()(),s.TgZ(32,"div",27)(33,"div",28)(34,"div",29)(35,"div",30)(36,"h2",31),s._uU(37," 100+ "),s.qZA()(),s.TgZ(38,"div",32)(39,"h3",33),s._uU(40," Languages available for translation. Your content, for the world to understand. "),s.qZA()()(),s.TgZ(41,"div",34)(42,"div",35)(43,"div",36),s._UZ(44,"img",37),s.qZA()()(),s.TgZ(45,"div",38)(46,"div",39)(47,"div",40),s._UZ(48,"img",41),s.qZA()()(),s.TgZ(49,"div",42)(50,"div",43)(51,"h2",44),s._uU(52," Google Translate & ChatGPT "),s.qZA(),s._UZ(53,"br"),s.qZA(),s.TgZ(54,"div",45)(55,"h2",46),s._uU(56,"Got a French movie that needs English subtitles? We've got you covered. From Greek comedies to Japanese thrillers, we\u2019re your linguistic maestros."),s.qZA()()()()()(),s._UZ(57,"div",47),s.qZA())},styles:['.main-view-login[_ngcontent-%COMP%]{padding-top:10px;display:flex;justify-content:center;flex-direction:column;align-items:center}.call-to-action_login[_ngcontent-%COMP%]{padding-top:15px;text-align:center}.call-to-action_login[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600}.mdc-card[_ngcontent-%COMP%]{flex-direction:row}.cards-container[_ngcontent-%COMP%]{display:flex;margin-top:60px;gap:100px;flex-wrap:wrap;justify-content:center}body[_ngcontent-%COMP%]{font-size:12px;font-family:sans-serif;background:#000000}body[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px}*[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-font-smoothing:inherit}body[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-size:12px;font-family:sans-serif}body[_ngcontent-%COMP%]{--framer-aspect-ratio-supported: auto}html[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}[_ngcontent-%COMP%]:root{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.framer-17VMZ[_ngcontent-%COMP%]   .framer-72rtr7[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#000;display:flex;flex-direction:column;flex-wrap:nowrap;gap:0px;height:min-content;justify-content:flex-start;overflow:hidden;padding:0;position:relative;width:1200px}.framer-17VMZ[_ngcontent-%COMP%]   .framer-izipst[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#fff;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:20px;height:min-content;justify-content:flex-start;min-height:800px;overflow:hidden;padding:30px 100px 100px;position:relative;width:100%}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1fpzmgq[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#fff;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:0px;height:min-content;justify-content:flex-start;overflow:hidden;padding:50px 100px 100px;position:relative;width:100%}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1m6zcj4[_ngcontent-%COMP%]{max-width:1000px;padding-left:20px;padding-right:20px;align-content:center;align-items:center;display:flex;flex:none;flex-direction:row;flex-wrap:nowrap;gap:20px;height:min-content;justify-content:center;overflow:hidden;position:relative;width:100%;z-index:3}.framer-17VMZ[_ngcontent-%COMP%]   .framer-rs3vcm[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px;align-content:center;align-items:center;border-radius:60px;display:flex;flex:none;flex-direction:row;flex-wrap:nowrap;gap:10px;height:min-content;justify-content:center;max-width:1000px;overflow:hidden;padding:20px 60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:3;cursor:pointer}.framer-rs3vcm[_ngcontent-%COMP%]:hover{background:black;color:#fff}.framer-rs3vcm[_ngcontent-%COMP%]:hover   h1[_ngcontent-%COMP%]{color:#fff}.framer-17VMZ[_ngcontent-%COMP%]   [data-border=true][_ngcontent-%COMP%]:after{content:"";border-width:var(--border-top-width, 0) var(--border-right-width, 0) var(--border-bottom-width, 0) var(--border-left-width, 0);border-color:var(--border-color, none);border-style:var(--border-style, none);width:100%;height:100%;position:absolute;box-sizing:border-box;left:0;top:0;border-radius:inherit;pointer-events:none}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1hto07d[_ngcontent-%COMP%]{display:grid;flex:none;gap:20px;grid-auto-rows:minmax(0,1fr);grid-template-columns:repeat(5,minmax(20px,1fr));grid-template-rows:repeat(3,minmax(0,1fr));height:600px;justify-content:center;max-width:1000px;overflow:visible;padding:0;position:relative;width:100%;z-index:3}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1m5sbt9[_ngcontent-%COMP%]{display:grid;flex:none;gap:20px;grid-auto-rows:min-content;grid-template-columns:repeat(3,minmax(40px,1fr));grid-template-rows:repeat(2,min-content);height:auto;justify-content:center;max-width:1000px;overflow:hidden;padding:0;position:relative;width:100%}[data-framer-component-type][_ngcontent-%COMP%]{position:absolute}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1o7iind[_ngcontent-%COMP%]{flex:1 0 0px;height:auto;position:relative;white-space:pre-wrap;width:1px;word-break:break-word;word-wrap:break-word}.framer-17VMZ[_ngcontent-%COMP%]   .framer-wb0dvw[_ngcontent-%COMP%], .framer-17VMZ[_ngcontent-%COMP%]   .framer-136627z[_ngcontent-%COMP%], .framer-17VMZ[_ngcontent-%COMP%]   .framer-1wb833e[_ngcontent-%COMP%]{flex:none;height:auto;position:relative;white-space:pre;width:auto}.framer-17VMZ[_ngcontent-%COMP%]   .framer-eca7qj[_ngcontent-%COMP%]{flex:1 0 0px;height:auto;max-width:1000px;position:relative;white-space:pre;width:1px;z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-11thb9q[_ngcontent-%COMP%]{align-content:flex-start;align-items:flex-start;align-self:flex-start;background-color:#f2f2f2;border-bottom-left-radius:60px;border-bottom-right-radius:60px;border-top-left-radius:60px;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:30px;grid-column:auto / span 3;grid-row:auto / span 2;height:100%;justify-self:flex-start;overflow:hidden;padding:60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1vhezkk[_ngcontent-%COMP%]{align-self:flex-start;border-bottom-left-radius:200px;border-top-right-radius:200px;flex:none;grid-column:auto / span 2;grid-row:auto / span 2;height:100%;justify-self:flex-start;mix-blend-mode:luminosity;overflow:hidden;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-pp9yjo[_ngcontent-%COMP%]{align-self:flex-start;border-bottom-right-radius:200px;border-top-left-radius:200px;border-top-right-radius:200px;flex:none;grid-column:auto / span 2;height:100%;justify-self:start;mix-blend-mode:luminosity;overflow:hidden;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-3hlrvk[_ngcontent-%COMP%]{align-content:center;align-items:center;align-self:flex-start;background-color:#f2f2f2;border-radius:200px;display:flex;flex:none;flex-direction:row;flex-wrap:nowrap;gap:10px;grid-column:auto / span 3;height:100%;justify-content:center;justify-self:flex-start;overflow:hidden;padding:20px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1mtveio[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px;border-radius:100%;flex:none;height:375px;left:-400px;overflow:hidden;position:absolute;top:-189px;transform:rotate(-50deg);width:578px;will-change:var(--framer-will-change-override, transform);z-index:0}.framer-17VMZ[_ngcontent-%COMP%]   .framer-smw6up[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px;border-radius:100%;bottom:77px;flex:none;height:305px;overflow:hidden;position:absolute;right:-327px;transform:rotate(65deg);width:578px;will-change:var(--framer-will-change-override, transform);z-index:0}.framer-17VMZ[_ngcontent-%COMP%]   .framer-kljns1[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px;border-radius:100%;bottom:77px;flex:none;height:305px;overflow:hidden;position:absolute;right:-327px;transform:rotate(115deg);width:578px;will-change:var(--framer-will-change-override, transform);z-index:0}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1gvow[_ngcontent-%COMP%]{align-content:center;align-items:center;align-self:center;background-color:#f2f2f2;border-radius:40px;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:0px;grid-column:auto / span 2;height:320px;justify-content:center;justify-self:center;overflow:hidden;padding:60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}.framer-17VMZ[_ngcontent-%COMP%]   .framer-xdm1ys[_ngcontent-%COMP%], .framer-17VMZ[_ngcontent-%COMP%]   .framer-e74uzy[_ngcontent-%COMP%]{align-content:center;align-items:center;align-self:center;background-color:#f2f2f2;border-radius:40px;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:20px;height:320px;justify-content:center;justify-self:center;overflow:hidden;padding:60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}.framer-17VMZ[_ngcontent-%COMP%]   .framer-lywx49[_ngcontent-%COMP%]{align-content:center;align-items:center;align-self:center;background-color:#f2f2f2;border-radius:40px;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:0px;grid-column:auto / span 2;height:320px;justify-content:center;justify-self:center;overflow:hidden;padding:60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}p[_ngcontent-%COMP%]{margin:0}p.framer-text[_ngcontent-%COMP%]{margin:0;padding:0}p.framer-text[_ngcontent-%COMP%]{font-family:var(--framer-font-family, MartianMono, sans-serif);font-style:var(--framer-font-style, normal);font-weight:var(--framer-font-weight, 400);color:var(--framer-text-color, #000);font-size:calc(var(--framer-font-size, 16px) * var(--framer-font-size-scale, 1));letter-spacing:var(--framer-letter-spacing, 0);text-transform:var(--framer-text-transform, none);-webkit-text-decoration:var(--framer-text-decoration, none);text-decoration:var(--framer-text-decoration, none);line-height:var(--framer-line-height, 1.2em);text-align:var(--framer-text-alignment, flex-start)}p.framer-text[_ngcontent-%COMP%]{font-size:36px;margin:0;padding:0}.framer-17VMZ[_ngcontent-%COMP%]   .framer-10b499s[_ngcontent-%COMP%]{background-color:#000;flex:none;height:1px;overflow:hidden;position:relative;width:60px}.framer-17VMZ[_ngcontent-%COMP%]   .framer-12fq5iq[_ngcontent-%COMP%]{flex:none;height:auto;max-width:800px;position:relative;white-space:pre-wrap;width:100%;word-break:break-word;word-wrap:break-word}.framer-17VMZ[_ngcontent-%COMP%]   .framer-uazw45-container[_ngcontent-%COMP%]{aspect-ratio:1 / 1;flex:none;height:var(--framer-aspect-ratio-supported, 80px);position:relative;width:80px}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1etk73u[_ngcontent-%COMP%]{flex:none;height:auto;overflow:visible;position:relative;white-space:pre;width:auto}.framer-17VMZ[_ngcontent-%COMP%]   .framer-dlcxlt[_ngcontent-%COMP%]{flex:none;height:auto;max-width:400px;overflow:visible;position:relative;white-space:pre-wrap;width:100%;word-break:break-word;word-wrap:break-word}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1uy86ve[_ngcontent-%COMP%]{border-radius:200px 40px;flex:1 0 0px;height:1px;overflow:hidden;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1q6krjs[_ngcontent-%COMP%]{aspect-ratio:1 / 1;border-radius:40px 200px 200px;flex:none;height:var(--framer-aspect-ratio-supported, 200px);overflow:hidden;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}.framer-17VMZ[_ngcontent-%COMP%]   .framer-sun0bc[_ngcontent-%COMP%]{flex:none;height:auto;overflow:visible;position:relative;white-space:pre;width:auto}.framer-17VMZ[_ngcontent-%COMP%]   .framer-n2z993[_ngcontent-%COMP%]{flex:none;height:auto;max-width:400px;overflow:visible;position:relative;white-space:pre-wrap;width:100%;word-break:break-word;word-wrap:break-word}h1[_ngcontent-%COMP%]{margin:0}h1.framer-text[_ngcontent-%COMP%]{font-family:var(--framer-font-family, Inter, Inter Placeholder, sans-serif);font-style:var(--framer-font-style, normal);font-weight:var(--framer-font-weight, 400);color:var(--framer-text-color, #000);font-size:calc(var(--framer-font-size, 16px) * var(--framer-font-size-scale, 1));letter-spacing:var(--framer-letter-spacing, 0);text-transform:var(--framer-text-transform, none);-webkit-text-decoration:var(--framer-text-decoration, none);text-decoration:var(--framer-text-decoration, none);line-height:var(--framer-line-height, 1.2em);text-align:var(--framer-text-alignment, flex-start)}h1.framer-text[_ngcontent-%COMP%]{margin:0;padding:0}h2[_ngcontent-%COMP%]{margin:0}h2.framer-text[_ngcontent-%COMP%]{font-family:var(--framer-font-family, Inter, Inter Placeholder, sans-serif);font-style:var(--framer-font-style, normal);font-weight:var(--framer-font-weight, 400);color:var(--framer-text-color, #000);font-size:calc(var(--framer-font-size, 16px) * var(--framer-font-size-scale, 1));letter-spacing:var(--framer-letter-spacing, 0);text-transform:var(--framer-text-transform, none);-webkit-text-decoration:var(--framer-text-decoration, none);text-decoration:var(--framer-text-decoration, none);line-height:var(--framer-line-height, 1.2em);text-align:var(--framer-text-alignment, flex-start)}h2.framer-text[_ngcontent-%COMP%]{margin:0;padding:0}h3[_ngcontent-%COMP%]{margin:0}h3.framer-text[_ngcontent-%COMP%]{font-family:var(--framer-font-family, Inter, Inter Placeholder, sans-serif);font-style:var(--framer-font-style, normal);font-weight:var(--framer-font-weight, 400);color:var(--framer-text-color, #000);font-size:calc(var(--framer-font-size, 16px) * var(--framer-font-size-scale, 1));letter-spacing:var(--framer-letter-spacing, 0);text-transform:var(--framer-text-transform, none);-webkit-text-decoration:var(--framer-text-decoration, none);text-decoration:var(--framer-text-decoration, none);line-height:var(--framer-line-height, 1.2em);text-align:var(--framer-text-alignment, flex-start)}h3.framer-text[_ngcontent-%COMP%]{margin:0;padding:0}#style-S7kbQ.style-S7kbQ[_ngcontent-%COMP%]{min-height:100vh;width:auto}#style-3xcjG.style-3xcjG[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-XoYMm.style-XoYMm[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace;--framer-text-alignment:left}#style-GgNFF.style-GgNFF[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-gCFUU.style-gCFUU[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace}#style-4A8kg.style-4A8kg[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-SaWoJ.style-SaWoJ[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace}#style-EM8Aq.style-EM8Aq[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-PlBz8.style-PlBz8[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace}#style-GXDKo.style-GXDKo[_ngcontent-%COMP%]{overflow:visible;transform-origin:center center}#style-O989f.style-O989f[_ngcontent-%COMP%]{--font-selector:R0Y7VW5ib3VuZGVkLTcwMA==;--framer-font-family: "MartianMono", sans-serif;--framer-font-size:60px;--framer-font-weight:700;--framer-line-height:1.1em;--framer-text-alignment:left;--framer-text-transform:uppercase}#style-jshnF.style-jshnF[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-tFLTC.style-tFLTC[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace;--framer-font-size:20px;--framer-line-height:1.4em;--framer-text-alignment:left}#style-WgjoQ.style-WgjoQ[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;inset:0}#style-e97mo.style-e97mo[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:inherit;object-position:center;object-fit:cover;image-rendering:auto}#style-xjifs.style-xjifs[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;inset:0}#style-qAWA5.style-qAWA5[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:inherit;object-position:center;object-fit:cover;image-rendering:auto}#style-Jj7TO.style-Jj7TO[_ngcontent-%COMP%]{width:100%;height:100%;clip-path:url(#curve-pBaYbXGyr-3njpi4);background:rgb(0,0,0)}#style-Y3led.style-Y3led[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-5Iw2H.style-5Iw2H[_ngcontent-%COMP%]{--font-selector:R0Y7VW5ib3VuZGVkLTcwMA==;--framer-font-family:"MartianMono", sans-serif;--framer-font-size:80px;--framer-font-weight:700;--framer-text-alignment:left}#style-CMm6E.style-CMm6E[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-Ps2xU.style-Ps2xU[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace;--framer-font-size:20px;--framer-letter-spacing:-.025em;--framer-line-height:1.5em;--framer-text-alignment:center;--framer-text-color:rgb(41, 50, 65)}#style-gdzvo.style-gdzvo[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;inset:0}#style-xUGQo.style-xUGQo[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:inherit;object-position:center;object-fit:cover;image-rendering:auto}#style-JY3C8.style-JY3C8[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;inset:0}#style-qjeZY.style-qjeZY[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:inherit;object-position:center;object-fit:cover;image-rendering:auto}#style-Dr8BU.style-Dr8BU[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-Z8CAj.style-Z8CAj[_ngcontent-%COMP%]{--font-selector:R0Y7VW5ib3VuZGVkLTcwMA==;--framer-font-family: "MartianMono", sans-serif;--framer-font-size:25px;--framer-font-weight:700;--framer-text-alignment:left}#style-8hoXX.style-8hoXX[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-UrLUD.style-UrLUD[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace;--framer-font-size:20px;--framer-letter-spacing:-.025em;--framer-line-height:1.5em;--framer-text-alignment:center;--framer-text-color:rgb(41, 50, 65)}']})}return n})();const WN=(0,Ke.U)(n=>!!n);let vv=(()=>{class n{constructor(e,i){this.router=e,this.auth=i,this.canActivate=(r,o)=>{const a=r.data.authGuardPipe||(()=>WN);return this.auth.user.pipe(Ct(1),a(r,o),(0,Ke.U)(d=>"boolean"==typeof d?d:Array.isArray(d)?this.router.createUrlTree(d):this.router.parseUrl(d)))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ir),s.LFG(av))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bv=(()=>{class n{constructor(e,i,r,o){this.http=e,this.authService=i,this.firestore=r,this.snackbar=o}createFirestorageRef(e,i,r,o,a){let d;this.storageRef=e,this.authService.user.pipe(Ct(1)).subscribe(f=>{d=this.storageRef.ref(`subtitles/${f.uid}/${o}/${i}/${a}`),this.uploadToFirestorage(d,r,f.uid,o,i,a)})}uploadToFirestorage(e,i,r,o,a,d){e.put(i).then(()=>{const f=this.firestore.doc(`users/${r}/videos/${o}/subtitleLanguages/${a}/subtitles/${d.split(".")[0]}`);e.getDownloadURL().pipe(Ct(1)).subscribe(m=>{f.update({storageUrl:m,lastUpdated:Date.now()}),this.snackbar.open("Update Complete!","DISMISS",{duration:5e3})})},f=>{this.snackbar.open(f.message)})}createFirestorageRefCommunity(e,i,r,o){let a;this.storageRef=e,this.authService.user.pipe(Ct(1)).subscribe(d=>{a=this.storageRef.ref(`community-subtitles/${r}/${d.uid}/${o.videoId}`),this.uploadToFirestorageCommunitySub(a,i,d,r,o)})}uploadToFirestorageCommunitySub(e,i,r,o,a){e.put(i).then(()=>{const d=this.firestore.doc(`users/${a.requestedByID}/notifications/${o}/subtitles/${r.uid}`);e.getDownloadURL().pipe(Ct(1)).subscribe(f=>{d.set({requestId:o,storageUrl:f,created:Date.now(),createdBy:r.displayName}),this.snackbar.open("Update Complete!","DISMISS",{duration:5e3})})},d=>{this.snackbar.open(d.message)})}getSubtitleURL(e,i,r){return this.authService.user.pipe(Ct(1),_n(o=>this.firestore.doc(`users/${o.uid}/videos/${e}/subtitleLanguages/${i}/subtitles/${r.split(".")[0]}`).get()),(0,Ke.U)(o=>o.get("storageUrl")))}fetchSubtitleFile(e){return this.http.get(e,{responseType:"text"})}getCommunityRequestDetails(e){return this.firestore.doc(`helpRequests/${e}`).get().pipe((0,Ke.U)(i=>i.data()))}static#e=this.\u0275fac=function(i){return new(i||n)(s.LFG(Ag),s.LFG(ap),s.LFG(Ox),s.LFG(rI))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();const bz="firebasestorage.googleapis.com",wz="storageBucket";class sr extends H.ZR{constructor(t,e,i=0){super(KN(t),`Firebase Storage: ${e} (${KN(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return KN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var wi=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(wi||(wi={})),wi))();function KN(n){return"storage/"+n}function QN(){return new sr(wi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function xz(){return new sr(wi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cz(){return new sr(wi.CANCELED,"User canceled the upload/download.")}function Ez(){return new sr(wi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wv(n){return new sr(wi.INVALID_ARGUMENT,n)}function Dz(){return new sr(wi.APP_DELETED,"The Firebase app was deleted.")}function Sz(n){return new sr(wi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jx(n,t){return new sr(wi.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function zx(n){throw new sr(wi.INTERNAL_ERROR,"Internal error: "+n)}class to{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=to.makeFromUrl(t,e)}catch{return new to(t,"")}if(""===i.path)return i;throw function Qee(n){return new sr(wi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function m(Ye){Ye.path_=decodeURIComponent(Ye.path)}const D=e.replace(/[.]/g,"\\."),Le=[{regex:d,indices:{bucket:1,path:3},postModify:function o(Ye){"/"===Ye.path.charAt(Ye.path.length-1)&&(Ye.path_=Ye.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:m},{regex:new RegExp(`^https?://${e===bz?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:m}];for(let Ye=0;Ye<Le.length;Ye++){const It=Le[Ye],Lt=It.regex.exec(t);if(Lt){let Li=Lt[It.indices.path];Li||(Li=""),i=new to(Lt[It.indices.bucket],Li),It.postModify(i);break}}if(null==i)throw function Kee(n){return new sr(wi.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class nte{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function uI(n){return"string"==typeof n||n instanceof String}function Tz(n){return JN()&&n instanceof Blob}function JN(){return typeof Blob<"u"&&!(0,H.UG)()}function XN(n,t,e,i){if(i<t)throw wv(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw wv(`Invalid value for '${n}'. Expected ${e} or less.`)}function nh(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function Az(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var up=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(up||(up={})),up))();function Iz(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}class lte{constructor(t,e,i,r,o,a,d,f,m,v,D,A=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=D,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,B)=>{this.resolve_=R,this.reject_=B,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,a=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function ste(n){return void 0!==n}(f)?o():o(f)}catch(f){a(f)}else if(null!==d){const f=QN();f.serverResponse=d.getErrorText(),a(this.errorCallback_?this.errorCallback_(d,f):f)}else a(r.canceled?this.appDelete_?Dz():Cz():xz())};this.canceled_?e(0,new dI(!1,null,!0)):this.backoffId_=function ite(n,t,e){let i=1,r=null,o=null,a=!1,d=0;function f(){return 2===d}let m=!1;function v(...W){m||(m=!0,t.apply(null,W))}function D(W){r=setTimeout(()=>{r=null,n(R,f())},W)}function A(){o&&clearTimeout(o)}function R(W,...ce){if(m)return void A();if(W)return A(),void v.call(null,W,...ce);if(f()||a)return A(),void v.call(null,W,...ce);let Le;i<64&&(i*=2),1===d?(d=2,Le=0):Le=1e3*(i+Math.random()),D(Le)}let B=!1;function q(W){B||(B=!0,A(),!m&&(null!==r?(W||(d=2),clearTimeout(r),D(0)):W||(d=1)))}return D(0),o=setTimeout(()=>{a=!0,q(!0)},e),q}((i,r)=>{if(r)return void i(!1,new dI(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const a=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const d=o.getErrorCode()===up.NO_ERROR,f=o.getStatus();if(!d||Iz(f,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===up.ABORT;return void i(!1,new dI(!1,null,v))}const m=-1!==this.successCodes_.indexOf(f);i(!0,new dI(m,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function rte(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class dI{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function mte(...n){const t=function pte(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(JN())return new Blob(n);throw new sr(wi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Na={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class eL{constructor(t,e){this.data=t,this.contentType=e||null}}function tL(n,t){switch(n){case Na.RAW:return new eL(Mz(t));case Na.BASE64:case Na.BASE64URL:return new eL(kz(n,t));case Na.DATA_URL:return new eL(function vte(n){const t=new Rz(n);return t.base64?kz(Na.BASE64,t.rest):function yte(n){let t;try{t=decodeURIComponent(n)}catch{throw jx(Na.DATA_URL,"Malformed data URL.")}return Mz(t)}(t.rest)}(t),function bte(n){return new Rz(n).contentType}(t))}throw QN()}function Mz(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function kz(n,t){switch(n){case Na.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw jx(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Na.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw jx(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function _te(n){if(typeof atob>"u")throw function tte(n){return new sr(wi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:jx(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class Rz{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw jx(Na.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function wte(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class ku{constructor(t,e){let i=0,r="";Tz(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Tz(this.data_)){const r=function gte(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new ku(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new ku(i,!0)}}static getBlob(...t){if(JN()){const e=t.map(i=>i instanceof ku?i.data_:i);return new ku(mte.apply(null,e))}{const e=t.map(a=>uI(a)?tL(Na.RAW,a).data:a.data_);let i=0;e.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(a=>{for(let d=0;d<a.length;d++)r[o++]=a[d]}),new ku(r,!0)}}uploadData(){return this.data_}}function nL(n){let t;try{t=JSON.parse(n)}catch{return null}return function ate(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Oz(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Ete(n,t){return t}class Eo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Ete}}let hI=null;function qx(){if(hI)return hI;const n=[];n.push(new Eo("bucket")),n.push(new Eo("generation")),n.push(new Eo("metageneration")),n.push(new Eo("name","fullPath",!0));const e=new Eo("name");e.xform=function t(o,a){return function Dte(n){return!uI(n)||n.length<2?n:Oz(n)}(a)},n.push(e);const r=new Eo("size");return r.xform=function i(o,a){return void 0!==a?Number(a):a},n.push(r),n.push(new Eo("timeCreated")),n.push(new Eo("updated")),n.push(new Eo("md5Hash",null,!0)),n.push(new Eo("cacheControl",null,!0)),n.push(new Eo("contentDisposition",null,!0)),n.push(new Eo("contentEncoding",null,!0)),n.push(new Eo("contentLanguage",null,!0)),n.push(new Eo("contentType",null,!0)),n.push(new Eo("metadata","customMetadata",!0)),hI=n,hI}function Pz(n,t,e){const i=nL(t);return null===i?null:function Tte(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const a=e[o];i[a.local]=a.xform(i,t[a.server])}return function Ste(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new to(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function iL(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const Fz="prefixes",Nz="items";class Ru{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ou(n){if(!n)throw QN()}function fI(n,t){return function e(i,r){const o=Pz(n,r,t);return Ou(null!==o),o}}function xv(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Zee(){return new sr(wi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Yee(){return new sr(wi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function $ee(n){return new sr(wi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function Wee(n){return new sr(wi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function $x(n){const t=xv(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function qee(n){return new sr(wi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function Lz(n,t,e){const r=nh(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,d=new Ru(r,"GET",fI(n,e),a);return d.errorHandler=$x(t),d}function Ote(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const d=nh(t.bucketOnlyServerUrl(),n.host,n._protocol),m=n.maxOperationRetryTime,v=new Ru(d,"GET",function kte(n,t){return function e(i,r){const o=function Mte(n,t,e){const i=nL(e);return null===i?null:function Ite(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[Fz])for(const r of e[Fz]){const o=r.replace(/\/$/,""),a=n._makeStorageReference(new to(t,o));i.prefixes.push(a)}if(e[Nz])for(const r of e[Nz]){const o=n._makeStorageReference(new to(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return Ou(null!==o),o}}(n,t.bucket),m);return v.urlParams=o,v.errorHandler=xv(t),v}function Vz(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function Lte(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class pI{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function rL(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Ou(!1)}return Ou(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Hte={STATE_CHANGED:"state_changed"},Do={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sL(n){switch(n){case"running":case"pausing":case"canceling":return Do.RUNNING;case"paused":return Do.PAUSED;case"success":return Do.SUCCESS;case"canceled":return Do.CANCELED;default:return Do.ERROR}}class Gte{constructor(t,e,i){if(function ote(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Cv(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let Gz=null;class jte{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=up.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=up.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=up.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw zx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zx("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zx("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zx("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zx("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class zte extends jte{initXhr(){this.xhr_.responseType="text"}}function yc(){return Gz?Gz():new zte}class jz{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=qx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(wi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(Iz(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=xz()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(wi.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function Bte(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),a=Vz(t,i,r),d={name:a.fullPath},f=nh(o,n.host,n._protocol),v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},D=iL(a,e),B=new Ru(f,"POST",function R(q){let W;rL(q);try{W=q.getResponseHeader("X-Goog-Upload-URL")}catch{Ou(!1)}return Ou(uI(W)),W},n.maxUploadRetryTime);return B.urlParams=d,B.headers=v,B.body=D,B.errorHandler=xv(t),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,yc,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Vte(n,t,e,i){const f=new Ru(e,"POST",function o(m){const v=rL(m,["active","final"]);let D=null;try{D=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ou(!1)}D||Ou(!1);const A=Number(D);return Ou(!isNaN(A)),new pI(A,i.size(),"final"===v)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=xv(t),f}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,yc,e,i);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new pI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let a;try{a=function Ute(n,t,e,i,r,o,a,d){const f=new pI(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function Xee(){return new sr(wi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const m=f.total-f.current;let v=m;r>0&&(v=Math.min(v,r));const D=f.current;let R="";R=0===v?"finalize":m===v?"upload, finalize":"upload";const B={"X-Goog-Upload-Command":R,"X-Goog-Upload-Offset":`${f.current}`},q=i.slice(D,D+v);if(null===q)throw Ez();const Le=new Ru(e,"POST",function W(Ye,It){const Lt=rL(Ye,["active","final"]),xn=f.current+v,Li=i.size();let Es;return Es="final"===Lt?fI(t,o)(Ye,It):null,new pI(xn,Li,"final"===Lt,Es)},t.maxUploadRetryTime);return Le.headers=B,Le.body=q.uploadData(),Le.progressCallback=d||null,Le.errorHandler=xv(n),Le}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(a,yc,r,o,!1);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=Lz(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,yc,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function Uz(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let Le="";for(let Ye=0;Ye<2;Ye++)Le+=Math.random().toString().slice(2);return Le}();a["Content-Type"]="multipart/related; boundary="+f;const m=Vz(t,i,r),v=iL(m,e),R=ku.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+v+"\r\n--"+f+"\r\nContent-Type: "+m.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===R)throw Ez();const B={name:m.fullPath},q=nh(o,n.host,n._protocol),ce=n.maxUploadRetryTime,Re=new Ru(q,"POST",fI(n,e),ce);return Re.urlParams=B,Re.headers=a,Re.body=R.uploadData(),Re.errorHandler=xv(t),Re}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,yc,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=Cz(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=sL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new Gte(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(sL(this._state)){case Do.SUCCESS:Cv(this._resolve.bind(null,this.snapshot))();break;case Do.CANCELED:case Do.ERROR:Cv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(sL(this._state)){case Do.RUNNING:case Do.PAUSED:t.next&&Cv(t.next.bind(t,this.snapshot))();break;case Do.SUCCESS:t.complete&&Cv(t.complete.bind(t))();break;default:t.error&&Cv(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Mg{constructor(t,e){this._service=t,this._location=e instanceof to?e:to.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Mg(t,e)}get root(){const t=new to(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Oz(this._location.path)}get storage(){return this._service}get parent(){const t=function xte(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new to(this._location.bucket,t);return new Mg(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw Sz(t)}}function qz(n,t,e){return oL.apply(this,arguments)}function oL(){return oL=(0,be.Z)(function*(n,t,e){const r=yield $z(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield qz(n,t,r.nextPageToken))}),oL.apply(this,arguments)}function $z(n,t){null!=t&&"number"==typeof t.maxResults&&XN("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Ote(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,yc)}function nne(n){n._throwIfRoot("getDownloadURL");const t=function Pte(n,t,e){const r=nh(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,d=new Ru(r,"GET",function Rte(n,t){return function e(i,r){const o=Pz(n,r,t);return Ou(null!==o),function Ate(n,t,e,i){const r=nL(t);if(null===r||!uI(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const a=encodeURIComponent;return o.split(",").map(m=>{const D=n.fullPath;return nh("/b/"+a(n.bucket)+"/o/"+a(D),e,i)+Az({alt:"media",token:m})})[0]}(o,r,n.host,n._protocol)}}(n,e),a);return d.errorHandler=$x(t),d}(n.storage,n._location,qx());return n.storage.makeRequestWithTokens(t,yc).then(e=>{if(null===e)throw function ete(){return new sr(wi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function Yz(n,t){const e=function Cte(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new to(n._location.bucket,e);return new Mg(n.storage,i)}function Zz(n,t){if(n instanceof aL){const e=n;if(null==e._bucket)throw function Jee(){return new sr(wi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wz+"' property when initializing the app?")}();const i=new Mg(e,e._bucket);return null!=t?Zz(i,t):i}return void 0!==t?Yz(n,t):n}function one(n,t){if(t&&function rne(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof aL)return function sne(n,t){return new Mg(n,t)}(n,t);throw wv("To use ref(service, url), the first argument must be a Storage instance.")}return Zz(n,t)}function Wz(n,t){const e=t?.[wz];return null==e?null:to.makeFromBucketSpec(e,n)}class aL{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=bz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?to.makeFromBucketSpec(r,this._host):Wz(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?to.makeFromBucketSpec(this._url,t):Wz(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){XN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){XN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,be.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,be.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Mg(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new nte(Dz());{const a=function fte(n,t,e,i,r,o,a=!0){const d=Az(n.urlParams),f=n.url+d,m=Object.assign({},n.headers);return function dte(n,t){t&&(n["X-Firebase-GMPID"]=t)}(m,t),function cte(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(m,e),function ute(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(m,o),function hte(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(m,i),new lte(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,a)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(t,e){var i=this;return(0,be.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const Kz="@firebase/storage";function Xz(n,t){return one(n=(0,H.m9)(n),t)}function gne(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new aL(e,i,r,t,ys.SDK_VERSION)}!function _ne(){(0,ys._registerComponent)(new Jo.wA("storage",gne,"PUBLIC").setMultipleInstances(!0)),(0,ys.registerVersion)(Kz,"0.11.2",""),(0,ys.registerVersion)(Kz,"0.11.2","esm2017")}();class mI{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class t4{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new mI(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new mI(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?a=>e(new mI(a,this,this._ref)):{next:e.next?a=>e.next(new mI(a,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class n4{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new ih(t,this._service))}get items(){return this._delegate.items.map(t=>new ih(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ih{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function mne(n,t){return Yz(n,t)}(this._delegate,t);return new ih(e,this.storage)}get root(){return new ih(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new ih(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new t4(function lne(n,t,e){return function Qte(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new jz(n,new ku(t),e)}(n=(0,H.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Na.RAW,i){this._throwIfRoot("putString");const r=tL(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new t4(new jz(this._delegate,new ku(r.data,!0),o),this)}listAll(){return function hne(n){return function Xte(n){const t={prefixes:[],items:[]};return qz(n,t).then(()=>t)}(n=(0,H.m9)(n))}(this._delegate).then(t=>new n4(t,this.storage))}list(t){return function dne(n,t){return $z(n=(0,H.m9)(n),t)}(this._delegate,t||void 0).then(e=>new n4(e,this.storage))}getMetadata(){return function cne(n){return function ene(n){n._throwIfRoot("getMetadata");const t=Lz(n.storage,n._location,qx());return n.storage.makeRequestWithTokens(t,yc)}(n=(0,H.m9)(n))}(this._delegate)}updateMetadata(t){return function une(n,t){return function tne(n,t){n._throwIfRoot("updateMetadata");const e=function Fte(n,t,e,i){const o=nh(t.fullServerUrl(),n.host,n._protocol),d=iL(e,i),m=n.maxOperationRetryTime,v=new Ru(o,"PATCH",fI(n,i),m);return v.headers={"Content-Type":"application/json; charset=utf-8"},v.body=d,v.errorHandler=$x(t),v}(n.storage,n._location,t,qx());return n.storage.makeRequestWithTokens(e,yc)}(n=(0,H.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function fne(n){return nne(n=(0,H.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function pne(n){return function ine(n){n._throwIfRoot("deleteObject");const t=function Nte(n,t){const i=nh(t.fullServerUrl(),n.host,n._protocol),d=new Ru(i,"DELETE",function a(f,m){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=$x(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,yc)}(n=(0,H.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw Sz(t)}}class i4{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(r4(t))throw wv("ref() expected a child path but got a URL, use refFromURL instead.");return new ih(Xz(this._delegate,t),this)}refFromURL(t){if(!r4(t))throw wv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{to.makeFromUrl(t,this._delegate.host)}catch{throw wv("refFromUrl() expected a valid full URL but got an invalid one.")}return new ih(Xz(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function e4(n,t,e,i={}){!function ane(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,H.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function r4(n){return/^[A-Za-z]+:\/\//.test(n)}function wne(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new i4(e,i)}function s4(n){const t=function Cne(n){return new pn.y(t=>{const e=a=>t.next(a);e(n.snapshot);const o=n.on("state_changed",e);return n.then(a=>{e(a),t.complete()},a=>{e(n.snapshot),(a=>{t.error(a)})(a)}),function(){o()}}).pipe(Ql(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Ke.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function gI(n){return{getDownloadURL:()=>j(void 0).pipe(Mn.fc,_n(()=>n.getDownloadURL()),Mn.iC),getMetadata:()=>j(void 0).pipe(Mn.fc,_n(()=>n.getMetadata()),Mn.iC),delete:()=>(0,U.D)(n.delete()),child:t=>gI(n.child(t)),updateMetadata:t=>(0,U.D)(n.updateMetadata(t)),put:(t,e)=>s4(n.put(t,e)),putString:(t,e,i)=>s4(n.putString(t,e,i)),list:t=>(0,U.D)(n.list(t)),listAll:()=>(0,U.D)(n.listAll())}}!function xne(n){const t={TaskState:Do,TaskEvent:Hte,StringFormat:Na,Storage:i4,Reference:ih};n.INTERNAL.registerComponent(new Jo.wA("storage-compat",wne,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(vy.Z);const Ene=new s.OlP("angularfire2.storageBucket"),Dne=new s.OlP("angularfire2.storage.maxUploadRetryTime"),Sne=new s.OlP("angularfire2.storage.maxOperationRetryTime"),Tne=new s.OlP("angularfire2.storage.use-emulator");let lL=(()=>{class n{constructor(e,i,r,o,a,d,f,m,v,D){const A=(0,jr.on)(e,a,i);this.storage=(0,jr.cc)(`${A.name}.storage.${r}`,"AngularFireStorage",A.name,()=>{const R=a.runOutsideAngular(()=>A.storage(r||void 0)),B=v;return B&&R.useEmulator(...B),f&&R.setMaxUploadRetryTime(f),m&&R.setMaxOperationRetryTime(m),R},[f,m])}ref(e){return gI(this.storage.ref(e))}refFromURL(e){return gI(this.storage.refFromURL(e))}upload(e,i,r){return gI(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jr.Dh),s.LFG(jr.xv,8),s.LFG(Ene,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Mn.HU),s.LFG(Dne,8),s.LFG(Sne,8),s.LFG(Tne,8),s.LFG(Rx,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ane=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Ine=(()=>{class n{constructor(){jA.Z.registerVersion("angularfire",Mn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[lL],imports:[Ane]}),n})(),o4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-unsaved-changes-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(i,r){1&i&&(s.TgZ(0,"h2",0),s._uU(1,"You have unsaved changes!"),s.qZA(),s.TgZ(2,"mat-dialog-content",1)(3,"h3"),s._uU(4,"Before you leave this page, make sure you have saved your changes to not lose your progress."),s.qZA()(),s.TgZ(5,"mat-dialog-actions",2)(6,"button",3),s._uU(7,"Cancel"),s.qZA(),s.TgZ(8,"button",4),s._uU(9,"Go to Details"),s.qZA()()),2&i&&(s.xp6(6),s.Q6J("mat-dialog-close",!1),s.xp6(2),s.Q6J("mat-dialog-close",!0))},dependencies:[bl,Eg,Dg,Sg,Tg]})}return n})();function Mne(n,t){1&n&&s._UZ(0,"fullscreen-loader")}const kne=function(){return{rel:0,fs:0}};let a4=(()=>{class n{constructor(e){this.youtube=e,this.apiLoaded=!1,this.playerReady=!1}ngOnInit(){if(!this.apiLoaded){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),this.apiLoaded=!0}}playerLoaded(e){this.playerReady=!0,this.youtube.playerRefSetter(e.target)}handleState(e){1===e.data?this.youtube.startTimeTracking():2===e.data&&this.youtube.stopTimeTracking()}ngOnDestroy(){this.youtube.stopTimeTracking(),this.youtube.updateCurrentCaption(null)}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(yv))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["video-player"]],inputs:{captionsPreview:"captionsPreview",videoId:"videoId"},decls:6,vars:5,consts:[[1,"card"],[1,"card-content"],[3,"videoId","playerVars","ready","stateChange"],[1,"captions-preview-emulation"],[4,"ngIf"]],template:function(i,r){1&i&&(s.TgZ(0,"mat-card",0)(1,"mat-card-content",1)(2,"youtube-player",2),s.NdJ("ready",function(a){return r.playerLoaded(a)})("stateChange",function(a){return r.handleState(a)}),s.qZA(),s.TgZ(3,"span",3),s._uU(4),s.qZA()()(),s.YNc(5,Mne,1,0,"fullscreen-loader",4)),2&i&&(s.xp6(2),s.Q6J("videoId",r.videoId)("playerVars",s.DdM(4,kne)),s.xp6(2),s.Oqu(r.captionsPreview),s.xp6(1),s.Q6J("ngIf",!r.playerReady))},dependencies:[ci,qN,Hx,Gx,ZN],styles:[".card-content[_ngcontent-%COMP%]{height:66vh}.captions-preview-emulation[_ngcontent-%COMP%]{position:absolute;bottom:100px;display:flex;width:95%;color:#fff;font-size:18px;justify-content:center;padding:10px;background-color:transparent}  youtube-player iframe{height:100%;width:100%}"]})}return n})(),_I=(()=>{class n{constructor(e){this.http=e}translate(e){return this.http.post("https://translation.googleapis.com/language/translate/v2?key="+XA,e)}getSupportedLanguages(){return this.http.get(`https://translation.googleapis.com/language/translate/v2/languages?target=en&key=${XA}`)}static#e=this.\u0275fac=function(i){return new(i||n)(s.LFG(Ag))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})(),l4=(()=>{class n{constructor(){}cleanMultilineString(e){const i=e.trim().replace(/(\r|\r)/gm,"").split("\n"),r=[];let o={start_time:"",end_time:"",subtitleText:""};for(let a=0;a<i.length;a++){const d=i[a].trim();if(d.match(/^(\d{1,2}:\d{2}:\d{2}\.\d{3}),(\d{1,2}:\d{2}:\d{2}\.\d{3})$/)){const[m,v]=d.split(",");o={start_time:this.formatTimestamp(m),end_time:this.formatTimestamp(v),subtitleText:""},r.push(o)}else""!==d&&(o.subtitleText+=d+" ")}return r}youtubeTranscriptParse(e){const i=[],r=e.trim().replace(/(\r|\r)/gm,"").split("\n");let o={start_time:"",end_time:"",subtitleText:""};for(const a of r){const d=a.match(/^(\d+:\d+)\s*(.*)/);if(d){const[,f,m]=d;o.start_time&&(o.end_time="0"+f.trim()+".000",i.push(o)),o={start_time:"0"+f+".000",end_time:"",subtitleText:""}}else o.subtitleText+=a.trim()+" "}return o.start_time&&(o.end_time=o.end_time.trim()?o.end_time.trim():"0"+o.start_time+".000",i.push(o)),i}formatTimestamp(e){const i=e.split(":");return i.shift(),i.join(":")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();function rh(n){const t=n?.split(":"),[e,i]=t[1]?.split(".");return{hour:Math.floor(parseInt(t[0],10)/60),minute:parseInt(t[0],10),seconds:parseInt(e,10),ms:parseInt(i,10)}}function So(n){return 60*n.hour*60+60*n.minute+n.seconds+n.ms/1e3}const Rne=["dialogPopup"],One=["hueSlider"],Pne=["alphaSlider"];function Fne(n,t){if(1&n&&s._UZ(0,"div"),2&n){const e=s.oxw();s.Gre("arrow arrow-",e.cpUsePosition,""),s.Udp("left",e.cpArrowPosition)("top",e.arrowTop,"px")}}function Nne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",28),s.NdJ("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onColorChange(r))})("dragStart",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDragStart("saturation-lightness"))})("dragEnd",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDragEnd("saturation-lightness"))}),s._UZ(1,"div",14),s.qZA()}if(2&n){const e=s.oxw();s.Udp("background-color",e.hueSliderColor),s.Q6J("rgX",1)("rgY",1),s.xp6(1),s.Udp("top",null==e.slider?null:e.slider.v,"px")("left",null==e.slider?null:e.slider.s,"px")}}function Lne(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",29),s._UZ(1,"path",30)(2,"path",31),s.qZA())}function Bne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",32),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAddPresetColor(r,o.selectedColor))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.cpAddColorButtonClass),s.Q6J("disabled",e.cpPresetColors&&e.cpPresetColors.length>=e.cpMaxPresetColorsLength),s.xp6(1),s.hij(" ",e.cpAddColorButtonText," ")}}function Vne(n,t){1&n&&s._UZ(0,"div",33)}function Une(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",39),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAlphaInput(r))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("rg",1)("value",null==e.cmykText?null:e.cmykText.a)}}function Hne(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"A"),s.qZA())}function Gne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",34)(1,"div",35)(2,"input",36),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onCyanInput(r))}),s.qZA(),s.TgZ(3,"input",36),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onMagentaInput(r))}),s.qZA(),s.TgZ(4,"input",36),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onYellowInput(r))}),s.qZA(),s.TgZ(5,"input",36),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onBlackInput(r))}),s.qZA(),s.YNc(6,Une,1,2,"input",37),s.qZA(),s.TgZ(7,"div",35)(8,"div"),s._uU(9,"C"),s.qZA(),s.TgZ(10,"div"),s._uU(11,"M"),s.qZA(),s.TgZ(12,"div"),s._uU(13,"Y"),s.qZA(),s.TgZ(14,"div"),s._uU(15,"K"),s.qZA(),s.YNc(16,Hne,2,0,"div",38),s.qZA()()}if(2&n){const e=s.oxw();s.Udp("display",3!==e.format?"none":"block"),s.xp6(2),s.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.c),s.xp6(1),s.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.m),s.xp6(1),s.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.y),s.xp6(1),s.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.k),s.xp6(1),s.Q6J("ngIf","disabled"!==e.cpAlphaChannel),s.xp6(10),s.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function jne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",39),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAlphaInput(r))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function zne(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"A"),s.qZA())}function qne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",40)(1,"div",35)(2,"input",41),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onHueInput(r))}),s.qZA(),s.TgZ(3,"input",36),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onSaturationInput(r))}),s.qZA(),s.TgZ(4,"input",36),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onLightnessInput(r))}),s.qZA(),s.YNc(5,jne,1,2,"input",37),s.qZA(),s.TgZ(6,"div",35)(7,"div"),s._uU(8,"H"),s.qZA(),s.TgZ(9,"div"),s._uU(10,"S"),s.qZA(),s.TgZ(11,"div"),s._uU(12,"L"),s.qZA(),s.YNc(13,zne,2,0,"div",38),s.qZA()()}if(2&n){const e=s.oxw();s.Udp("display",2!==e.format?"none":"block"),s.xp6(2),s.Q6J("rg",360)("value",null==e.hslaText?null:e.hslaText.h),s.xp6(1),s.Q6J("rg",100)("value",null==e.hslaText?null:e.hslaText.s),s.xp6(1),s.Q6J("rg",100)("value",null==e.hslaText?null:e.hslaText.l),s.xp6(1),s.Q6J("ngIf","disabled"!==e.cpAlphaChannel),s.xp6(8),s.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function $ne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",39),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAlphaInput(r))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("rg",1)("value",null==e.rgbaText?null:e.rgbaText.a)}}function Yne(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"A"),s.qZA())}function Zne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",42)(1,"div",35)(2,"input",43),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onRedInput(r))}),s.qZA(),s.TgZ(3,"input",43),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onGreenInput(r))}),s.qZA(),s.TgZ(4,"input",43),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onBlueInput(r))}),s.qZA(),s.YNc(5,$ne,1,2,"input",37),s.qZA(),s.TgZ(6,"div",35)(7,"div"),s._uU(8,"R"),s.qZA(),s.TgZ(9,"div"),s._uU(10,"G"),s.qZA(),s.TgZ(11,"div"),s._uU(12,"B"),s.qZA(),s.YNc(13,Yne,2,0,"div",38),s.qZA()()}if(2&n){const e=s.oxw();s.Udp("display",1!==e.format?"none":"block"),s.xp6(2),s.Q6J("rg",255)("value",null==e.rgbaText?null:e.rgbaText.r),s.xp6(1),s.Q6J("rg",255)("value",null==e.rgbaText?null:e.rgbaText.g),s.xp6(1),s.Q6J("rg",255)("value",null==e.rgbaText?null:e.rgbaText.b),s.xp6(1),s.Q6J("ngIf","disabled"!==e.cpAlphaChannel),s.xp6(8),s.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function Wne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",39),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAlphaInput(r))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("rg",1)("value",e.hexAlpha)}}function Kne(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"A"),s.qZA())}function Qne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",44)(1,"div",35)(2,"input",45),s.NdJ("blur",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onHexInput(null))})("keyup.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onHexInput(r))}),s.qZA(),s.YNc(3,Wne,1,2,"input",37),s.qZA(),s.TgZ(4,"div",35)(5,"div"),s._uU(6,"Hex"),s.qZA(),s.YNc(7,Kne,2,0,"div",38),s.qZA()()}if(2&n){const e=s.oxw();s.Udp("display",0!==e.format?"none":"block"),s.ekj("hex-alpha","forced"===e.cpAlphaChannel),s.xp6(2),s.Q6J("value",e.hexText),s.xp6(1),s.Q6J("ngIf","forced"===e.cpAlphaChannel),s.xp6(4),s.Q6J("ngIf","forced"===e.cpAlphaChannel)}}function Jne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",39),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAlphaInput(r))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function Xne(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",46)(1,"div",35)(2,"input",36),s.NdJ("keyup.enter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onAcceptColor(r))})("newValue",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onValueInput(r))}),s.qZA(),s.YNc(3,Jne,1,2,"input",37),s.qZA(),s.TgZ(4,"div",35)(5,"div"),s._uU(6,"V"),s.qZA(),s.TgZ(7,"div"),s._uU(8,"A"),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(2),s.Q6J("rg",100)("value",null==e.hslaText?null:e.hslaText.l),s.xp6(1),s.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function eie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",47)(1,"span",48),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onFormatToggle(-1))}),s.qZA(),s.TgZ(2,"span",48),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onFormatToggle(1))}),s.qZA()()}}function tie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",55),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw().$implicit,a=s.oxw(3);return s.KtG(a.onRemovePresetColor(r,o))}),s.qZA()}if(2&n){const e=s.oxw(4);s.Tol(e.cpRemoveColorButtonClass)}}function nie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(3);return s.KtG(a.setColorFromString(o))}),s.YNc(1,tie,1,3,"span",54),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Udp("background-color",e),s.xp6(1),s.Q6J("ngIf",i.cpAddColorButton)}}function iie(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,nie,2,3,"div",52),s.qZA()),2&n){const e=s.oxw(2);s.Tol(e.cpPresetColorsClass),s.xp6(1),s.Q6J("ngForOf",e.cpPresetColors)}}function rie(n,t){if(1&n&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Tol(e.cpPresetEmptyMessageClass),s.xp6(1),s.Oqu(e.cpPresetEmptyMessage)}}function sie(n,t){if(1&n&&(s.TgZ(0,"div",49),s._UZ(1,"hr"),s.TgZ(2,"div",50),s._uU(3),s.qZA(),s.YNc(4,iie,2,4,"div",51),s.YNc(5,rie,2,4,"div",51),s.qZA()),2&n){const e=s.oxw();s.xp6(3),s.Oqu(e.cpPresetLabel),s.xp6(1),s.Q6J("ngIf",null==e.cpPresetColors?null:e.cpPresetColors.length),s.xp6(1),s.Q6J("ngIf",!(null!=e.cpPresetColors&&e.cpPresetColors.length)&&e.cpAddColorButton)}}function oie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",58),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onCancelColor(r))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.cpCancelButtonClass),s.xp6(1),s.Oqu(e.cpCancelButtonText)}}function aie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",58),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onAcceptColor(r))}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.cpOKButtonClass),s.xp6(1),s.Oqu(e.cpOKButtonText)}}function lie(n,t){if(1&n&&(s.TgZ(0,"div",56),s.YNc(1,oie,2,4,"button",57),s.YNc(2,aie,2,4,"button",57),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.cpCancelButton),s.xp6(1),s.Q6J("ngIf",e.cpOKButton)}}function cie(n,t){1&n&&s.GkF(0)}function uie(n,t){if(1&n&&(s.TgZ(0,"div",59),s.YNc(1,cie,1,0,"ng-container",60),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.cpExtraTemplate)}}var Us=(()=>(function(n){n[n.HEX=0]="HEX",n[n.RGBA=1]="RGBA",n[n.HSLA=2]="HSLA",n[n.CMYK=3]="CMYK"}(Us||(Us={})),Us))();class sh{constructor(t,e,i,r){this.r=t,this.g=e,this.b=i,this.a=r}}class yI{constructor(t,e,i,r){this.h=t,this.s=e,this.v=i,this.a=r}}class kg{constructor(t,e,i,r){this.h=t,this.s=e,this.l=i,this.a=r}}class Yx{constructor(t,e,i,r,o=1){this.c=t,this.m=e,this.y=i,this.k=r,this.a=o}}let fie=(()=>{class n{constructor(){this.newValue=new s.vpe}inputChange(e){const i=e.target.value;if(void 0===this.rg)this.newValue.emit(i);else{const r=parseFloat(i);this.newValue.emit({v:r,rg:this.rg})}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","text",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.inputChange(o)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),n})(),pie=(()=>{class n{constructor(e){this.elRef=e,this.dragEnd=new s.vpe,this.dragStart=new s.vpe,this.newValue=new s.vpe,this.listenerMove=i=>this.move(i),this.listenerStop=()=>this.stop()}mouseDown(e){this.start(e)}touchStart(e){this.start(e)}move(e){e.preventDefault(),this.setCursor(e)}start(e){this.setCursor(e),e.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(e){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageX?e.pageX:e.touches[0].pageX)-i.left-window.pageXOffset}getY(e){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageY?e.pageY:e.touches[0].pageY)-i.top-window.pageYOffset}setCursor(e){const i=this.elRef.nativeElement.offsetWidth,r=this.elRef.nativeElement.offsetHeight,o=Math.max(0,Math.min(this.getX(e),i)),a=Math.max(0,Math.min(this.getY(e),r));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:o/i,v:1-a/r,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:a/r,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:o/i,rgX:this.rgX})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","slider",""]],hostBindings:function(e,i){1&e&&s.NdJ("mousedown",function(o){return i.mouseDown(o)})("touchstart",function(o){return i.touchStart(o)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),n})();class c4{constructor(t,e,i,r){this.h=t,this.s=e,this.v=i,this.a=r}}class u4{constructor(t,e,i,r){this.h=t,this.s=e,this.v=i,this.a=r}}let cL=(()=>{class n{constructor(){this.active=null}setActive(e){this.active&&this.active!==e&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=e}hsva2hsla(e){const i=e.h,r=e.s,o=e.v,a=e.a;if(0===o)return new kg(i,0,0,a);if(0===r&&1===o)return new kg(i,1,1,a);{const d=o*(2-r)/2;return new kg(i,o*r/(1-Math.abs(2*d-1)),d,a)}}hsla2hsva(e){const i=Math.min(e.h,1),r=Math.min(e.s,1),o=Math.min(e.l,1),a=Math.min(e.a,1);if(0===o)return new yI(i,0,0,a);{const d=o+r*(1-Math.abs(2*o-1))/2;return new yI(i,2*(d-o)/d,d,a)}}hsvaToRgba(e){let i,r,o;const a=e.h,d=e.s,f=e.v,m=e.a,v=Math.floor(6*a),D=6*a-v,A=f*(1-d),R=f*(1-D*d),B=f*(1-(1-D)*d);switch(v%6){case 0:i=f,r=B,o=A;break;case 1:i=R,r=f,o=A;break;case 2:i=A,r=f,o=B;break;case 3:i=A,r=R,o=f;break;case 4:i=B,r=A,o=f;break;case 5:i=f,r=A,o=R;break;default:i=0,r=0,o=0}return new sh(i,r,o,m)}cmykToRgb(e){return new sh((1-e.c)*(1-e.k),(1-e.m)*(1-e.k),(1-e.y)*(1-e.k),e.a)}rgbaToCmyk(e){const i=1-Math.max(e.r,e.g,e.b);return 1===i?new Yx(0,0,0,1,e.a):new Yx((1-e.r-i)/(1-i),(1-e.g-i)/(1-i),(1-e.b-i)/(1-i),i,e.a)}rgbaToHsva(e){let i,r;const o=Math.min(e.r,1),a=Math.min(e.g,1),d=Math.min(e.b,1),f=Math.min(e.a,1),m=Math.max(o,a,d),v=Math.min(o,a,d),D=m,A=m-v;if(r=0===m?0:A/m,m===v)i=0;else{switch(m){case o:i=(a-d)/A+(a<d?6:0);break;case a:i=(d-o)/A+2;break;case d:i=(o-a)/A+4;break;default:i=0}i/=6}return new yI(i,r,D,f)}rgbaToHex(e,i){let r="#"+(16777216|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return i&&(r+=(256|Math.round(255*e.a)).toString(16).substr(1)),r}normalizeCMYK(e){return new Yx(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new Yx(Math.floor(100*e.c),Math.floor(100*e.m),Math.floor(100*e.y),Math.floor(100*e.k),e.a)}denormalizeRGBA(e){return new sh(Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b),e.a)}stringToHsva(e="",i=!1){let r=null;e=(e||"").toLowerCase();const o=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new sh(parseInt(a[2],10)/255,parseInt(a[3],10)/255,parseInt(a[4],10)/255,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new kg(parseInt(a[2],10)/360,parseInt(a[3],10)/100,parseInt(a[4],10)/100,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}}];o.push(i?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(a){return new sh(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,parseInt(a[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(a){return new sh(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,1)}}),o.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(a){return new sh(parseInt(a[1]+a[1],16)/255,parseInt(a[2]+a[2],16)/255,parseInt(a[3]+a[3],16)/255,1)}});for(const a in o)if(o.hasOwnProperty(a)){const d=o[a],f=d.re.exec(e),m=f&&d.parse(f);if(m)return m instanceof sh?r=this.rgbaToHsva(m):m instanceof kg&&(r=this.hsla2hsva(m)),r}return r}outputFormat(e,i,r){switch("auto"===i&&(i=e.a<1?"rgba":"hex"),i){case"hsla":const o=this.hsva2hsla(e),a=new kg(Math.round(360*o.h),Math.round(100*o.s),Math.round(100*o.l),Math.round(100*o.a)/100);return e.a<1||"always"===r?"hsla("+a.h+","+a.s+"%,"+a.l+"%,"+a.a+")":"hsl("+a.h+","+a.s+"%,"+a.l+"%)";case"rgba":const d=this.denormalizeRGBA(this.hsvaToRgba(e));return e.a<1||"always"===r?"rgba("+d.r+","+d.g+","+d.b+","+Math.round(100*d.a)/100+")":"rgb("+d.r+","+d.g+","+d.b+")";default:const f="always"===r||"forced"===r;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(e)),f)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const d4=typeof window<"u"&&"ontouchstart"in window;let mie=(()=>{class n{constructor(e,i,r,o,a,d){this.ngZone=e,this.elRef=i,this.cdRef=r,this.document=o,this.platformId=a,this.service=d,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[Us.HEX,Us.RGBA,Us.HSLA,Us.CMYK],this.useRootViewContainer=!1,this.eyeDropperSupported=fr(this.platformId)&&"EyeDropper"in this.document.defaultView}handleEsc(e){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(e)}handleEnter(e){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(e)}ngOnInit(){this.slider=new c4(0,0,0,0),this.sliderDimMax=new u4(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?Us.CMYK:"rgba"===this.cpOutputFormat?Us.RGBA:"hsla"===this.cpOutputFormat?Us.HSLA:Us.HEX,this.listenerMouseDown=r=>{this.onMouseDown(r)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new u4(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(e,i=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(e),this.setColorFromString(e,i),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(e,i,r,o,a,d,f,m,v,D,A,R,B,q,W,ce,Re,Le,Ye,It,Lt,xn,Li,Es,Ec,PM,Yg,ph,FM,NM,wt,Bt,qt,An,$r,Tl,Ao,Bu){this.setInitialColor(r),this.setColorMode(m),this.isIE10=10===function hie(){let n="";typeof navigator<"u"&&(n=navigator.userAgent.toLowerCase());const t=n.indexOf("msie ");return t>0&&parseInt(n.substring(t+5,n.indexOf(".",t)),10)}(),this.directiveInstance=e,this.directiveElementRef=i,this.cpDisableInput=R,this.cpCmykEnabled=v,this.cpAlphaChannel=D,this.cpOutputFormat=A,this.cpDialogDisplay=d,this.cpIgnoredElements=B,this.cpSaveClickOutside=q,this.cpCloseClickOutside=W,this.useRootViewContainer=ce,this.width=this.cpWidth=parseInt(o,10),this.height=this.cpHeight=parseInt(a,10),this.cpPosition=Re,this.cpPositionOffset=parseInt(Le,10),this.cpOKButton=PM,this.cpOKButtonText=ph,this.cpOKButtonClass=Yg,this.cpCancelButton=FM,this.cpCancelButtonText=wt,this.cpCancelButtonClass=NM,this.cpEyeDropper=Tl,this.fallbackColor=f||"#fff",this.setPresetConfig(It,Lt),this.cpPresetColorsClass=xn,this.cpMaxPresetColorsLength=Li,this.cpPresetEmptyMessage=Es,this.cpPresetEmptyMessageClass=Ec,this.cpAddColorButton=Bt,this.cpAddColorButtonText=An,this.cpAddColorButtonClass=qt,this.cpRemoveColorButtonClass=$r,this.cpTriggerElement=Ao,this.cpExtraTemplate=Bu,Ye||(this.dialogArrowOffset=0),"inline"===d&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===A&&"always"!==D&&"forced"!==D&&(this.cpAlphaChannel="disabled")}setColorMode(e){switch(e.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(e){this.initialColor=e}setPresetConfig(e,i){this.cpPresetLabel=e,this.cpPresetColors=i}setColorFromString(e,i=!0,r=!0){let o;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(o=this.service.stringToHsva(e,!0),!o&&!this.hsva&&(o=this.service.stringToHsva(e,!1))):o=this.service.stringToHsva(e,!1),!o&&!this.hsva&&(o=this.service.stringToHsva(this.fallbackColor,!1)),o&&(this.hsva=o,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(i,r))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(e){this.directiveInstance.sliderDragEnd({slider:e,color:this.outputColor})}onDragStart(e){this.directiveInstance.sliderDragStart({slider:e,color:this.outputColor})}onMouseDown(e){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&e.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,e.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,e.target)&&0===this.cpIgnoredElements.filter(i=>i===e.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(e){e.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(e){this.hsva=null,e.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(i=>{this.setColorFromString(i.sRGBHex,!0)})}onFormatToggle(e){const i=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),r=((this.dialogInputFields.indexOf(this.format)+e)%i+i)%i;this.format=this.dialogInputFields[r]}onColorChange(e){this.hsva.s=e.s/e.rgX,this.hsva.v=e.v/e.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(e){this.hsva.h=e.v/e.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(e){this.hsva.v=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(e){this.hsva.a=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(e){if(null===e)this.updateColorPicker();else{e&&"#"!==e[0]&&(e="#"+e);let i=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(i=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const r=i.test(e);r&&(e.length<5&&(e="#"+e.substring(1).split("").map(o=>o+o).join("")),"forced"===this.cpAlphaChannel&&(e+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(e,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:r,value:e,color:this.outputColor})}}onRedInput(e){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.r=e.v/e.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:r,value:i.r,color:this.outputColor})}onBlueInput(e){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.b=e.v/e.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:r,value:i.b,color:this.outputColor})}onGreenInput(e){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.g=e.v/e.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:r,value:i.g,color:this.outputColor})}onHueInput(e){const i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(this.hsva.h=e.v/e.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:i,value:this.hsva.h,color:this.outputColor})}onValueInput(e){const i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(this.hsva.v=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:i,value:this.hsva.v,color:this.outputColor})}onAlphaInput(e){const i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(this.hsva.a=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:i,value:this.hsva.a,color:this.outputColor})}onLightnessInput(e){const i=this.service.hsva2hsla(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.l=e.v/e.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:r,value:i.l,color:this.outputColor})}onSaturationInput(e){const i=this.service.hsva2hsla(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.s=e.v/e.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:r,value:i.s,color:this.outputColor})}onCyanInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.c=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.m=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.y=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.k=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(e,i){e.stopPropagation(),this.cpPresetColors.filter(r=>r===i).length||(this.cpPresetColors=this.cpPresetColors.concat(i),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(e,i){e.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(r=>r!==i),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{d4?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(d4?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(e=!0,i=!0,r=!1){if(this.sliderDimMax){let o,a,d;2===this.cpColorMode&&(this.hsva.s=0);const f=this.outputColor;if(a=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(r?(d=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(d)):(d=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(d))),d=this.service.denormalizeRGBA(d),this.sliderH=this.hsva.h):d=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),o=this.service.denormalizeRGBA(this.service.hsvaToRgba(new yI(this.sliderH||this.hsva.h,1,1,1))),i&&(this.hslaText=new kg(Math.round(360*a.h),Math.round(100*a.s),Math.round(100*a.l),Math.round(100*a.a)/100),this.rgbaText=new sh(d.r,d.g,d.b,Math.round(100*d.a)/100),this.cpCmykEnabled&&(this.cmykText=new Yx(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(d,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==Us.RGBA&&this.format!==Us.CMYK&&this.format!==Us.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?Us.RGBA:Us.HEX),this.hueSliderColor="rgb("+o.r+","+o.g+","+o.b+")",this.alphaSliderColor="rgb("+d.r+","+d.g+","+d.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==Us.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const m=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${m})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new c4((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),e&&f!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let r,e="static",i="",o=null,a=null,d=this.directiveElementRef.nativeElement.parentNode;const f=this.dialogElement.nativeElement.offsetHeight;for(;null!==d&&"HTML"!==d.tagName;){if(r=window.getComputedStyle(d),e=r.getPropertyValue("position"),i=r.getPropertyValue("transform"),"static"!==e&&null===o&&(o=d),i&&"none"!==i&&null===a&&(a=d),"fixed"===e){o=a;break}d=d.parentNode}const m=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==e);if(this.useRootViewContainer||"fixed"===e&&(!o||o instanceof HTMLUnknownElement))this.top=m.top,this.left=m.left;else{null===o&&(o=d);const D=this.createDialogBox(o,"fixed"!==e);this.top=m.top-D.top,this.left=m.left-D.left}"fixed"===e&&(this.position="fixed");let v=this.cpPosition;if("auto"===this.cpPosition){const D=this.dialogElement.nativeElement.getBoundingClientRect(),A=window.innerHeight,R=window.innerWidth,B=this.elRef.nativeElement.getBoundingClientRect();this.top+D.height>A&&(this.top=A-D.height,this.cpArrowPosition=B.x/2-20),this.left+D.width>R&&(this.left=R-D.width,this.cpArrowPosition=B.x/2-20),v=function die(n,t){let e="right",i="bottom";const{height:r,width:o}=n,{top:a,left:d}=t,f=a+t.height,m=d+t.width,v=a-r<0,D=f+r>(window.innerHeight||document.documentElement.clientHeight),A=d-o<0,R=m+o>(window.innerWidth||document.documentElement.clientWidth);return D&&(i="top"),v&&(i="bottom"),A&&(e="right"),R&&(e="left"),v&&D&&A&&R?["left","right","top","bottom"].reduce((W,ce)=>n[W]>n[ce]?W:ce):A&&R?v?"bottom":D||a>f?"top":"bottom":v&&D?A?"right":R||d>m?"left":"right":`${i}-${e}`}(D,this.cpTriggerElement.nativeElement.getBoundingClientRect())}"top"===v?(this.arrowTop=f-1,this.top-=f+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*m.width-this.dialogArrowOffset):"bottom"===v?(this.top+=m.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*m.width-this.dialogArrowOffset):"top-left"===v||"left-top"===v?(this.top-=f-m.height+m.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===v||"right-top"===v?(this.top-=f-m.height+m.height*this.cpPositionOffset/100,this.left+=m.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===v||"bottom-left"===v||"left-bottom"===v?(this.top+=m.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=m.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=m.width+this.dialogArrowSize-2),this.cpUsePosition=v}}isDescendant(e,i){let r=i.parentNode;for(;null!==r;){if(r===e)return!0;r=r.parentNode}return!1}createDialogBox(e,i){const{top:r,left:o}=e.getBoundingClientRect();return{top:r+(i?window.pageYOffset:0),left:o+(i?window.pageXOffset:0),width:e.offsetWidth,height:e.offsetHeight}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(te),s.Y36(s.Lbi),s.Y36(cL))},n.\u0275cmp=s.Xpm({type:n,selectors:[["color-picker"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Rne,7),s.Gf(One,7),s.Gf(Pne,7)),2&e){let r;s.iGM(r=s.CRH())&&(i.dialogElement=r.first),s.iGM(r=s.CRH())&&(i.hueSlider=r.first),s.iGM(r=s.CRH())&&(i.alphaSlider=r.first)}},hostBindings:function(e,i){1&e&&s.NdJ("keyup.esc",function(o){return i.handleEsc(o)},!1,s.evT)("keyup.enter",function(o){return i.handleEnter(o)},!1,s.evT)},decls:30,vars:51,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"left","class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(o){return o.stopPropagation()}),s.YNc(2,Fne,1,7,"div",2),s.YNc(3,Nne,2,8,"div",3),s.TgZ(4,"div",4)(5,"div",5),s._UZ(6,"div",6),s.TgZ(7,"div",7),s.NdJ("click",function(){return i.eyeDropperSupported&&i.cpEyeDropper&&i.onEyeDropper()}),s.YNc(8,Lne,3,0,"svg",8),s.qZA(),s.YNc(9,Bne,2,5,"button",9),s.qZA(),s.TgZ(10,"div",10),s.YNc(11,Vne,1,0,"div",11),s.TgZ(12,"div",12,13),s.NdJ("newValue",function(o){return i.onHueChange(o)})("dragStart",function(){return i.onDragStart("hue")})("dragEnd",function(){return i.onDragEnd("hue")}),s._UZ(14,"div",14),s.qZA(),s.TgZ(15,"div",15,16),s.NdJ("newValue",function(o){return i.onValueChange(o)})("dragStart",function(){return i.onDragStart("value")})("dragEnd",function(){return i.onDragEnd("value")}),s._UZ(17,"div",14),s.qZA(),s.TgZ(18,"div",17,18),s.NdJ("newValue",function(o){return i.onAlphaChange(o)})("dragStart",function(){return i.onDragStart("alpha")})("dragEnd",function(){return i.onDragEnd("alpha")}),s._UZ(20,"div",14),s.qZA()()(),s.YNc(21,Gne,17,12,"div",19),s.YNc(22,qne,14,10,"div",20),s.YNc(23,Zne,14,10,"div",21),s.YNc(24,Qne,8,7,"div",22),s.YNc(25,Xne,9,3,"div",23),s.YNc(26,eie,3,0,"div",24),s.YNc(27,sie,6,3,"div",25),s.YNc(28,lie,3,2,"div",26),s.YNc(29,uie,2,1,"div",27),s.qZA()),2&e&&(s.Udp("display",i.show?"block":"none")("visibility",i.hidden?"hidden":"visible")("top",i.top,"px")("left",i.left,"px")("position",i.position)("height",i.cpHeight,"px")("width",i.cpWidth,"px"),s.ekj("open",i.show),s.xp6(2),s.Q6J("ngIf","popup"===i.cpDialogDisplay),s.xp6(1),s.Q6J("ngIf",1===(i.cpColorMode||1)),s.xp6(4),s.Udp("background-color",i.selectedColor)("cursor",i.eyeDropperSupported&&i.cpEyeDropper?"pointer":null),s.xp6(1),s.Q6J("ngIf",i.eyeDropperSupported&&i.cpEyeDropper),s.xp6(1),s.Q6J("ngIf",i.cpAddColorButton),s.xp6(2),s.Q6J("ngIf","disabled"===i.cpAlphaChannel),s.xp6(1),s.Udp("display",1===(i.cpColorMode||1)?"block":"none"),s.Q6J("rgX",1),s.xp6(2),s.Udp("left",null==i.slider?null:i.slider.h,"px"),s.xp6(1),s.Udp("display",2===(i.cpColorMode||1)?"block":"none"),s.Q6J("rgX",1),s.xp6(2),s.Udp("right",null==i.slider?null:i.slider.v,"px"),s.xp6(1),s.Udp("display","disabled"===i.cpAlphaChannel?"none":"block")("background-color",i.alphaSliderColor),s.Q6J("rgX",1),s.xp6(2),s.Udp("left",null==i.slider?null:i.slider.a,"px"),s.xp6(1),s.Q6J("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),s.xp6(1),s.Q6J("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),s.xp6(1),s.Q6J("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),s.xp6(1),s.Q6J("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),s.xp6(1),s.Q6J("ngIf",!i.cpDisableInput&&2===(i.cpColorMode||1)),s.xp6(1),s.Q6J("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),s.xp6(1),s.Q6J("ngIf",(null==i.cpPresetColors?null:i.cpPresetColors.length)||i.cpAddColorButton),s.xp6(1),s.Q6J("ngIf",i.cpOKButton||i.cpCancelButton),s.xp6(1),s.Q6J("ngIf",i.cpExtraTemplate))},dependencies:[Wr,ci,di,fie,pie],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2}),n})(),_ie=(()=>{class n{constructor(e,i,r,o,a,d){this.injector=e,this.cfr=i,this.appRef=r,this.vcRef=o,this.elRef=a,this._service=d,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpEyeDropper=!1,this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpArrowPosition=0,this.cpInputChange=new s.vpe(!0),this.cpToggleChange=new s.vpe(!0),this.cpSliderChange=new s.vpe(!0),this.cpSliderDragEnd=new s.vpe(!0),this.cpSliderDragStart=new s.vpe(!0),this.colorPickerOpen=new s.vpe(!0),this.colorPickerClose=new s.vpe(!0),this.colorPickerCancel=new s.vpe(!0),this.colorPickerSelect=new s.vpe(!0),this.colorPickerChange=new s.vpe(!1),this.cpCmykColorChange=new s.vpe(!0),this.cpPresetColorsChange=new s.vpe(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(e){this.inputChange(e)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(e){e.cpToggle&&!this.cpDisabled&&(e.cpToggle.currentValue?this.openDialog():e.cpToggle.currentValue||this.closeDialog()),e.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(e.colorPicker.currentValue),this.dialog.setColorFromString(e.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(e.cpPresetLabel||e.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let e=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const o=this.injector.get(this.appRef.componentTypes[0],s.zs3.NULL);o!==s.zs3.NULL?e=o.vcRef||o.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const i=this.cfr.resolveComponentFactory(mie);if(this.viewAttachedToAppRef)this.cmpRef=i.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const r=s.zs3.create({providers:[],parent:e.injector});this.cmpRef=e.createComponent(i,0,r,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==e&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(e){this.cpCmykColorChange.emit(e)}stateChanged(e){this.cpToggleChange.emit(e),e?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(e,i=!0){this.ignoreChanges=i,this.colorPickerChange.emit(e)}colorSelected(e){this.colorPickerSelect.emit(e)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const e=this.elRef.nativeElement,i=this.cpIgnoredElements.filter(r=>r===e);!this.cpDisabled&&!i.length&&(typeof document<"u"&&e===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(e){this.dialog?this.dialog.setColorFromString(e.target.value,!0):(this.colorPicker=e.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(e){this.cpInputChange.emit(e)}sliderChanged(e){this.cpSliderChange.emit(e)}sliderDragEnd(e){this.cpSliderDragEnd.emit(e)}sliderDragStart(e){this.cpSliderDragStart.emit(e)}presetColorsChanged(e){this.cpPresetColorsChange.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.zs3),s.Y36(s._Vd),s.Y36(s.z2F),s.Y36(s.s_b),s.Y36(s.SBq),s.Y36(cL))},n.\u0275dir=s.lG2({type:n,selectors:[["","colorPicker",""]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.handleClick()})("focus",function(){return i.handleFocus()})("input",function(o){return i.handleInput(o)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpArrowPosition:"cpArrowPosition",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[s.TTD]}),n})(),yie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[cL],imports:[hr]}),n})();const vie=["personName"];function bie(n,t){1&n&&(s.ynx(0),s.TgZ(1,"h5"),s._uU(2,"None created yet."),s.qZA(),s.BQk())}const wie=function(){return["#2889e9","#7fe1df","#e920e9","#b3eda0","#fff500","#ec4040"]};function xie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"mat-form-field")(2,"input",12),s.NdJ("ngModelChange",function(r){const a=s.CHM(e).$implicit;return s.KtG(a.name=r)}),s.qZA()(),s.TgZ(3,"input",13),s.NdJ("colorPickerChange",function(r){const a=s.CHM(e).$implicit;return s.KtG(a.color=r)}),s.qZA(),s.TgZ(4,"button",6),s.NdJ("click",function(){const o=s.CHM(e).index,a=s.oxw();return s.KtG(a.deletePerson(o))}),s.TgZ(5,"mat-icon"),s._uU(6,"delete"),s.qZA()()()}if(2&n){const e=t.$implicit;s.xp6(2),s.Q6J("ngModel",e.name),s.xp6(1),s.Udp("width","20px")("height","20px")("border-radius","5px")("background",e.color),s.Q6J("colorPicker",e.color)("cpOutputFormat","hex")("cpPresetColors",s.DdM(12,wie))}}const Cie=function(){return["#2889e9","#e920e9","#b3eda0","#fff500","rgb(236,64,64)"]};let Eie=(()=>{class n{constructor(e){this.data=e,this.defaultcolor="#2889e9",this.color=this.defaultcolor,this.persons=this.data?this.data:[]}addPerson(){this.personName.nativeElement.value&&(this.persons.push({name:this.personName.nativeElement.value,color:this.color}),this.data=this.persons,this.personName.nativeElement.value="",this.color=this.defaultcolor)}deletePerson(e){this.persons.splice(e,1),this.data=this.persons}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(JA))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-person-creation-dialog"]],viewQuery:function(i,r){if(1&i&&s.Gf(vie,5),2&i){let o;s.iGM(o=s.CRH())&&(r.personName=o.first)}},decls:27,vars:16,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"input-container"],["matInput","","type","text"],["personName",""],[3,"colorPicker","cpPresetColors","colorPickerChange"],["mat-icon-button","",3,"click"],[4,"ngIf"],["class","input-container",4,"ngFor","ngForOf"],["align","end"],["mat-button","",3,"mat-dialog-close"],["mat-button","",3,"disabled","mat-dialog-close"],["matInput","",3,"ngModel","ngModelChange"],[3,"colorPicker","cpOutputFormat","cpPresetColors","colorPickerChange"]],template:function(i,r){1&i&&(s.TgZ(0,"h2",0),s._uU(1,"Create Person (Character/Voice Actor)"),s.qZA(),s.TgZ(2,"mat-dialog-content",1)(3,"h3"),s._uU(4,"Assign a person to a subtitle to help you recognize who it is voiced by."),s.qZA()(),s.TgZ(5,"div",2)(6,"mat-form-field")(7,"mat-label"),s._uU(8,"Enter a name"),s.qZA(),s._UZ(9,"input",3,4),s.qZA(),s.TgZ(11,"label"),s._uU(12,"Color:"),s.qZA(),s.TgZ(13,"input",5),s.NdJ("colorPickerChange",function(a){return r.color=a}),s.qZA(),s.TgZ(14,"button",6),s.NdJ("click",function(){return r.addPerson()}),s.TgZ(15,"mat-icon"),s._uU(16,"add"),s.qZA()()(),s.TgZ(17,"mat-dialog-content",1)(18,"h3"),s._uU(19,"Your characters/voice actors:"),s.qZA(),s.YNc(20,bie,3,0,"ng-container",7),s.qZA(),s.YNc(21,xie,7,13,"div",8),s.TgZ(22,"mat-dialog-actions",9)(23,"button",10),s._uU(24,"Cancel"),s.qZA(),s.TgZ(25,"button",11),s._uU(26,"SAVE"),s.qZA()()),2&i&&(s.xp6(13),s.Udp("width","20px")("height","20px")("border-radius","5px")("background",r.color),s.Q6J("colorPicker",r.color)("cpPresetColors",s.DdM(15,Cie)),s.xp6(7),s.Q6J("ngIf",0===r.persons.length),s.xp6(1),s.Q6J("ngForOf",r.persons),s.xp6(2),s.Q6J("mat-dialog-close",null),s.xp6(2),s.Q6J("disabled",!r.data)("mat-dialog-close",r.data))},dependencies:[Wr,ci,ic,ll,Rd,Ed,hl,bl,gv,gc,Kb,Eg,Dg,Sg,Tg,_ie],styles:[".input-container[_ngcontent-%COMP%]{padding-left:24px;padding-right:5px;gap:25px;display:flex;align-items:center}  .mat-mdc-form-field-subscript-wrapper{display:none}  .mat-mdc-form-field{flex-grow:1}.mdc-dialog__actions[_ngcontent-%COMP%]{padding-top:16px}"]})}return n})(),Die=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-unsaved-changes-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(i,r){1&i&&(s.TgZ(0,"h2",0),s._uU(1,"Save your Subtitles!"),s.qZA(),s.TgZ(2,"mat-dialog-content",1)(3,"h3"),s._uU(4,"Generating a speech will navigate you to a different Page. Before you leave this page, make sure you have saved your changes to not lose your progress."),s.qZA()(),s.TgZ(5,"mat-dialog-actions",2)(6,"button",3),s._uU(7,"Cancel"),s.qZA(),s.TgZ(8,"button",4),s._uU(9,"Generate Speech"),s.qZA()()),2&i&&(s.xp6(6),s.Q6J("mat-dialog-close",!1),s.xp6(2),s.Q6J("mat-dialog-close",!0))},dependencies:[bl,Eg,Dg,Sg,Tg]})}return n})(),Sie=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(JA))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-confirmation-modal"]],decls:20,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[2,"display","flex"],["matInput","","readonly","",3,"value"],["align","end"],["mat-button","",3,"mat-dialog-close"],["color","primary","mat-button","",3,"mat-dialog-close"]],template:function(i,r){1&i&&(s.TgZ(0,"h2",0),s._uU(1,"ChatGPT Action Preview"),s.qZA(),s.TgZ(2,"mat-dialog-content",1)(3,"h3"),s._uU(4,"Make sure you are satisfied with the new sentence provided by ChatGPT."),s.qZA(),s.TgZ(5,"div",2)(6,"mat-form-field")(7,"mat-label"),s._uU(8,"Current Text"),s.qZA(),s._UZ(9,"input",3),s.qZA()(),s.TgZ(10,"div",2)(11,"mat-form-field")(12,"mat-label"),s._uU(13,"ChatGPT Generated Text"),s.qZA(),s._UZ(14,"input",3),s.qZA()()(),s.TgZ(15,"mat-dialog-actions",4)(16,"button",5),s._uU(17,"Cancel"),s.qZA(),s.TgZ(18,"button",6),s._uU(19,"CONFIRM"),s.qZA()()),2&i&&(s.xp6(9),s.Q6J("value",r.data.current_text),s.xp6(5),s.Q6J("value",r.data.new_text),s.xp6(2),s.Q6J("mat-dialog-close",!1),s.xp6(2),s.Q6J("mat-dialog-close",!0))},dependencies:[ic,ll,Rd,bl,Eg,Dg,Sg,Tg],styles:[".mat-mdc-form-field{flex-grow:1}"]})}return n})(),Tie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-batch-dialog-modal"]],decls:16,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"input-container"],["matInput","","type","number",3,"min"],["interval",""],["align","end"],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(i,r){if(1&i&&(s.TgZ(0,"h2",0),s._uU(1,"Batch Creation Configuration"),s.qZA(),s.TgZ(2,"mat-dialog-content",1)(3,"h3"),s._uU(4,"Set an interval in seconds for dialog box creation."),s.qZA()(),s.TgZ(5,"div",2)(6,"mat-form-field")(7,"mat-label"),s._uU(8,"Set Interval"),s.qZA(),s._UZ(9,"input",3,4),s.qZA()(),s.TgZ(11,"mat-dialog-actions",5)(12,"button",6),s._uU(13,"Cancel"),s.qZA(),s.TgZ(14,"button",7),s._uU(15,"Create"),s.qZA()()),2&i){const o=s.MAs(10);s.xp6(9),s.Q6J("min",1),s.xp6(3),s.Q6J("mat-dialog-close",null),s.xp6(2),s.Q6J("mat-dialog-close",o.value)}},dependencies:[ic,ll,Rd,bl,Eg,Dg,Sg,Tg],styles:[".input-container[_ngcontent-%COMP%]{padding-left:24px;padding-right:24px;display:flex}"]})}return n})(),h4=(()=>{class n{constructor(){}set_initContentSSML(e){this.initContentSSML=e}set_formContent(e){this.formContentGroup=e}get_initContentSSML(){return this.initContentSSML}get_formContent(){return this.formContentGroup}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Aie=(()=>{class n{constructor(e){this.http=e,this.promptMap=new Map([["sad","Adjust the tone of the following sentence to make it sadder."],["joyful","Transform the following sentence to make it more joyful."],["shorter","Condense the following sentence while preserving its original meaning."],["longer","Enlarge the following sentence without changing its original meaning."]])}getDataFromOpenAI(e){const r=(new Mu).set("Authorization","Bearer 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");let o={model:"gpt-3.5-turbo",messages:[{role:"user",content:this.promptMap.get(e.action)+e.text}]};return this.http.post("https://api.openai.com/v1/chat/completions",o,{headers:r}).pipe((0,Ke.U)(a=>a.choices[0].message.content))}static#e=this.\u0275fac=function(i){return new(i||n)(s.LFG(Ag))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function f4(n,t){return t?e=>bd(t.pipe(Ct(1),function Iie(){return(0,qn.e)((n,t)=>{n.subscribe((0,$n.x)(t,hd.Z))})}()),e.pipe(f4(n))):(0,nr.z)((e,i)=>n(e,i).pipe(Ct(1),ND(e)))}function p4(n,t=Zo.z){const e=SN(n,t);return f4(()=>e)}const Mie=["mat-menu-item",""];function kie(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"polygon",4),s.qZA())}const Rie=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Oie=["mat-icon, [matMenuItemIcon]","*"];function Pie(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))})("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationDone(r))}),s.TgZ(1,"div",1),s.Hsn(2),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),s.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Fie=["*"],uL=new s.OlP("MAT_MENU_PANEL"),Nie=cb(C_(class{}));let Ev=(()=>{class n extends Nie{constructor(e,i,r,o,a){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new Ze.x,this._focused=new Ze.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(te),s.Y36(tc),s.Y36(uL,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(s.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),s.ekj("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[s.qOj],attrs:Mie,ngContentSelectors:Oie,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(s.F$t(Rie),s.Hsn(0),s.TgZ(1,"span",0),s.Hsn(2,1),s.qZA(),s._UZ(3,"div",1),s.YNc(4,kie,2,0,"svg",2)),2&e&&(s.xp6(3),s.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),s.xp6(1),s.Q6J("ngIf",i._triggersSubmenu))},dependencies:[ci,nc],encapsulation:2,changeDetection:0}),n})();const Lie=new s.OlP("MatMenuContent"),vI={transformMenu:As("transformMenu",[zi("void",In({opacity:0,transform:"scale(0.8)"})),Xr("void => enter",mr("120ms cubic-bezier(0, 0, 0.2, 1)",In({opacity:1,transform:"scale(1)"}))),Xr("* => void",mr("100ms 25ms linear",In({opacity:0})))]),fadeInItems:As("fadeInItems",[zi("showing",In({opacity:1})),Xr("void => *",[In({opacity:0}),mr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Bie=0;const m4=new s.OlP("mat-menu-default-options",{providedIn:"root",factory:function Vie(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Zx=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Dt(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Dt(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new s.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new Ze.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new s.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Bie++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new y_(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(tr(this._directDescendantItems),_n(e=>(0,Ai.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(tr(this._directDescendantItems),_n(i=>(0,Ai.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Sa(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Ct(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(tr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(m4),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Lie,5),s.Suo(r,Ev,5),s.Suo(r,Ev,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.lazyContent=o.first),s.iGM(o=s.CRH())&&(i._allItems=o),s.iGM(o=s.CRH())&&(i.items=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),dL=(()=>{class n extends Zx{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(m4),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&s.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[s._Bn([{provide:uL,useExisting:n}]),s.qOj],ngContentSelectors:Fie,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,Pie,3,6,"ng-template"))},dependencies:[Vt],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[vI.transformMenu,vI.fadeInItems]},changeDetection:0}),n})();const g4=new s.OlP("mat-menu-scroll-strategy"),Hie={provide:g4,deps:[ra],useFactory:function Uie(n){return()=>n.scrollStrategies.reposition()}},_4=kr({passive:!0});let Gie=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,o,a,d,f,m,v){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=f,this._focusMonitor=m,this._ngZone=v,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=x.w0.EMPTY,this._hoverSubscription=x.w0.EMPTY,this._menuCloseSubscription=x.w0.EMPTY,this._changeDetectorRef=(0,s.f3M)(s.sBO),this._handleTouchStart=D=>{x_(D)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new s.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new s.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=a instanceof Zx?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,_4)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_4),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Zx&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Nt(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Zx?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Nn(r=>"void"===r.toState),Ct(1),Nt(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Fx({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",a="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,a)):e.setPositionClasses(o,a)})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[a,d]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[f,m]=[a,d],[v,D]=[r,o],A=0;if(this.triggersSubmenu()){if(D=r="before"===e.xPosition?"start":"end",o=v="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const R=this._parentMaterialMenu.items.first;this._parentInnerPadding=R?R._getHostElement().offsetTop:0}A="bottom"===a?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(f="top"===a?"bottom":"top",m="top"===d?"bottom":"top");i.withPositions([{originX:r,originY:f,overlayX:v,overlayY:a,offsetY:A},{originX:o,originY:f,overlayX:D,overlayY:a,offsetY:A},{originX:r,originY:m,overlayX:v,overlayY:d,offsetY:-A},{originX:o,originY:m,overlayX:D,overlayY:d,offsetY:-A}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:j(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Nn(a=>a!==this._menuItemInstance),Nn(()=>this._menuOpen)):j();return(0,Ai.T)(e,r,o,i)}_handleMousedown(e){w_(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Nn(e=>e===this._menuItemInstance&&!e.disabled),p4(0,DN)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Zx&&this.menu._isAnimating?this.menu._animationDone.pipe(Ct(1),p4(0,DN),Nt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new hv(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ra),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(g4),s.Y36(uL,8),s.Y36(Ev,10),s.Y36(Pn,8),s.Y36(tc),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&s.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),hL=(()=>{class n extends Gie{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[s.qOj]}),n})(),jie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Hie],imports:[hr,pb,Tn,mv,uv,Tn]}),n})();function y4(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const fL="inline",bI=["row","column","row-reverse","column-reverse"];function v4(n){let[t,e,i]=b4(n);return function qie(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function b4(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return bI.find(r=>r===t)||(t=bI[0]),e===fL&&(e=i!==fL?i:"",i=fL),[t,zie(e),!!i]}function Wx(n){let[t]=b4(n);return t.indexOf("row")>-1}function zie(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function oh(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const Yie={provide:s.tb,useFactory:function $ie(n,t){return()=>{if(fr(t)){const e=Array.from(n.querySelectorAll(`[class*=${w4}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${w4}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[te,s.Lbi],multi:!0},w4="flex-layout-";let pL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Yie]}),n})();class Rg{constructor(t=!1,e="all",i="",r="",o=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=o,this.property=""}clone(){return new Rg(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Zie=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const o=this.stylesheet.get(e);o?o.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let o="";if(r){const a=r.get(i);("number"==typeof a||"string"==typeof a)&&(o=a+"")}return o}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mL={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},vc=new s.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>mL}),Dv=new s.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),gL=new s.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function x4(n,t){return n=n?.clone()??new Rg,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class xr{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Ni=(()=>{class n{constructor(e,i,r,o){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=o}applyStyleToElement(e,i,r=null){let o={};"string"==typeof i&&(o[i]=r,i=o),o=this.layoutConfig.disableVendorPrefixes?i:y4(i),this._applyMultiValueStyleToElement(o,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:y4(e);i.forEach(o=>{this._applyMultiValueStyleToElement(r,o)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||us(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return fr(this._platformId)?e.style.getPropertyValue(i):function Wie(n,t){return C4(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let o="";return e&&((o=this.lookupInlineStyle(e,i))||(fr(this._platformId)?r||(o=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(o=this._serverStylesheet.getStyleForElement(e,i)))),o?o.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const o=e[r],a=Array.isArray(o)?o:[o];a.sort();for(let d of a)d=d?d+"":"",fr(this._platformId)||!this._serverModuleLoaded?fr(this._platformId)?i.style.setProperty(r,d):Kie(i,r,d):this._serverStylesheet.addStyleToElement(i,r,d)})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zie),s.LFG(Dv),s.LFG(s.Lbi),s.LFG(vc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kie(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=C4(n);i[t]=e??"",function Qie(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function C4(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const o=i[r].trim();if(o.length>0){const a=o.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${o}`);t[o.substr(0,a).trim()]=o.substr(a+1).trim()}}}return t}function Kx(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function Jie(n,t){return(n.priority||0)-(t.priority||0)}let _L=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new S(new Rg(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(Nn(a=>!i||e.indexOf(a.mediaQuery)>-1)),o=new pn.y(a=>{const d=this.registerQuery(e);if(d.length){const f=d.pop();d.forEach(m=>{a.next(m)}),this.source.next(f)}a.complete()});return(0,Ai.T)(o,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function Xie(n,t){const e=n.filter(i=>!E4[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(o=>E4[o]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(o=>{const a=f=>{this._zone.run(()=>this.source.next(new Rg(f.matches,o)))};let d=this.registry.get(o);d||(d=this.buildMQL(o),d.addListener(a),this.pendingRemoveListenerFns.push(()=>d.removeListener(a)),this.registry.set(o,d)),d.matches&&r.push(new Rg(!0,o))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function tre(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function ere(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,fr(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(s.Lbi),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E4={},nre=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],D4="(orientation: portrait) and (max-width: 599.98px)",S4="(orientation: landscape) and (max-width: 959.98px)",T4="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",A4="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",I4="(orientation: portrait) and (min-width: 840px)",M4="(orientation: landscape) and (min-width: 1280px)",ah={HANDSET:`${D4}, ${S4}`,TABLET:`${T4} , ${A4}`,WEB:`${I4}, ${M4} `,HANDSET_PORTRAIT:`${D4}`,TABLET_PORTRAIT:`${T4} `,WEB_PORTRAIT:`${I4}`,HANDSET_LANDSCAPE:`${S4}`,TABLET_LANDSCAPE:`${A4}`,WEB_LANDSCAPE:`${M4}`},ire=[{alias:"handset",priority:2e3,mediaQuery:ah.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:ah.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:ah.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:ah.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:ah.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:ah.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:ah.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:ah.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:ah.WEB_PORTRAIT,overlapping:!0}],rre=/(\.|-|_)/g;function sre(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const cre=new s.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,s.f3M)(gL),t=(0,s.f3M)(vc),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function lre(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?oh(e[i.alias],i):e[i.alias]=i}),function are(n){return n.forEach(t=>{t.suffix||(t.suffix=function ore(n){return n.replace(rre,"|").split("|").map(sre).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:nre).concat(t.addOrientationBps?ire:[]),e)}});let yL=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(Jie)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cre))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sv="print",ure={alias:Sv,mediaQuery:Sv,priority:1e3};let dre=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new hre,this.deactivations=[]}withPrintQuery(e){return[...e,Sv]}isPrintEvent(e){return e.mediaQuery.startsWith(Sv)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Kx)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),x4(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Rg(!0,Sv))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const o=this.formerActivations&&this.formerActivations.includes(r),a=!this.formerActivations&&e.activatedBreakpoints.includes(r);(o||a)&&(this.deactivations.push(r),this.deactivations.sort(Kx))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yL),s.LFG(vc),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hre{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(ure),t.sort(Kx),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function fre(n){return n?.mediaQuery.startsWith(Sv)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let Yi=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Ze.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=x4(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(Kx),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(Kx),this.updateStyles())}}init(e,i,r,o,a=[]){k4(this.updateMap,e,i,r),k4(this.clearMap,e,i,o),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,r){const o=this.elementMap.get(e);if(o){const a=void 0!==r?o.get(r):this.getActivatedValues(o,i);if(a)return a.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const o=this.getActivatedValues(r,i);if(o)return void 0!==o.get(i)||!1}return!1}setValue(e,i,r,o){let a=this.elementMap.get(e);if(a){const f=(a.get(o)??new Map).set(i,r);a.set(o,f),this.elementMap.set(e,a)}else a=(new Map).set(o,(new Map).set(i,r)),this.elementMap.set(e,a);const d=this.getValue(e,i);void 0!==d&&this.updateElement(e,i,d)}trackValue(e,i){return this.subject.asObservable().pipe(Nn(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let o=this.getActivatedValues(e);o&&o.forEach((a,d)=>{this.updateElement(i,d,a),r.delete(d)}),r.forEach(a=>{if(o=this.getActivatedValues(e,a),o){const d=o.get(a);this.updateElement(i,a,d)}else this.clearElement(i,a)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const o=r.get(i);o&&(o(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const o=this.updateMap.get(e);if(o){const a=o.get(i);a&&(a(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(o=>o.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((o,a)=>r.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const o=this.getActivatedValues(r,i);o&&(i?this.updateElement(e,i,o.get(i)):o.forEach((a,d)=>this.updateElement(e,d,a)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let o=this.watcherMap.get(e);if(o||(o=new Map,this.watcherMap.set(e,o)),!o.get(i)){const d=(0,Ai.T)(...r).subscribe(()=>{const f=this.getValue(e,i);this.updateElement(e,i,f)});o.set(i,d)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let o=0;o<this.activatedBreakpoints.length;o++){const d=e.get(this.activatedBreakpoints[o].alias);if(d&&(void 0===i||d.has(i)&&null!=d.get(i)))return d}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,Fn.b)(this.hook.interceptEvents(this)),Nn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_L),s.LFG(yL),s.LFG(dre))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k4(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let or=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=o,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Ze.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,o=r.shouldCache;let a=this.styleCache.get(e);(!a||!o)&&(a=r.buildStyles(e,i),o&&this.styleCache.set(e,a)),this.mru={...a},this.applyStyleToElement(a),r.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,o]=this.styler.getFlowDirection(e);if(!o&&i){const a=v4(r);this.styler.applyStyleToElements(a,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(xr),s.Y36(Ni),s.Y36(Yi))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class mre extends EventTarget{constructor(t){super(),this._mediaQuery=t,this._isActive=!1,this._listeners=[],this.onchange=null}get matches(){return this._isActive}get media(){return this._mediaQuery}destroy(){this.deactivate(),this._listeners=[]}activate(){return this._isActive||(this._isActive=!0,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}deactivate(){return this._isActive&&(this._isActive=!1,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}addListener(t){-1===this._listeners.indexOf(t)&&this._listeners.push(t),this._isActive&&t.call(this,{matches:this.matches,media:this.media})}removeListener(t){}dispatchEvent(t){return!1}}function R4(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=O4(n.substring(r).trim());let o=n.substr(0,r).trim().split(" ");2==o.length&&(i[0]=o[0],i[1]=o[1])}else if(0==r)i[2]=O4(n.trim());else{let o=n.split(" ");i=3===o.length?o:[t,e,n]}return i}function O4(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}const P4="x";function wI(n,t){if(void 0===t)return n;const e=i=>{const r=+i.slice(0,-P4.length);return n.endsWith(P4)&&!isNaN(r)?`${r*t.value}${t.unit}`:n};return n.includes(" ")?n.split(" ").map(e).join(" "):e(n)}let gre=(()=>{class n extends xr{buildStyles(e,{display:i}){const r=v4(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _re=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let yre=(()=>{class n extends or{constructor(e,i,r,o,a){super(e,r,i,o),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=F4.get(r)??new Map,F4.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ni),s.Y36(gre),s.Y36(Yi),s.Y36(vc))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),vL=(()=>{class n extends yre{constructor(){super(...arguments),this.inputs=_re}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[s.qOj]}),n})();const F4=new Map,N4={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let vre=(()=>{class n extends xr{constructor(e,i){super(),this._styler=e,this._config=i}buildStyles(e,i){return e.endsWith(xI)?function Tre(n,t){const[e,i]=n.split(" "),o=m=>`-${m}`;let a="0px",d=o(i??e),f="0px";return"rtl"===t?f=o(e):a=o(e),{margin:`0px ${a} ${d} ${f}`}}(e=wI(e=e.slice(0,e.indexOf(xI)),this._config.multiplier),i.directionality):{}}sideEffect(e,i,r){const o=r.items;if(e.endsWith(xI)){const a=function Sre(n,t){const[e,i]=n.split(" ");let o="0px",d="0px";return"rtl"===t?d=e:o=e,{padding:`0px ${o} ${i??e} ${d}`}}(e=wI(e=e.slice(0,e.indexOf(xI)),this._config.multiplier),r.directionality);this._styler.applyStyleToElements(a,r.items)}else{e=wI(e,this._config.multiplier),e=this.addFallbackUnit(e);const a=o.pop(),d=function Are(n,t){const e=L4(t.directionality,t.layout),i={...N4};return i[e]=n,i}(e,r);this._styler.applyStyleToElements(d,o),this._styler.applyStyleToElements(N4,[a])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ni),s.LFG(vc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bre=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let wre=(()=>{class n extends or{constructor(e,i,r,o,a,d){super(e,a,o,d),this.zone=i,this.directionality=r,this.styleUtils=o,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Ze.x;const f=[this.directionality.change,this.observerSubject.asObservable()];this.init(f),this.marshal.trackValue(this.nativeElement,"layout").pipe(Nt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let r=e.length;r--;)i[r]=e[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const r=e.value.split(" ");this.layout=r[0],bI.find(o=>o===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,o)=>{const a=+this.styler.lookupStyle(r,"order"),d=+this.styler.lookupStyle(o,"order");return isNaN(a)||isNaN(d)||a===d?0:a>d?1:-1});if(i.length>0){const r=this.directionality.value,o=this.layout;"row"===o&&"rtl"===r?this.styleCache=xre:"row"===o&&"rtl"!==r?this.styleCache=Ere:"column"===o&&"rtl"===r?this.styleCache=Cre:"column"===o&&"rtl"!==r&&(this.styleCache=Dre),this.addStyles(e,{directionality:r,items:i,layout:o})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":L4(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(e=>{e.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Pn),s.Y36(Ni),s.Y36(vre),s.Y36(Yi))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),bL=(()=>{class n extends wre{constructor(){super(...arguments),this.inputs=bre}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[s.qOj]}),n})();const xre=new Map,Cre=new Map,Ere=new Map,Dre=new Map,xI=" grid";function L4(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let Ire=(()=>{class n extends xr{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,o,...a]=e.split(" "),d=a.join(" ");const f=i.direction.indexOf("column")>-1?"column":"row",m=Wx(f)?"max-width":"max-height",v=Wx(f)?"min-width":"min-height",D=String(d).indexOf("calc")>-1,A=D||"auto"===d,R=String(d).indexOf("%")>-1&&!D,B=String(d).indexOf("px")>-1||String(d).indexOf("rem")>-1||String(d).indexOf("em")>-1||String(d).indexOf("vw")>-1||String(d).indexOf("vh")>-1;let q=D||B;r="0"==r?0:r,o="0"==o?0:o;const W=!r&&!o;let ce={};const Re={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(d||""){case"":d="row"===f?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,d="auto";break;case"grow":d="100%";break;case"noshrink":o=0,d="auto";break;case"auto":break;case"none":r=0,o=0,d="auto";break;default:!q&&!R&&!isNaN(d)&&(d+="%"),"0%"===d&&(q=!0),"0px"===d&&(d="0%"),ce=oh(Re,D?{"flex-grow":r,"flex-shrink":o,"flex-basis":q?d:"100%"}:{flex:`${r} ${o} ${q?d:"100%"}`})}return ce.flex||ce["flex-grow"]||(ce=oh(Re,D?{"flex-grow":r,"flex-shrink":o,"flex-basis":d}:{flex:`${r} ${o} ${d}`})),"0%"!==d&&"0px"!==d&&"0.000000001px"!==d&&"auto"!==d&&(ce[v]=W||q&&r?d:null,ce[m]=W||!A&&o?d:null),ce[v]||ce[m]?i.hasWrap&&(ce[D?"flex-basis":"flex"]=ce[m]?D?ce[m]:`${r} ${o} ${ce[m]}`:D?ce[v]:`${r} ${o} ${ce[v]}`):ce=oh(Re,D?{"flex-grow":r,"flex-shrink":o,"flex-basis":d}:{flex:`${r} ${o} ${d}`}),oh(ce,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mre=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let kre=(()=>{class n extends or{constructor(e,i,r,o,a){super(e,o,i,a),this.layoutConfig=r,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Nt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Nt(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,o=r.startsWith("row"),a=this.wrap;o&&a?this.styleCache=Pre:o&&!a?this.styleCache=Rre:!o&&a?this.styleCache=Fre:!o&&!a&&(this.styleCache=Ore);const f=R4(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(f.join(" "),{direction:r,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=R4(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ni),s.Y36(vc),s.Y36(Ire),s.Y36(Yi))},n.\u0275dir=s.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[s.qOj]}),n})(),wL=(()=>{class n extends kre{constructor(){super(...arguments),this.inputs=Mre}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[s.qOj]}),n})();const Rre=new Map,Ore=new Map,Pre=new Map,Fre=new Map;let rse=(()=>{class n extends xr{buildStyles(e,i){const r={},[o,a]=e.split(" ");switch(o){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return oh(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===a?Wx(i.layout)?null:"100%":null,"max-height":"stretch"===a&&Wx(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sse=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let ose=(()=>{class n extends or{constructor(e,i,r,o){super(e,r,i,o),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Nt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=dse:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=fse:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=hse:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=pse:"column-reverse"===i&&!r&&(this.styleCache=use):this.styleCache=lse:this.styleCache=cse:this.styleCache=ase,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),bI.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ni),s.Y36(rse),s.Y36(Yi))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),B4=(()=>{class n extends ose{constructor(){super(...arguments),this.inputs=sse}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[s.qOj]}),n})();const ase=new Map,lse=new Map,cse=new Map,use=new Map,dse=new Map,hse=new Map,fse=new Map,pse=new Map;let V4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[pL,qo]}),n})(),bse=(()=>{class n extends or{constructor(e,i,r,o,a,d,f){super(e,null,i,r),this.ngClassInstance=f,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Vt(o,a,e,d)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ni),s.Y36(Yi),s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.Qsj),s.Y36(Vt,10))},n.\u0275dir=s.lG2({type:n,inputs:{klass:["class","klass"]},features:[s.qOj]}),n})();const wse=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let U4=(()=>{class n extends bse{constructor(){super(...arguments),this.inputs=wse}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[s.qOj]}),n})(),$4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[pL]}),n})();const Rse=["cardElement"],Ose=["translateMenu"],Pse=["assingPersonMenu"],Fse=["openAIMenu"];function Nse(n,t){if(1&n&&s._UZ(0,"span",21,22),2&n){const e=s.oxw();s.Udp("background",e.assignedPerson.color)}}function Lse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p",23),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.chatGPTevent(o.key))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.value," ")}}function Bse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p",23),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.translateSub(o.language))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.name," ")}}function Vse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.assignPerson(o))}),s.TgZ(1,"p",26),s._uU(2),s.qZA(),s._UZ(3,"span"),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.name),s.xp6(1),s.Udp("background",e.color)}}function Use(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Vse,4,3,"div",24),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.persons)}}function Hse(n,t){1&n&&(s.TgZ(0,"p",26),s._uU(1,"No persons created yet."),s.qZA()),2&n&&s.Udp("padding","5px")}function Gse(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"h3",26),s._uU(2),s.qZA(),s._UZ(3,"span",27),s.BQk()),2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.assignedPerson.name),s.xp6(1),s.Udp("background",e.assignedPerson.color)}}function jse(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1,"Invalid time format."),s.qZA())}const zse=function(n){return{"focused-box":n}};let qse=(()=>{class n{constructor(e){this.youtube=e,this.deleteDialogBoxEvent=new s.vpe,this.dialogEmitter=new s.vpe,this.translateSubtitle=new s.vpe,this.chatGPTEventEmmiter=new s.vpe,this.wordCount=0,this.characterCount=0,this.timingEstimation=0,this.openAIMenuMap=new Map([["translate","Translate this sentence"],["sad","Give this sentence a sadder tone"],["joyful","Give this sentence a joyful tone"],["shorter","Make this sentence shorter"],["longer","Make this sentence longer"]])}ngOnChanges(e){!0===e?.hasFocus?.currentValue&&this.cardElement?.nativeElement?.scrollIntoView({behavior:"smooth",block:"center"})}getDialogControl(e){return this.dialogGroup.get(e)}deleteDialogBox(e){this.deleteDialogBoxEvent.emit(e)}emitDialogId(e){this.dialogEmitter.emit({id:this.dialogId,control:e})}assignPerson(e){this.assignedPerson=e}translateSub(e){this.translateSubtitle.emit({lang:e,id:this.dialogId})}chatGPTevent(e){const i={dialogId:this.dialogId,text:this.dialogGroup.get("subtitles").value,action:e};i.text&&this.chatGPTEventEmmiter.emit(i)}seekToPlayer(e){this.youtube.seekToPoint(So(rh(e)))}wordCounter(){this.wordCount=this.dialogGroup.get("subtitles").value?this.dialogGroup.get("subtitles").value?.split(/\s+/).filter(i=>i.length>0)?.length:0}characterCounter(){this.characterCount=this.dialogGroup.get("subtitles").value.split(/\S/g).length-1}subtitlingTimingEstimation(){this.timingEstimation=240*this.wordCount+60*this.characterCount,this.subtitleValidityEstimation()}subtitleValidityEstimation(){const e=rh(this.getDialogControl("start_time").value),i=rh(this.getDialogControl("end_time").value),r=Math.round(1e3*(So(i)-So(e)));r-this.timingEstimation<0?(this.estimationTooltip="Based on the average reading speed of an adult, this subtitle length is too long for it's set Time range: "+r+"ms",this.estimationIcon="report"):(this.estimationTooltip="Based on the average reading speed of an adult, this subtitle length is VALID for it's set Time range: "+r+"ms",this.estimationIcon="done")}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(yv))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["dialog-content"]],viewQuery:function(i,r){if(1&i&&(s.Gf(Rse,5),s.Gf(Ose,5),s.Gf(Pse,5),s.Gf(Fse,5)),2&i){let o;s.iGM(o=s.CRH())&&(r.cardElement=o.first),s.iGM(o=s.CRH())&&(r.translateMenu=o.first),s.iGM(o=s.CRH())&&(r.assignPersonMenu=o.first),s.iGM(o=s.CRH())&&(r.openAIMenu=o.first)}},inputs:{dialogGroup:"dialogGroup",index:"index",dialogId:"dialogId",persons:"persons",supportedLanguages:"supportedLanguages",hasFocus:"hasFocus"},outputs:{deleteDialogBoxEvent:"deleteDialogBoxEvent",dialogEmitter:"dialogEmitter",translateSubtitle:"translateSubtitle",chatGPTEventEmmiter:"chatGPTEventEmmiter"},features:[s.TTD],decls:48,vars:26,consts:[[3,"ngClass"],["class","header-assigment-ribbon",3,"background",4,"ngIf"],["cardElement",""],[1,"estimation-icon",3,"matTooltip"],["mat-icon-button","","matTooltip","ChatGPT Helper",3,"matMenuTriggerFor"],["width","48","height","48","src","https://img.icons8.com/material-outlined/48/chatgpt.png","alt","chatgpt"],["openAIMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Translate this subtitle",3,"matMenuTriggerFor"],["translateMenu","matMenu"],["mat-icon-button","","matTooltip","Assign Person to this subtitle",3,"matMenuTriggerFor"],["assignPersonMenu","matMenu"],[4,"ngIf","ngIfElse"],["noPersons",""],[4,"ngIf"],["mat-icon-button","","matTooltip","Delete Subtitle",1,"delete-action",3,"click"],["subscriptSizing","dynamic"],["matInput","","type","text",3,"formControl","input","click"],["fxLayout","column","fxLayoutGap","10px","fxFlex","30"],["subscriptSizing","dynamic",3,"click"],["matInput","","matTooltip","mm:ss:ms","type","text",3,"formControl","maxlength","input"],[1,"header-assigment-ribbon"],["card",""],["mat-menu-item","",3,"click"],["class","person-menu-item","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"person-menu-item",3,"click"],[1,"mat-typography"],[1,"person-item"]],template:function(i,r){if(1&i&&(s.TgZ(0,"mat-card",0),s.YNc(1,Nse,2,2,"span",1),s.TgZ(2,"mat-card-header")(3,"mat-card-title",null,2),s._uU(5),s.qZA(),s.TgZ(6,"mat-icon",3),s._uU(7),s.qZA(),s.TgZ(8,"button",4),s._UZ(9,"img",5),s.qZA(),s.TgZ(10,"mat-menu",null,6),s.YNc(12,Lse,2,1,"p",7),s.ALo(13,"keyvalue"),s.qZA(),s.TgZ(14,"button",8)(15,"mat-icon"),s._uU(16,"g_translate"),s.qZA()(),s.TgZ(17,"mat-menu",null,9),s.YNc(19,Bse,2,1,"p",7),s.qZA(),s.TgZ(20,"button",10)(21,"mat-icon"),s._uU(22,"person"),s.qZA()(),s.TgZ(23,"mat-menu",null,11),s.YNc(25,Use,2,1,"ng-container",12),s.YNc(26,Hse,2,2,"ng-template",null,13,s.W1O),s.qZA(),s.YNc(28,Gse,4,3,"ng-container",14),s.TgZ(29,"button",15),s.NdJ("click",function(){return r.deleteDialogBox(r.dialogId)}),s.TgZ(30,"mat-icon"),s._uU(31,"delete"),s.qZA()()(),s.TgZ(32,"mat-card-content")(33,"mat-form-field",16)(34,"textarea",17),s.NdJ("input",function(){return r.wordCounter(),r.characterCounter(),r.subtitlingTimingEstimation()})("click",function(){return r.seekToPlayer(r.dialogGroup.get("start_time").value)}),s.qZA()(),s.TgZ(35,"div",18)(36,"mat-form-field",19),s.NdJ("click",function(){return r.seekToPlayer(r.dialogGroup.get("start_time").value)}),s.TgZ(37,"mat-label"),s._uU(38,"From:"),s.qZA(),s.TgZ(39,"input",20),s.NdJ("input",function(){return r.emitDialogId("start_time"),r.subtitlingTimingEstimation()}),s.qZA()(),s.TgZ(40,"mat-form-field",19),s.NdJ("click",function(){return r.seekToPlayer(r.dialogGroup.get("end_time").value)}),s.TgZ(41,"mat-label"),s._uU(42,"To:"),s.qZA(),s.TgZ(43,"input",20),s.NdJ("input",function(){return r.emitDialogId("end_time"),r.subtitlingTimingEstimation()}),s.qZA(),s.YNc(44,jse,2,0,"mat-error",14),s.qZA()()(),s.TgZ(45,"mat-card-subtitle")(46,"span"),s._uU(47),s.qZA()()()),2&i){const o=s.MAs(11),a=s.MAs(18),d=s.MAs(24),f=s.MAs(27);s.Q6J("ngClass",s.VKq(24,zse,r.hasFocus)),s.xp6(1),s.Q6J("ngIf",r.assignedPerson),s.xp6(4),s.hij("Subtitle ",r.index+1,""),s.xp6(1),s.Q6J("matTooltip",r.estimationTooltip),s.xp6(1),s.Oqu(r.estimationIcon),s.xp6(1),s.Q6J("matMenuTriggerFor",o),s.xp6(4),s.Q6J("ngForOf",s.lcZ(13,22,r.openAIMenuMap)),s.xp6(2),s.Q6J("matMenuTriggerFor",a),s.xp6(5),s.Q6J("ngForOf",r.supportedLanguages),s.xp6(1),s.Q6J("matMenuTriggerFor",d),s.xp6(5),s.Q6J("ngIf",r.persons)("ngIfElse",f),s.xp6(3),s.Q6J("ngIf",r.assignedPerson),s.xp6(6),s.Q6J("formControl",r.getDialogControl("subtitles")),s.xp6(5),s.Q6J("formControl",r.getDialogControl("start_time"))("maxlength",9),s.xp6(4),s.Q6J("formControl",r.getDialogControl("end_time"))("maxlength",9),s.xp6(1),s.Q6J("ngIf",r.getDialogControl("end_time").hasError("invalidTimeFormat")),s.xp6(3),s.lnq("",r.wordCount," words, ",r.characterCount," characters, ",r.timingEstimation," ms estimated reading time.")}},dependencies:[Vt,Wr,ci,ic,ll,LE,Rd,Ed,hl,c0,e0,gv,gc,_c,vL,bL,wL,U4,Hx,Gx,YN,yz,cI,dL,Ev,hL,Uu],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{flex-grow:1;padding-right:15px}.mat-mdc-card-content[_ngcontent-%COMP%]{display:flex;min-width:600px}.mat-mdc-card-header[_ngcontent-%COMP%]{padding:8px 16px;align-items:center;gap:15px}.delete-action[_ngcontent-%COMP%]{margin-left:auto}.mat-mdc-card[_ngcontent-%COMP%]{margin-bottom:15px}.mat-mdc-card-subtitle[_ngcontent-%COMP%]{padding-top:4px;padding-left:16px;padding-bottom:4px}.mat-icon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:24px}.span-color[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:24px;height:24px}.person-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center}.person-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;border-radius:5px}.person-item[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:5px}.header-assigment-ribbon[_ngcontent-%COMP%]{display:inline-block;width:100%;height:4px;border-radius:90%}.mat-typography[_ngcontent-%COMP%]{margin-bottom:0}.focused-box[_ngcontent-%COMP%]{border:2px solid #4d68f147}"]})}return n})(),$se=(()=>{class n{constructor(){this.fileContent$=new S(null),this.fileContentEmit=new s.vpe}selectFile(e){let i=e.target.files[0];this.readFile(i).then(r=>{this.fileContent$.next(r),this.fileContentEmit.emit({data:this.fileContent$,format:i.name.split(".")[1]})})}readFile(e){var i=this;return(0,be.Z)(function*(){return new Promise((r,o)=>{const a=new FileReader;if(a.onload=d=>(i.fileContent$.next(a.result),r(d.target.result)),a.onerror=()=>(console.error(`FileReader failed on file ${e.name}.`),o(null)),!e)return console.error("No file to read."),o(null);a.readAsText(e)})})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["import-button"]],inputs:{acceptedFiles:"acceptedFiles"},outputs:{fileContentEmit:"fileContentEmit"},decls:5,vars:1,consts:[["mat-icon-button","","color","primary","matTooltip","Import subtitles",3,"click"],["hidden","true","id","uploadFile","type","file",3,"accept","change"],["uploadFile",""]],template:function(i,r){if(1&i){const o=s.EpF();s.TgZ(0,"button",0),s.NdJ("click",function(){s.CHM(o);const d=s.MAs(4);return s.KtG(d.click())}),s.TgZ(1,"mat-icon"),s._uU(2,"arrow_upward"),s.qZA()(),s.TgZ(3,"input",1,2),s.NdJ("change",function(d){return r.selectFile(d)}),s.qZA()}2&i&&(s.xp6(3),s.Q6J("accept",r.acceptedFiles))},dependencies:[gv,gc,_c]})}return n})(),Yse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["sd-loader"]],decls:4,vars:0,consts:[[1,"spinner"],[1,"visually-hidden"]],template:function(i,r){1&i&&(s.TgZ(0,"div",0)(1,"h3")(2,"span",1),s._uU(3,"hidden"),s.qZA()()())},styles:['.spinner[_ngcontent-%COMP%]{min-height:75px}.spinner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:relative}.spinner[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{content:"";box-sizing:border-box;position:absolute;top:50px;left:50%;width:40px;height:40px;margin-top:-20px;margin-left:-20px;border-radius:50%;border:4px solid #b1b1b2;border-top-color:#323e48;animation:_ngcontent-%COMP%_spinner 1s linear infinite}@keyframes _ngcontent-%COMP%_spinner{to{transform:rotate(360deg)}}.visually-hidden[_ngcontent-%COMP%]{clip:rect(1px,1px,1px,1px)!important;border:0!important;clip-path:inset(50%)!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;white-space:nowrap!important;width:1px!important}']})}return n})();const Zse=["translateMenu"],Wse=["scrollContainer"];function Kse(n,t){1&n&&s._UZ(0,"sd-loader")}function Qse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p",17),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw(2);return s.KtG(a.translateAllSubtitles(o.language))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.name," ")}}function Jse(n,t){if(1&n&&(s.YNc(0,Qse,2,1,"p",16),s.ALo(1,"async")),2&n){const e=s.oxw();let i;s.Q6J("ngForOf",null==(i=s.lcZ(1,1,e.supportedLanguages$))||null==i.data?null:i.data.languages)}}function Xse(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"dialog-content",18),s.NdJ("translateSubtitle",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.translateSingleSubtitle(r))})("chatGPTEventEmmiter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.chatGPTEventDispatcher(r))})("deleteDialogBoxEvent",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.deleteDialogBox(r))})("dialogEmitter",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.timeRangeValidation(r))}),s.ALo(1,"async"),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();let o;s.Q6J("dialogGroup",r.getDialogControl(e.id))("index",i)("dialogId",e.id)("persons",r.persons)("hasFocus",r.focusedDialogBox===e.id)("supportedLanguages",null==(o=s.lcZ(1,6,r.supportedLanguages$))||null==o.data?null:o.data.languages)}}let Y4=(()=>{class n{constructor(e,i,r,o,a,d,f,m,v){this.fb=e,this.fileService=i,this.storage=r,this.google=o,this.dialog=a,this.ttsService=d,this.openai=f,this.youtube=m,this.snackbar=v,this.dialogBoxId=1,this._supportedLanguages$=new S(null),this._translatedText$=new S(null),this.subtitles$=new S(null),this.initSubtitles=!0,this.subtitleUploadEmitter=new s.vpe,this.formStatusChange=new s.vpe,this.navigateTTS=new s.vpe,this.captionsPreviewDispatch=new s.vpe,this.dialogBoxes=[{id:1,text:"",start_time:"",end_time:""}]}get supportedLanguages$(){return this._supportedLanguages$}ngOnInit(){this.initSubtitles&&this.storage.getSubtitleURL(this.videoId,this.isoCode,this.subtitleName).pipe(Ct(1)).subscribe(e=>{e&&this.storage.fetchSubtitleFile(e).subscribe(i=>{this.subtitles$.next(i),this.handleFileUpload({data:this.subtitles$,format:"sbv"})})}),this.form=this.fb.group({"1-dialogBox":this.fb.group({subtitles:this.fb.control(""),start_time:this.fb.control("00:00.000"),end_time:this.fb.control("00:02.000")})}),this.form.statusChanges.pipe().subscribe(()=>{const e=this.form.dirty;e&&this.formStatusChange.emit(e)}),this.youtube.getCurrentTime().pipe(eb(1)).subscribe(e=>{const i=this.dialogBoxes.find(r=>{const o=this.getSecondsFromTime(this.form.get(r.id+"-dialogBox").get("start_time").value),a=this.getSecondsFromTime(this.form.get(r.id+"-dialogBox").get("end_time").value);return e>=o&&e<=a});i?(this.setFocusToDialogBoxItem(i.id),this.youtube.updateCurrentCaption(this.form.get(i.id+"-dialogBox").get("subtitles").value)):(this.focusedDialogBox=void 0,this.youtube.updateCurrentCaption(null))}),this.getSupportedLanguages()}setFocusToDialogBoxItem(e){this.focusedDialogBox=e}getDialogControl(e){return this.form.get(e+"-dialogBox")}addDialogBox(e=null){this.dialogBoxId++,this.form.addControl(this.dialogBoxId+"-dialogBox",this.fb.group({subtitles:this.fb.control(e?.subtitleText?e.subtitleText:""),start_time:this.fb.control(e?.start_time?e.start_time:this.setStartTimeControlValue()),end_time:this.fb.control(e?.end_time?e.end_time:this.setEndTimeControlValue())})),this.dialogBoxes.push({id:this.dialogBoxId,text:e?.subtitleText,start_time:e?.start_time,end_time:e?.end_time})}batchAddDialogBox(){this.dialog.open(Tie).afterClosed().pipe(Ct(1)).subscribe(e=>{if(e>0){const i=this.parseISOtoSeconds(this.videoDuration),r=Object.keys(this.form.controls);for(let a=parseInt(r[r.length-1].split("-")[0]);a<i/e;a++)this.addDialogBox({start_time:this.form.get(a+"-dialogBox").get("end_time").value,end_time:this.intervalAddition(this.form.get(a+"-dialogBox").get("end_time").value,e),subtitleText:""})}})}intervalAddition(e,i){const[r,o]=e.split(":"),[a,d]=o.split("."),m=1e3*(60*parseInt(r)+parseInt(a))+parseInt(d)+1e3*i,v=Math.floor(m/6e4),D=Math.floor(m%6e4/1e3),A=m%1e3;return`${String(v).padStart(2,"0")}:${String(D).padStart(2,"0")}.${String(A).padStart(3,"0")}`}parseISOtoSeconds(e){let i=e.match(/PT(\d+H)?(\d+M)?(\d+S)?/);return i=i.slice(1).map(function(d){if(null!=d)return d.replace(/\D/,"")}),3600*(parseInt(i[0])||0)+60*(parseInt(i[1])||0)+(parseInt(i[2])||0)}deleteDialogBox(e){this.form.removeControl(e+"-dialogBox"),this.dialogBoxes=this.dialogBoxes.filter(i=>i.id!==e)}setStartTimeControlValue(){if(this.dialogBoxes.length){const e=Object.keys(this.form.controls).length-1,r=Object.keys(this.form.controls)[e].toString();return this.form?.get(r)?.get("end_time")?.value}return"00:00.000"}setEndTimeControlValue(){if(this.dialogBoxes.length){const e=Object.keys(this.form.controls).length-1,r=Object.keys(this.form.controls)[e].toString(),o=this.form?.get(r)?.get("end_time")?.value,[a,d]=o.split("."),[f,m]=a.split(":");let v=parseInt(m)+2,D=parseInt(f);return v>=60&&(D+=Math.floor(v/60),v%=60),`${D.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}.${d}`}return"00:02.000"}timeRangeValidation(e){const i=this.form.get(e.id-1+"-dialogBox"),r=this.form.get(e.id+"-dialogBox"),o=this.form.get(e.id+1+"-dialogBox"),a=rh(r.get("start_time").value),d=rh(r.get("end_time").value);"start_time"===e.control?this.startTimeValidation(i,r,a,d):this.endTimeValidation(o,r,a,d)}startTimeValidation(e,i,r,o){So(r)>So(o)?i.get("start_time").setErrors({higherStartTime:!0}):i.get("start_time").setErrors(null),e&&(So(rh(e?.get("end_time")?.value))>So(r)?(i.get("start_time").setErrors({higherPrevEndTime:!0}),e.get("end_time").setErrors({higherPrevEndTime:!0})):So(r)>So(o)?i.get("start_time").setErrors({higherStartTime:!0}):(i.get("start_time").setErrors(null),e.get("end_time").setErrors(null)),i.get("start_time").markAsTouched(),e.get("end_time").markAsTouched())}endTimeValidation(e,i,r,o){So(r)>So(o)?i.get("end_time").setErrors({higherStartTime:!0}):i.get("end_time").setErrors(null),e&&(So(rh(e?.get("start_time")?.value))<So(o)?e.get("start_time").setErrors({higherPrevEndTime:!0}):e.get("start_time").setErrors(null),i.get("end_time").markAsTouched(),e.get("start_time").markAsTouched())}getSecondsFromTime(e){const[i,r]=e.split(":").map(parseFloat);return 60*i+r}translateAllSubtitles(e){let i={q:[],target:e},r={controlsName:[]};Object.keys(this.form.controls).forEach(o=>{const a=this.form.get(o).get("subtitles").value;a&&(i.q.push(a),r.controlsName.push(o))}),i.q&&this.google.translate(i).subscribe(o=>{this._translatedText$.next(o);let a=this._translatedText$.value.data.translations;if(a)for(let d=0;d<r.controlsName.length;d++)this.form.get(r.controlsName[d]).get("subtitles").setValue(a[d].translatedText)})}translateSingleSubtitle(e){let i={q:[this.form.get(e.id+"-dialogBox").get("subtitles").value],target:e.lang};this.google.translate(i).subscribe(r=>{r&&this.form.get(e.id+"-dialogBox").get("subtitles").setValue(r.data.translations[0].translatedText)})}chatGPTEventDispatcher(e){this.openai.getDataFromOpenAI(e).subscribe(i=>{i&&this.dialog.open(Sie,{width:"700px",data:{current_text:this.form.get(e.dialogId+"-dialogBox").get("subtitles").value,new_text:i}}).afterClosed().pipe(Ct(1)).subscribe(r=>{r&&this.form.get(e.dialogId+"-dialogBox").get("subtitles").setValue(i)})})}getSupportedLanguages(){this.google.getSupportedLanguages().pipe((0,Fn.b)(()=>{this.loading=!0})).subscribe(e=>{this._supportedLanguages$.next(e),this.loading=!1})}openPersonCreationModal(){this.dialog.open(Eie,{width:"500px",data:this.persons}).afterClosed().subscribe(e=>{e&&(this.persons=e)})}uploadSubtitle(){this.subtitleUploadEmitter.emit(this.createSubtitleBlob())}createSubtitleBlob(){let e="";return Object.keys(this.form.controls).forEach(r=>{const o=this.form.get(r);e+=`${"00:"+o.get("start_time").value},${"00:"+o.get("end_time").value}\n${o.get("subtitles").value}\n\n`}),new Blob([e],{type:"text/sbv;charset=utf8"})}downloadSubtitle(){const e=this.createSubtitleBlob(),i=window.URL.createObjectURL(e),r=document.createElement("a");r.href=i,r.download="subtitles.sbv",document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(i),document.body.removeChild(r)}handleFileUpload(e){let i=e.data.value,r=[];switch(e.format){case"sbv":r=this.fileService.cleanMultilineString(i);break;case"txt":r=this.fileService.youtubeTranscriptParse(i);break;default:this.snackbar.open("Format not supported!","DISMISS",{duration:5e3})}if(r.length){Object.keys(this.form.controls).forEach(o=>{this.form.removeControl(o)}),this.dialogBoxes=[],this.dialogBoxId=0;for(let o of r)this.addDialogBox(o)}}generateSpeechInit(){this.dialog.open(Die,{width:"500px"}).afterClosed().subscribe(e=>{if(e){let i=[];Object.keys(this.form.controls).forEach(r=>{const o=rh(this.form.get(r).get("start_time").value),a=rh(this.form.get(r).get("end_time").value),d={text:this.form.get(r).get("subtitles").value,totalDuration:Math.floor(1e3*(So(a)-So(o)))+"ms",start_time:this.form.get(r).get("start_time").value,end_time:this.form.get(r).get("end_time").value};i.push(d)}),this.ttsService.set_initContentSSML(i),this.navigateTTS.emit()}})}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(Z_),s.Y36(l4),s.Y36(bv),s.Y36(_I),s.Y36(lp),s.Y36(h4),s.Y36(Aie),s.Y36(yv),s.Y36(rI))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["dialog-component"]],viewQuery:function(i,r){if(1&i&&(s.Gf(Zse,5),s.Gf(Wse,5)),2&i){let o;s.iGM(o=s.CRH())&&(r.translateMenu=o.first),s.iGM(o=s.CRH())&&(r.scrollContainer=o)}},inputs:{initSubtitles:"initSubtitles",subtitleName:"subtitleName",videoId:"videoId",isoCode:"isoCode",videoDuration:"videoDuration"},outputs:{subtitleUploadEmitter:"subtitleUploadEmitter",formStatusChange:"formStatusChange",navigateTTS:"navigateTTS",captionsPreviewDispatch:"captionsPreviewDispatch"},features:[s._Bn([l4,_I,bv])],decls:32,vars:5,consts:[[1,"dialog-wrapper"],[1,"button-wrapper"],["mat-icon-button","","color","primary","matTooltip","Add Dialog Box",3,"click"],["mat-icon-button","","color","primary","matTooltip","Batch Add Dialog Boxes",3,"click"],["mat-icon-button","","color","primary","matTooltip","Translate all subtitles",3,"matMenuTriggerFor"],["translateMenu","matMenu"],[4,"ngIf","ngIfElse"],["loadingComplete",""],[3,"acceptedFiles","fileContentEmit"],["mat-icon-button","","color","primary","matTooltip","Download Subtitles",3,"click"],["mat-icon-button","","color","primary","matTooltip","Save",3,"click"],["mat-icon-button","","color","primary","matTooltip","Add Person (Character/Voice actor) & assign them to subtitles",3,"click"],["mat-icon-button","","color","primary","matTooltip","Generete Voices/Speech for your subtitles",3,"click"],[1,"main-content_wrapper"],["scrollContainer",""],[3,"dialogGroup","index","dialogId","persons","hasFocus","supportedLanguages","translateSubtitle","chatGPTEventEmmiter","deleteDialogBoxEvent","dialogEmitter",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[3,"dialogGroup","index","dialogId","persons","hasFocus","supportedLanguages","translateSubtitle","chatGPTEventEmmiter","deleteDialogBoxEvent","dialogEmitter"]],template:function(i,r){if(1&i&&(s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return r.addDialogBox()}),s.TgZ(3,"mat-icon"),s._uU(4,"add"),s.qZA()(),s.TgZ(5,"button",3),s.NdJ("click",function(){return r.batchAddDialogBox()}),s.TgZ(6,"mat-icon"),s._uU(7,"library_add"),s.qZA()(),s.TgZ(8,"button",4)(9,"mat-icon"),s._uU(10,"g_translate"),s.qZA()(),s.TgZ(11,"mat-menu",null,5),s.YNc(13,Kse,1,0,"sd-loader",6),s.YNc(14,Jse,2,3,"ng-template",null,7,s.W1O),s.qZA(),s.TgZ(16,"import-button",8),s.NdJ("fileContentEmit",function(a){return r.handleFileUpload(a)}),s.qZA(),s.TgZ(17,"button",9),s.NdJ("click",function(){return r.downloadSubtitle()}),s.TgZ(18,"mat-icon"),s._uU(19,"arrow_downward"),s.qZA()(),s.TgZ(20,"button",10),s.NdJ("click",function(){return r.uploadSubtitle()}),s.TgZ(21,"mat-icon"),s._uU(22,"save"),s.qZA()(),s.TgZ(23,"button",11),s.NdJ("click",function(){return r.openPersonCreationModal()}),s.TgZ(24,"mat-icon"),s._uU(25,"person_add"),s.qZA()(),s.TgZ(26,"button",12),s.NdJ("click",function(){return r.generateSpeechInit()}),s.TgZ(27,"mat-icon"),s._uU(28,"record_voice_over"),s.qZA()()(),s.TgZ(29,"div",13,14),s.YNc(31,Xse,2,8,"dialog-content",15),s.qZA()()),2&i){const o=s.MAs(12),a=s.MAs(15);s.xp6(8),s.Q6J("matMenuTriggerFor",o),s.xp6(5),s.Q6J("ngIf",r.loading)("ngIfElse",a),s.xp6(3),s.Q6J("acceptedFiles",".sbv, .srt, .txt"),s.xp6(15),s.Q6J("ngForOf",r.dialogBoxes)}},dependencies:[Wr,ci,gv,gc,_c,dL,Ev,hL,qse,$se,Yse,Qr],styles:[".dialog-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main-content_wrapper[_ngcontent-%COMP%]{overflow-y:auto;height:65vh;overflow-x:visible}.button-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:20px;padding-bottom:20px;justify-content:center}.button-wrapper[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:none}"]})}return n})(),eoe=(()=>{class n{constructor(e,i,r,o,a){this.route=e,this.router=i,this.storageService=r,this.youtube=o,this.dialog=a,this.videoDetails$=new S(null),this.videoDuration=new S(""),this.loading$=new S(null),this.isFormDirty=!1,this.storage=(0,s.f3M)(lL)}ngOnInit(){this.videoId=this.route.snapshot.paramMap.get("id"),this.currentLanguage=this.route.snapshot.paramMap.get("languageCode"),this.fileName=this.route.snapshot.paramMap.get("name"),this.youtube.getVideoDetails(this.videoId).pipe(Ct(1),(0,Fn.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoDetails$.next(e),this.videoDuration.next(this.videoDetails$.value[0].contentDetails.duration),this.loading$.next(!1))})}setFormDirtyStatus(e){this.isFormDirty=e}uploadToFirestorage(e){this.isFormDirty=!1,this.storageService.createFirestorageRef(this.storage,this.currentLanguage,e,this.videoId,this.fileName)}navigateTTS(){this.router.navigate(["generate-tts",this.videoId,this.currentLanguage])}navigateToDetails(){this.isFormDirty?this.dialog.open(o4,{width:"500px"}).afterClosed().subscribe(e=>{e&&this.router.navigate(["details",this.videoId])}):this.router.navigate(["details",this.videoId])}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(gl),s.Y36(ir),s.Y36(bv),s.Y36(yv),s.Y36(lp))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["subtitling-container"]],features:[s._Bn([bv])],decls:10,vars:10,consts:[[1,"container"],[1,"dashboard-navigation"],["mat-mini-fab","","color","primary","matTooltip","Back to Details",1,"back-button",3,"click"],[1,"wrapper"],[3,"videoId","captionsPreview"],[3,"isoCode","videoId","subtitleName","videoDuration","subtitleUploadEmitter","navigateTTS","formStatusChange"]],template:function(i,r){1&i&&(s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return r.navigateToDetails()}),s.TgZ(3,"mat-icon"),s._uU(4,"arrow_back"),s.qZA()()(),s.TgZ(5,"div",3),s._UZ(6,"video-player",4),s.ALo(7,"async"),s.TgZ(8,"dialog-component",5),s.NdJ("subtitleUploadEmitter",function(a){return r.uploadToFirestorage(a)})("navigateTTS",function(){return r.navigateTTS()})("formStatusChange",function(a){return r.setFormDirtyStatus(a)}),s.ALo(9,"async"),s.qZA()()()),2&i&&(s.xp6(6),s.Q6J("videoId",r.videoId)("captionsPreview",s.lcZ(7,6,r.youtube.getCurrentCaption())),s.xp6(2),s.Q6J("isoCode",r.currentLanguage)("videoId",r.videoId)("subtitleName",r.fileName)("videoDuration",s.lcZ(9,8,r.videoDuration)))},dependencies:[LN,gc,_c,a4,Y4,Qr],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap;gap:40px;justify-content:space-around;padding-top:20px}.back-button[_ngcontent-%COMP%]{top:5%;left:3%}.dashboard-navigation[_ngcontent-%COMP%]{padding-top:15px}video-player[_ngcontent-%COMP%]{flex-grow:.8}"]})}return n})(),Z4=(()=>{class n{constructor(e){this.firestore=e}getSubtitleLanguages(e,i){const r=this.firestore.collection("users").doc(e).collection("videos").doc(i);return r.collection("subtitleLanguages").snapshotChanges().pipe(_n(o=>o.length?gs(o.map(a=>r.collection("subtitleLanguages").doc(a.payload.doc.id).collection("subtitles").snapshotChanges().pipe((0,Ke.U)(d=>d.map(f=>f.payload.doc.data()))))):j([])),(0,Ke.U)(o=>o.flat()))}requestCommunityHelp(e,i,r,o,a,d){const f=this.firestore.collection("helpRequests"),m={requestedBy:e.displayName,requestedByID:e.uid,timestamp:Date.now(),videoId:i,language:r,status:"open",iso:o,filename:a,format:d};f.add(m)}addSubtitle(e,i,r,o,a){const d=this.firestore.doc(`users/${r}/videos/${e}/subtitleLanguages/${i.language}`);d.set({humanReadable:i.name,ISOcode:i.language}).then(()=>{const m=d.collection("/subtitles").doc(o),v={lastUpdated:Date.now(),fileName:o,fullFileName:`${o}.${a}`,format:a,language:i.name,iso:i.language};m.set(v)})}static#e=this.\u0275fac=function(i){return new(i||n)(s.LFG(Ox))};static#t=this.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac})}return n})();function CL(n){return n&&"function"==typeof n.connect&&!(n instanceof W_)}class W4{applyChanges(t,e,i,r,o){t.forEachOperation((a,d,f)=>{let m,v;if(null==a.previousIndex){const D=i(a,d,f);m=e.createEmbeddedView(D.templateRef,D.context,D.index),v=1}else null==f?(e.remove(d),v=3):(m=e.get(d),e.move(m,f),v=2);o&&o({context:m?.context,operation:v,record:a})})}detach(){}}class toe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ze.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const Qx=new s.OlP("_ViewRepeater"),noe=["trigger"],ioe=["panel"];function roe(n,t){if(1&n&&(s.TgZ(0,"span",10),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.placeholder)}}function soe(n,t){if(1&n&&(s.TgZ(0,"span",14),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.triggerValue)}}function ooe(n,t){1&n&&s.Hsn(0,0,["*ngSwitchCase","true"])}function aoe(n,t){if(1&n&&(s.TgZ(0,"span",11),s.YNc(1,soe,2,1,"span",12),s.YNc(2,ooe,1,0,"ng-content",13),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngSwitch",!!e.customTrigger),s.xp6(2),s.Q6J("ngSwitchCase",!0)}}function loe(n,t){if(1&n){const e=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"div",15,16),s.NdJ("@transformPanel.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))}),s.Hsn(2,1),s.qZA()}if(2&n){const e=s.oxw();s.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),s.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),s.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const coe=[[["mat-select-trigger"]],"*"],uoe=["mat-select-trigger","*"],doe={transformPanelWrap:As("transformPanelWrap",[Xr("* => void",mo("@transformPanel",[tu()],{optional:!0}))]),transformPanel:As("transformPanel",[zi("void",In({opacity:0,transform:"scale(1, 0.8)"})),Xr("void => showing",mr("120ms cubic-bezier(0, 0, 0.2, 1)",In({opacity:1,transform:"scale(1, 1)"}))),Xr("* => void",mr("100ms linear",In({opacity:0})))])};let Q4=0;const J4=new s.OlP("mat-select-scroll-strategy"),foe=new s.OlP("MAT_SELECT_CONFIG"),poe={provide:J4,deps:[ra],useFactory:function hoe(n){return()=>n.scrollStrategies.reposition()}},moe=new s.OlP("MatSelectTrigger");class goe{constructor(t,e){this.source=t,this.value=e}}const _oe=cb(cV(C_(ub(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Ze.x}}))));let yoe=(()=>{class n extends _oe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(R_.required)??!1}set required(e){this._required=Dt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Dt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Dt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Ts(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,o,a,d,f,m,v,D,A,R,B,q){super(a,o,f,m,D),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=v,this._liveAnnouncer=B,this._defaultOptions=q,this._panelOpen=!1,this._compareWith=(W,ce)=>W===ce,this._uid="mat-select-"+Q4++,this._triggerAriaLabelledBy=null,this._destroy=new Ze.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Q4++,this._panelDoneAnimatingStream=new Ze.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=kt(()=>{const W=this.options;return W?W.changes.pipe(tr(W),_n(()=>(0,Ai.T)(...W.map(ce=>ce.onSelectionChange)))):this._ngZone.onStable.pipe(Ct(1),_n(()=>this.optionSelectionChanges))}),this.openedChange=new s.vpe,this._openedStream=this.openedChange.pipe(Nn(W=>W),(0,Ke.U)(()=>{})),this._closedStream=this.openedChange.pipe(Nn(W=>!W),(0,Ke.U)(()=>{})),this.selectionChange=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=q?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=q.typeaheadDebounceInterval),this._scrollStrategyFactory=R,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(A)||0,this.id=this.id}ngOnInit(){this._selectionModel=new toe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ol(),Nt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Nt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(tr(null),Nt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&o&&!Sa(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;a.onKeydown(e);const f=this.selected;f&&d!==f&&this._liveAnnouncer.announce(f.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,a=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Sa(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(f=>!f.disabled&&!f.selected);this.options.forEach(f=>{f.disabled||(d?f.select():f.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ct(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new o1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Ai.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Nt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ai.T)(...this.options.map(i=>i._stateChanges)).pipe(Nt(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(cv),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(tm),s.Y36(s.SBq),s.Y36(Pn,8),s.Y36(bm,8),s.Y36(mu,8),s.Y36(df,8),s.Y36(Ms,10),s.$8M("tabindex"),s.Y36(J4),s.Y36(pE),s.Y36(foe,8))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&(s.Gf(noe,5),s.Gf(ioe,5),s.Gf(wj,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.trigger=r.first),s.iGM(r=s.CRH())&&(i.panel=r.first),s.iGM(r=s.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[s.qOj,s.TTD]}),n})(),voe=(()=>{class n extends yoe{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Nt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,o=function sm(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}(e,this.options,this.optionGroups),a=i._getHostElement();r.scrollTop=0===e&&1===o?0:function _b(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new goe(this,e)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof RN?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Dt(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,moe,5),s.Suo(r,S_,5),s.Suo(r,gb,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.customTrigger=o.first),s.iGM(o=s.CRH())&&(i.options=o),s.iGM(o=s.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(s.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),s.ekj("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[s._Bn([{provide:Sb,useExisting:n},{provide:F1,useExisting:n}]),s.qOj],ngContentSelectors:uoe,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(s.F$t(coe),s.TgZ(0,"div",0,1),s.NdJ("click",function(){return i.toggle()}),s.TgZ(3,"div",2),s.YNc(4,roe,2,1,"span",3),s.YNc(5,aoe,3,2,"span",4),s.qZA(),s.TgZ(6,"div",5)(7,"div",6),s.O4$(),s.TgZ(8,"svg",7),s._UZ(9,"path",8),s.qZA()()()(),s.YNc(10,loe,3,9,"ng-template",9),s.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=s.MAs(1);s.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),s.xp6(3),s.Q6J("ngSwitch",i.empty),s.uIk("id",i._valueId),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1),s.xp6(5),s.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[Vt,oo,as,ui,wj,RN],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[doe.transformPanel]},changeDetection:0}),n})(),boe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[poe],imports:[hr,mv,om,Tn,uv,hf,om,Tn]}),n})();const woe=function(n,t){return{name:n,format:t}};let xoe=(()=>{class n{constructor(e,i){this.data=e,this.fb=i}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(JA),s.Y36(Z_))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-save-subtitle-dialog"]],decls:29,vars:8,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"input-container"],["autofocus","","matInput","","type","text"],["name",""],[1,"format-selector"],["format",""],[3,"value"],["align","end"],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(i,r){if(1&i&&(s.TgZ(0,"h2",0),s._uU(1,"Set a name."),s.qZA(),s.TgZ(2,"mat-dialog-content",1)(3,"h3",1),s._uU(4,"Language: "),s.TgZ(5,"b"),s._uU(6),s.qZA()(),s.TgZ(7,"h3"),s._uU(8,"Setting a name will help you identify your subtitles."),s.qZA()(),s.TgZ(9,"div",2)(10,"mat-form-field")(11,"mat-label"),s._uU(12,"Choose name"),s.qZA(),s._UZ(13,"input",3,4),s.qZA(),s.TgZ(15,"mat-form-field",5)(16,"mat-label"),s._uU(17,"Format"),s.qZA(),s.TgZ(18,"mat-select",null,6)(20,"mat-option",7),s._uU(21," SBV "),s.qZA(),s.TgZ(22,"mat-option",7),s._uU(23," SRT "),s.qZA()()()(),s.TgZ(24,"mat-dialog-actions",8)(25,"button",9),s._uU(26,"Cancel"),s.qZA(),s.TgZ(27,"button",10),s._uU(28,"Save"),s.qZA()()),2&i){const o=s.MAs(14),a=s.MAs(19);s.xp6(6),s.Oqu(r.data),s.xp6(14),s.Q6J("value","sbv"),s.xp6(2),s.Q6J("value","srt"),s.xp6(3),s.Q6J("mat-dialog-close",null),s.xp6(2),s.Q6J("mat-dialog-close",s.WLB(5,woe,o.value,a.value))}},dependencies:[ic,ll,Rd,bl,Eg,Dg,Sg,Tg,voe,S_],styles:[".mat-mdc-form-field{flex-grow:1}.input-container[_ngcontent-%COMP%]{padding-left:24px;padding-right:24px;display:flex}.format-selector[_ngcontent-%COMP%]{width:20%;padding-left:10px}.mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding-right:25px}"]})}return n})();const Eoe=[[["caption"]],[["colgroup"],["col"]]],Doe=["caption","colgroup, col"];function EL(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Dt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const Tv=new s.OlP("CDK_TABLE");let Av=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Iv=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),CI=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Ioe{}const Moe=EL(Ioe);let lh=(()=>{class n extends Moe{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Dt(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Tv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Av,5),s.Suo(r,Iv,5),s.Suo(r,CI,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class DL{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let SL=(()=>{class n extends DL{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(lh),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),TL=(()=>{class n extends DL{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(lh),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class e5{constructor(){this.tasks=[],this.endTasks=[]}}const AL=new s.OlP("_COALESCED_STYLE_SCHEDULER");let t5=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ze.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new e5,this._getScheduleObservable().pipe(Nt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new e5;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,U.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ct(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),IL=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Jx?e.headerCell.template:this instanceof Xx?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class koe extends IL{}const Roe=EL(koe);let Jx=(()=>{class n extends Roe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Tv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class Ooe extends IL{}const Poe=EL(Ooe);let Xx=(()=>{class n extends Poe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Tv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),EI=(()=>{class n extends IL{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(Tv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),ch=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),ML=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[ch],encapsulation:2}),n})(),RL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[ch],encapsulation:2}),n})(),DI=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const n5=["top","bottom","left","right"];class Foe{constructor(t,e,i,r,o=!0,a=!0,d){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(A=>A)&&!i.some(A=>A))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],a=o.children.length,d=this._getCellWidths(o,r),f=this._getStickyStartColumnPositions(d,e),m=this._getStickyEndColumnPositions(d,i),v=e.lastIndexOf(!0),D=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const A="rtl"===this.direction,R=A?"right":"left",B=A?"left":"right";for(const q of t)for(let W=0;W<a;W++){const ce=q.children[W];e[W]&&this._addStickyStyle(ce,R,f[W],W===v),i[W]&&this._addStickyStyle(ce,B,m[W],W===D)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===v?[]:d.slice(0,v+1).map((q,W)=>e[W]?q:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===D?[]:d.slice(D).map((q,W)=>i[W+D]?q:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,a=[],d=[],f=[];for(let v=0,D=0;v<r.length;v++){if(!o[v])continue;a[v]=D;const A=r[v];f[v]=this._isNativeHtmlTable?Array.from(A.children):[A];const R=A.getBoundingClientRect().height;D+=R,d[v]=R}const m=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let v=0;v<r.length;v++){if(!o[v])continue;const D=a[v],A=v===m;for(const R of f[v])this._addStickyStyle(R,i,D,A)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:d,offsets:a,elements:f}):this._positionListener?.stickyFooterRowsUpdated({sizes:d,offsets:a,elements:f})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);n5.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of n5)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const OL=new s.OlP("CDK_SPL");let SI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),TI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),AI=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),II=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),MI=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Dt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Dt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,a,d,f,m,v,D,A,R){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=f,this._viewRepeater=m,this._coalescedStyleScheduler=v,this._viewportRuler=D,this._stickyPositioningListener=A,this._ngZone=R,this._onDestroy=new Ze.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new S({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Nt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),CL(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Ct(1),Nt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{const a=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===o&&a.push(i[d]);this._addStickyColumnStyles(a,o)}),r.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const a=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let d=0;d<a.length;d++){let f=a[d];const m=this._cachedRenderRowsMap.get(f.data);m.has(f.rowDef)?m.get(f.rowDef).push(f):m.set(f.rowDef,[f]),e.push(f)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const d=r&&r.has(a)?r.get(a):[];if(d.length){const f=d.shift();return f.dataIndex=i,f}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),kI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=kI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=kI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=kI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,d)=>a||!!d.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],CL(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;CL(this.dataSource)?e=this.dataSource.connect(this):function Coe(n){return!!n&&(n instanceof pn.y||(0,ks.m)(n.lift)&&(0,ks.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=j(this.dataSource)),this._renderChangeSubscription=e.pipe(Nt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),o=r.map(d=>d.sticky),a=r.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const a=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))ch.mostRecentCellOutlet&&ch.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const a of r.outlets)o.appendChild(a.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Foe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:j()).pipe(Nt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),a=o.rootNodes[0];1===o.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(Pn,8),s.Y36(te),s.Y36(Vn),s.Y36(Qx),s.Y36(AL),s.Y36(cv),s.Y36(OL,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,DI,5),s.Suo(r,lh,5),s.Suo(r,EI,5),s.Suo(r,Jx,5),s.Suo(r,Xx,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(SI,7),s.Gf(TI,7),s.Gf(AI,7),s.Gf(II,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:Tv,useExisting:n},{provide:Qx,useClass:W4},{provide:AL,useClass:t5},{provide:OL,useValue:null}])],ngContentSelectors:Doe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(Eoe),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[SI,TI,AI,II],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function kI(n,t){return n.concat(Array.from(t))}let Loe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[AN]}),n})();const Boe=[[["caption"]],[["colgroup"],["col"]]],Voe=["caption","colgroup, col"];let r5=(()=>{class n extends MI{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:MI,useExisting:n},{provide:Tv,useExisting:n},{provide:AL,useClass:t5},{provide:Qx,useClass:W4},{provide:OL,useValue:null}]),s.qOj],ngContentSelectors:Voe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(Boe),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[SI,TI,AI,II],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),PL=(()=>{class n extends Av{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:Av,useExisting:n}]),s.qOj]}),n})(),FL=(()=>{class n extends Iv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:Iv,useExisting:n}]),s.qOj]}),n})(),NL=(()=>{class n extends lh{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:lh,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),LL=(()=>{class n extends SL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[s.qOj]}),n})(),BL=(()=>{class n extends TL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[s.qOj]}),n})(),s5=(()=>{class n extends Jx{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:Jx,useExisting:n}]),s.qOj]}),n})(),o5=(()=>{class n extends EI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:EI,useExisting:n}]),s.qOj]}),n})(),a5=(()=>{class n extends ML{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:ML,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[ch],encapsulation:2}),n})(),l5=(()=>{class n extends RL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[s._Bn([{provide:RL,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[ch],encapsulation:2}),n})(),Woe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Tn,Loe,Tn]}),n})();const Qoe=["translateMenu"];function Joe(n,t){if(1&n&&(s.TgZ(0,"div",24)(1,"a",25),s._UZ(2,"img",26),s.qZA(),s.TgZ(3,"div",27)(4,"span"),s._uU(5),s.ALo(6,"slice"),s.qZA()(),s.TgZ(7,"div",28)(8,"span",29),s._uU(9),s.ALo(10,"number"),s.qZA(),s._uU(11," \xb7 "),s.TgZ(12,"span"),s._uU(13),s.ALo(14,"async"),s.qZA()()()),2&n){const e=t.ngIf,i=s.oxw();s.xp6(1),s.Q6J("href","//youtube.com/watch?v="+(null==e[0]?null:e[0].id),s.LSH),s.xp6(1),s.Q6J("src",null==e[0]||null==e[0].snippet.thumbnails||null==e[0].snippet.thumbnails.medium?null:e[0].snippet.thumbnails.medium.url,s.LSH),s.xp6(3),s.hij(" ",(null==e[0]||null==e[0].snippet||null==e[0].snippet.title?null:e[0].snippet.title.length)>50?s.Dn7(6,5,null==e[0]||null==e[0].snippet?null:e[0].snippet.title,0,50)+"...":null==e[0]||null==e[0].snippet?null:e[0].snippet.title," "),s.xp6(4),s.hij("",s.lcZ(10,9,null==e[0]||null==e[0].statistics?null:e[0].statistics.viewCount)," views"),s.xp6(4),s.hij("",s.lcZ(14,11,i.publishDate)," ago")}}function Xoe(n,t){if(1&n&&(s.TgZ(0,"span",30),s._uU(1),s.ALo(2,"uppercase"),s.qZA()),2&n){const e=t.$implicit,i=s.oxw();s.xp6(1),s.AsE(" ",i.regionNamesInEnglish.of(e.snippet.language)," - ",s.lcZ(2,2,e.snippet.trackKind)," ")}}function eae(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p",31),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.addSubtitle(o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.name," ")}}function tae(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Name "),s.qZA())}function nae(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.fileName," ")}}function iae(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Format "),s.qZA())}function rae(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.format," ")}}function sae(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Language "),s.qZA())}function oae(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.language," ")}}function aae(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Last Updated "),s.qZA())}function lae(n,t){if(1&n&&(s.TgZ(0,"mat-cell"),s._uU(1),s.ALo(2,"date"),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",s.xi3(2,1,e.lastUpdated,"medium")," ")}}function cae(n,t){1&n&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Subtitles "),s.qZA())}function uae(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-cell")(1,"button",32),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.editSubtitle(o.iso,o.fullFileName))}),s._uU(2,"Edit"),s.qZA(),s.TgZ(3,"button",33),s.NdJ("click",function(){const o=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.requestCommunityHelp(o.language,o.iso,o.fileName,o.format))}),s.TgZ(4,"mat-icon"),s._uU(5,"person_pin_circle"),s.qZA()()()}}function dae(n,t){1&n&&s._UZ(0,"mat-header-row")}function hae(n,t){1&n&&s._UZ(0,"mat-row")}function fae(n,t){1&n&&s._UZ(0,"fullscreen-loader")}let pae=(()=>{class n{constructor(e,i,r,o,a,d,f,m){this.route=e,this.router=i,this.youtubeService=r,this.dialog=o,this.snackbar=a,this.authService=d,this.translateService=f,this.detailsViewService=m,this.videoDetails$=new S(null),this.videoCaptionDetails$=new S(null),this.supportedLanguages$=new S(null),this.loading$=new S(null),this.user$=new S(null),this.publishDate=new S(""),this.regionNamesInEnglish=new Intl.DisplayNames(["en"],{type:"language"}),this.displayedColumns=["Name","Format","Language","Last Updated","Subtitles"]}ngOnInit(){this.videoId=this.route.snapshot.paramMap.get("id"),this.authService.user.pipe(Ct(1),_n(e=>e?(this.user$.next(e),this.detailsViewService.getSubtitleLanguages(this.user$.value.uid,this.videoId)):j(null))).subscribe(e=>{this.dataSource=e}),this.getVideoDetails(),this.getCaptionDetails(),this.getSupportedLanguages()}getVideoDetails(){this.youtubeService.getVideoDetails(this.videoId).pipe((0,Fn.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoDetails$.next(e),this.loading$.next(!1),this.publishDate.next(vz(new Date(this.videoDetails$.value[0]?.snippet?.publishedAt))))})}getCaptionDetails(){this.youtubeService.getCaptionDetails(this.videoId).pipe((0,Fn.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoCaptionDetails$.next(e),this.loading$.next(!1))})}getSupportedLanguages(){this.translateService.getSupportedLanguages().pipe((0,Fn.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{this.supportedLanguages$.next(e),this.loading$.next(!1)})}addSubtitle(e){this.dialog.open(xoe,{width:"500px",data:e.name}).afterClosed().pipe(Ct(1)).subscribe(i=>{i?.name&&this.detailsViewService.addSubtitle(this.videoId,e,this.user$.value.uid,i.name,i.format)})}editSubtitle(e,i){this.router.navigate(["edit",this.videoId,e,i])}requestCommunityHelp(e,i,r,o){this.detailsViewService.requestCommunityHelp(this.user$.value,this.videoId,e,i,r,o)}navigateToDashboard(){this.router.navigate(["dashboard"])}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(gl),s.Y36(ir),s.Y36(yv),s.Y36(lp),s.Y36(rI),s.Y36(ap),s.Y36(_I),s.Y36(Z4))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["details-view"]],viewQuery:function(i,r){if(1&i&&s.Gf(Qoe,5),2&i){let o;s.iGM(o=s.CRH())&&(r.translateMenu=o.first)}},features:[s._Bn([_I,Z4])],decls:46,vars:16,consts:[[1,"wrapper"],[1,"left-container"],[1,"dashboard-navigation"],["mat-icon-button","","color","primary",1,"back-button",3,"click"],[1,"video-wrapper"],["class","video-details",4,"ngIf"],[1,"captions-details"],["class","captions",4,"ngFor","ngForOf"],[1,"main-content"],[1,"subtitles-header"],["mat-mini-fab","","color","primary","matTooltip","Add new language",3,"matMenuTriggerFor"],["translateMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Format"],["matColumnDef","Language"],["matColumnDef","Last Updated"],["matColumnDef","Subtitles"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[1,"video-details"],["target","_blank",3,"href"],[3,"src"],[1,"title"],[1,"views"],["id","views"],[1,"captions"],["mat-menu-item","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["matTooltip","Request help by someone in the Sub&Dub Community","mat-icon-button","","color","primary",2,"margin-left","10px",3,"click"]],template:function(i,r){if(1&i&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),s.NdJ("click",function(){return r.navigateToDashboard()}),s.TgZ(4,"mat-icon"),s._uU(5,"arrow_back"),s.qZA()(),s._uU(6," Back to Dashboard "),s.qZA(),s.TgZ(7,"div",4),s.YNc(8,Joe,15,13,"div",5),s.ALo(9,"async"),s.TgZ(10,"div",6)(11,"span"),s._uU(12,"Existing Captions in YouTube:"),s.qZA(),s.YNc(13,Xoe,3,4,"span",7),s.ALo(14,"async"),s.qZA()()(),s.TgZ(15,"div",8)(16,"div",9)(17,"span"),s._uU(18,"Subtitles"),s.qZA(),s.TgZ(19,"button",10)(20,"mat-icon"),s._uU(21,"add"),s.qZA()(),s.TgZ(22,"mat-menu",null,11),s.YNc(24,eae,2,1,"p",12),s.ALo(25,"async"),s.qZA()(),s.TgZ(26,"mat-table",13),s.ynx(27,14),s.YNc(28,tae,2,0,"mat-header-cell",15),s.YNc(29,nae,2,1,"mat-cell",16),s.BQk(),s.ynx(30,17),s.YNc(31,iae,2,0,"mat-header-cell",15),s.YNc(32,rae,2,1,"mat-cell",16),s.BQk(),s.ynx(33,18),s.YNc(34,sae,2,0,"mat-header-cell",15),s.YNc(35,oae,2,1,"mat-cell",16),s.BQk(),s.ynx(36,19),s.YNc(37,aae,2,0,"mat-header-cell",15),s.YNc(38,lae,3,4,"mat-cell",16),s.BQk(),s.ynx(39,20),s.YNc(40,cae,2,0,"mat-header-cell",15),s.YNc(41,uae,6,0,"mat-cell",16),s.BQk(),s.YNc(42,dae,1,0,"mat-header-row",21),s.YNc(43,hae,1,0,"mat-row",22),s.qZA()()(),s.YNc(44,fae,1,0,"fullscreen-loader",23),s.ALo(45,"async")),2&i){const o=s.MAs(23);let a;s.xp6(8),s.Q6J("ngIf",s.lcZ(9,8,r.videoDetails$)),s.xp6(5),s.Q6J("ngForOf",s.lcZ(14,10,r.videoCaptionDetails$)),s.xp6(6),s.Q6J("matMenuTriggerFor",o),s.xp6(5),s.Q6J("ngForOf",null==(a=s.lcZ(25,12,r.supportedLanguages$))||null==a.data?null:a.data.languages),s.xp6(2),s.Q6J("dataSource",r.dataSource),s.xp6(16),s.Q6J("matHeaderRowDef",r.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",r.displayedColumns),s.xp6(1),s.Q6J("ngIf",s.lcZ(45,14,r.loading$))}},dependencies:[Wr,ci,bl,gv,LN,gc,_c,dL,Ev,hL,r5,FL,s5,NL,PL,o5,LL,BL,a5,l5,ZN,Qr,cs,Pl,Ol,Ar],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;gap:50px}.main-content[_ngcontent-%COMP%]{padding-top:10px;display:flex;flex-direction:column;flex-grow:1}.left-container[_ngcontent-%COMP%]{max-width:35vh;display:flex;flex-grow:1;flex-direction:column;padding-left:20px}.dashboard-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.video-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.video-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.video-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.subtitles-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;font-size:32px;gap:30px}.mat-mdc-table[_ngcontent-%COMP%]{background:none;box-shadow:none}  .mat-mdc-menu-content{max-height:700px}.captions-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.views[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.video-wrapper[_ngcontent-%COMP%]{box-shadow:#717172 0 10px 35px -10px;border-radius:5px}.title[_ngcontent-%COMP%], .views[_ngcontent-%COMP%], .captions-details[_ngcontent-%COMP%]{padding-left:10px;padding-bottom:5px}"]})}return n})();function mae(n,t){1&n&&s.Hsn(0)}const gae=["*"];let c5=(()=>{class n{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),n})(),u5=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkStepLabel",""]]}),n})(),_ae=0;const d5=new s.OlP("STEPPER_GLOBAL_OPTIONS");let VL=(()=>{class n{get editable(){return this._editable}set editable(e){this._editable=Dt(e)}get optional(){return this._optional}set optional(e){this._optional=Dt(e)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=Dt(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(e){this._customError=Dt(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(e,i){this._stepper=e,this.interacted=!1,this.interactedStream=new s.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}}return n.\u0275fac=function(e){return new(e||n)(s.Y36((0,s.Gpc)(()=>eC)),s.Y36(d5,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-step"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,u5,5),2&e){let o;s.iGM(o=s.CRH())&&(i.stepLabel=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,7),2&e){let r;s.iGM(r=s.CRH())&&(i.content=r.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[s.TTD],ngContentSelectors:gae,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.YNc(0,mae,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),n})(),eC=(()=>{class n{get linear(){return this._linear}set linear(e){this._linear=Dt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const i=Ts(e);this.steps&&this._steps?(this._isValidIndex(i),this.selected?._markAsInteracted(),this._selectedIndex!==i&&!this._anyControlsInvalidOrPending(i)&&(i>=this._selectedIndex||this.steps.toArray()[i].editable)&&this._updateSelectedItemIndex(i)):this._selectedIndex=i}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}constructor(e,i,r){this._dir=e,this._changeDetectorRef=i,this._elementRef=r,this._destroyed=new Ze.x,this.steps=new s.n_E,this._sortedHeaders=new s.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new s.vpe,this._orientation="horizontal",this._groupId=_ae++}ngAfterContentInit(){this._steps.changes.pipe(tr(this._steps),Nt(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(tr(this._stepHeader),Nt(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,r)=>i._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new y_(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:j()).pipe(tr(this._layoutDirection()),Nt(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const i=e-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,i="number"){const r=this.steps.toArray()[e],o=this._isCurrentStep(e);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,o):this._getGuidelineLogic(r,o,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?"error":!e.completed||i?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,i,r="number"){return e._showError()&&e.hasError&&!i?"error":e.completed&&!i?"done":e.completed&&i?r:e.editable&&i?"edit":r}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const i=Sa(e),r=e.keyCode,o=this._keyManager;null==o.activeItemIndex||i||32!==r&&13!==r?o.setFocusOrigin("keyboard").onKeydown(e):(this.selectedIndex=o.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(i=>{const r=i.stepControl;return(r?r.invalid||r.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,i=Zs();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Pn,8),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,VL,5),s.Suo(r,c5,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._steps=o),s.iGM(o=s.CRH())&&(i._stepHeader=o)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),n})(),yae=(()=>{class n{constructor(e){this._stepper=e,this.type="submit"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(eC))},n.\u0275dir=s.lG2({type:n,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._stepper.next()}),2&e&&s.Ikx("type",i.type)},inputs:{type:"type"}}),n})(),vae=(()=>{class n{constructor(e){this._stepper=e,this.type="button"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(eC))},n.\u0275dir=s.lG2({type:n,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i._stepper.previous()}),2&e&&s.Ikx("type",i.type)},inputs:{type:"type"}}),n})(),bae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[qo]}),n})();function wae(n,t){if(1&n&&s.GkF(0,8),2&n){const e=s.oxw();s.Q6J("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function xae(n,t){if(1&n&&(s.TgZ(0,"span",13),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e._getDefaultTextForState(e.state))}}function Cae(n,t){if(1&n&&(s.TgZ(0,"span",14),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e._intl.completedLabel)}}function Eae(n,t){if(1&n&&(s.TgZ(0,"span",14),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e._intl.editableLabel)}}function Dae(n,t){if(1&n&&(s.TgZ(0,"mat-icon",13),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e._getDefaultTextForState(e.state))}}function Sae(n,t){if(1&n&&(s.ynx(0,9),s.YNc(1,xae,2,1,"span",10),s.YNc(2,Cae,2,1,"span",11),s.YNc(3,Eae,2,1,"span",11),s.YNc(4,Dae,2,1,"mat-icon",12),s.BQk()),2&n){const e=s.oxw();s.Q6J("ngSwitch",e.state),s.xp6(1),s.Q6J("ngSwitchCase","number"),s.xp6(1),s.Q6J("ngIf","done"===e.state),s.xp6(1),s.Q6J("ngIf","edit"===e.state)}}function Tae(n,t){if(1&n&&(s.TgZ(0,"div",15),s.GkF(1,16),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e._templateLabel().template)}}function Aae(n,t){if(1&n&&(s.TgZ(0,"div",15),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label)}}function Iae(n,t){if(1&n&&(s.TgZ(0,"div",17),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e._intl.optionalLabel)}}function Mae(n,t){if(1&n&&(s.TgZ(0,"div",18),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.errorMessage)}}function kae(n,t){}function Rae(n,t){if(1&n&&(s.Hsn(0),s.YNc(1,kae,0,0,"ng-template",0)),2&n){const e=s.oxw();s.xp6(1),s.Q6J("cdkPortalOutlet",e._portal)}}const Oae=["*"];function Pae(n,t){1&n&&s._UZ(0,"div",11)}const h5=function(n,t){return{step:n,i:t}};function Fae(n,t){if(1&n&&(s.ynx(0),s.GkF(1,9),s.YNc(2,Pae,1,0,"div",10),s.BQk()),2&n){const e=t.$implicit,i=t.index,r=t.last;s.oxw(2);const o=s.MAs(4);s.xp6(1),s.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",s.WLB(3,h5,e,i)),s.xp6(1),s.Q6J("ngIf",!r)}}const f5=function(n){return{animationDuration:n}},p5=function(n,t){return{value:n,params:t}};function Nae(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12),s.NdJ("@horizontalStepTransition.done",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o._animationDone.next(r))}),s.GkF(1,13),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw(2);s.ekj("mat-horizontal-stepper-content-inactive",r.selectedIndex!==i),s.Q6J("@horizontalStepTransition",s.WLB(8,p5,r._getAnimationDirection(i),s.VKq(6,f5,r._getAnimationDuration())))("id",r._getStepContentId(i)),s.uIk("aria-labelledby",r._getStepLabelId(i)),s.xp6(1),s.Q6J("ngTemplateOutlet",e.content)}}function Lae(n,t){if(1&n&&(s.TgZ(0,"div",4)(1,"div",5),s.YNc(2,Fae,3,6,"ng-container",6),s.qZA(),s.TgZ(3,"div",7),s.YNc(4,Nae,2,11,"div",8),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.steps),s.xp6(2),s.Q6J("ngForOf",e.steps)}}function Bae(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",15),s.GkF(1,9),s.TgZ(2,"div",16)(3,"div",17),s.NdJ("@verticalStepTransition.done",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o._animationDone.next(r))}),s.TgZ(4,"div",18),s.GkF(5,13),s.qZA()()()()}if(2&n){const e=t.$implicit,i=t.index,r=t.last,o=s.oxw(2),a=s.MAs(4);s.xp6(1),s.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",s.WLB(10,h5,e,i)),s.xp6(1),s.ekj("mat-stepper-vertical-line",!r),s.xp6(1),s.ekj("mat-vertical-stepper-content-inactive",o.selectedIndex!==i),s.Q6J("@verticalStepTransition",s.WLB(15,p5,o._getAnimationDirection(i),s.VKq(13,f5,o._getAnimationDuration())))("id",o._getStepContentId(i)),s.uIk("aria-labelledby",o._getStepLabelId(i)),s.xp6(2),s.Q6J("ngTemplateOutlet",e.content)}}function Vae(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Bae,6,18,"div",14),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.steps)}}function Uae(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-step-header",19),s.NdJ("click",function(){const o=s.CHM(e).step;return s.KtG(o.select())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onKeydown(r))}),s.qZA()}if(2&n){const e=t.step,i=t.i,r=s.oxw();s.ekj("mat-horizontal-stepper-header","horizontal"===r.orientation)("mat-vertical-stepper-header","vertical"===r.orientation),s.Q6J("tabIndex",r._getFocusIndex()===i?0:-1)("id",r._getStepLabelId(i))("index",i)("state",r._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",r.selectedIndex===i)("active",r._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(i,e))("color",e.color||r.color),s.uIk("aria-posinset",i+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(i))("aria-selected",r.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!r._stepIsNavigable(i,e)||null)}}let UL=(()=>{class n extends u5{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matStepLabel",""]],features:[s.qOj]}),n})(),RI=(()=>{class n{constructor(){this.changes=new Ze.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gae={provide:RI,deps:[[new s.FiY,new s.tp0,RI]],useFactory:function Hae(n){return n||new RI}},jae=E_(class extends c5{constructor(t){super(t)}},"primary");let m5=(()=>{class n extends jae{constructor(e,i,r,o){super(r),this._intl=e,this._focusMonitor=i,this._intlSubscription=e.changes.subscribe(()=>o.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof UL?null:this.label}_templateLabel(){return this.label instanceof UL?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(RI),s.Y36(tc),s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[s.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,i){1&e&&(s._UZ(0,"div",0),s.TgZ(1,"div")(2,"div",1),s.YNc(3,wae,1,2,"ng-container",2),s.YNc(4,Sae,5,4,"ng-container",3),s.qZA()(),s.TgZ(5,"div",4),s.YNc(6,Tae,2,1,"div",5),s.YNc(7,Aae,2,1,"div",5),s.YNc(8,Iae,2,1,"div",6),s.YNc(9,Mae,2,1,"div",7),s.qZA()),2&e&&(s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disableRipple),s.xp6(1),s.Gre("mat-step-icon-state-",i.state," mat-step-icon"),s.ekj("mat-step-icon-selected",i.selected),s.xp6(1),s.Q6J("ngSwitch",!(!i.iconOverrides||!i.iconOverrides[i.state])),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(2),s.ekj("mat-step-label-active",i.active)("mat-step-label-selected",i.selected)("mat-step-label-error","error"==i.state),s.xp6(1),s.Q6J("ngIf",i._templateLabel()),s.xp6(1),s.Q6J("ngIf",i._stringLabel()),s.xp6(1),s.Q6J("ngIf",i.optional&&"error"!=i.state),s.xp6(1),s.Q6J("ngIf","error"==i.state))},dependencies:[ci,di,oo,as,ui,gc,nc],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0}),n})();const y5={horizontalStepTransition:As("horizontalStepTransition",[zi("previous",In({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),zi("current",In({transform:"none",visibility:"inherit"})),zi("next",In({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Xr("* => *",mr("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),{params:{animationDuration:"500ms"}})]),verticalStepTransition:As("verticalStepTransition",[zi("previous",In({height:"0px",visibility:"hidden"})),zi("next",In({height:"0px",visibility:"hidden"})),zi("current",In({height:"*",visibility:"inherit"})),Xr("* <=> current",mr("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),{params:{animationDuration:"225ms"}})])};let zae=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),n})(),v5=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matStepContent",""]]}),n})(),b5=(()=>{class n extends VL{constructor(e,i,r,o){super(e,o),this._errorStateMatcher=i,this._viewContainerRef=r,this._isSelected=x.w0.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(_n(()=>this._stepper.selectionChange.pipe((0,Ke.U)(e=>e.selectedStep===this),tr(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new hv(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){return this._errorStateMatcher.isErrorState(e,i)||!!(e&&e.invalid&&this.interacted)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36((0,s.Gpc)(()=>w5)),s.Y36(tm,4),s.Y36(s.s_b),s.Y36(d5,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-step"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,UL,5),s.Suo(r,v5,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.stepLabel=o.first),s.iGM(o=s.CRH())&&(i._lazyContent=o.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[s._Bn([{provide:tm,useExisting:n},{provide:VL,useExisting:n}]),s.qOj],ngContentSelectors:Oae,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,Rae,2,1,"ng-template"))},dependencies:[fv],encapsulation:2,changeDetection:0}),n})(),w5=(()=>{class n extends eC{get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}constructor(e,i,r){super(e,i,r),this.steps=new s.n_E,this.animationDone=new s.vpe,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new Ze.x,this._animationDuration="";const o=r.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===o?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(Nt(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(ol((e,i)=>e.fromState===i.fromState&&e.toState===i.toState),Nt(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Pn,8),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,b5,5),s.Suo(r,zae,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._steps=o),s.iGM(o=s.CRH())&&(i._icons=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(m5,5),2&e){let r;s.iGM(r=s.CRH())&&(i._stepHeader=r)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.orientation),s.ekj("mat-stepper-horizontal","horizontal"===i.orientation)("mat-stepper-vertical","vertical"===i.orientation)("mat-stepper-label-position-end","horizontal"===i.orientation&&"end"==i.labelPosition)("mat-stepper-label-position-bottom","horizontal"===i.orientation&&"bottom"==i.labelPosition)("mat-stepper-header-position-bottom","bottom"===i.headerPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[s._Bn([{provide:eC,useExisting:n}]),s.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],["class","mat-horizontal-stepper-wrapper",4,"ngSwitchCase"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id","mat-horizontal-stepper-content-inactive",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(e,i){1&e&&(s.ynx(0,0),s.YNc(1,Lae,5,2,"div",1),s.YNc(2,Vae,2,1,"ng-container",2),s.BQk(),s.YNc(3,Uae,1,23,"ng-template",null,3,s.W1O)),2&e&&(s.Q6J("ngSwitch",i.orientation),s.xp6(1),s.Q6J("ngSwitchCase","horizontal"),s.xp6(1),s.Q6J("ngSwitchCase","vertical"))},dependencies:[Wr,ci,di,oo,as,m5],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[y5.horizontalStepTransition,y5.verticalStepTransition]},changeDetection:0}),n})(),qae=(()=>{class n extends yae{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("type",i.type)},inputs:{type:"type"},features:[s.qOj]}),n})(),$ae=(()=>{class n extends vae{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("type",i.type)},inputs:{type:"type"},features:[s.qOj]}),n})(),Yae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Gae,tm],imports:[Tn,hr,pv,bae,pz,pb,Tn]}),n})();function Zae(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),s._uU(3),s.qZA()(),s.TgZ(4,"mat-card-content")(5,"mat-form-field")(6,"textarea",10),s.NdJ("ngModelChange",function(r){const a=s.CHM(e).$implicit;return s.KtG(a.text=r)}),s.qZA()(),s.TgZ(7,"div",11)(8,"mat-form-field")(9,"mat-label"),s._uU(10,"From:"),s.qZA(),s.TgZ(11,"input",12),s.NdJ("ngModelChange",function(r){const a=s.CHM(e).$implicit;return s.KtG(a.start_time=r)}),s.qZA()(),s.TgZ(12,"mat-form-field")(13,"mat-label"),s._uU(14,"To:"),s.qZA(),s.TgZ(15,"input",12),s.NdJ("ngModelChange",function(r){const a=s.CHM(e).$implicit;return s.KtG(a.end_time=r)}),s.qZA()()()()()}if(2&n){const e=t.$implicit,i=t.index;s.xp6(3),s.hij("Subtitle ",i+1,""),s.xp6(3),s.Q6J("value",e.text)("ngModel",e.text),s.xp6(5),s.Q6J("value",e.start_time)("ngModel",e.start_time),s.xp6(4),s.Q6J("value",e.end_time)("ngModel",e.end_time)}}function Wae(n,t){if(1&n&&(s.TgZ(0,"div",13)(1,"mat-form-field")(2,"textarea",14),s._uU(3,"                        "),s.qZA()()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("value",e.SSMLContent)}}let Kae=(()=>{class n{constructor(e){this.ttsService=e,this.SSMLContent=""}ngOnInit(){this.textContentSSML=this.ttsService.get_initContentSSML()}generateSSML(){let e="<speak>\n";this.textContentSSML.forEach((i,r)=>{e+=`   <prosody duration="${i.totalDuration}">${i.text}</prosody>\n`,r<this.textContentSSML.length-1&&(e+='   <break time="100ms"/>\n')}),e+="</speak>",this.SSMLContent=e}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(h4))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["generate-tts"]],decls:13,vars:3,consts:[[3,"linear"],["label","Review your Subtitles",3,"editable","selectionChange"],["fxLayoutAlign","center center","fxLayout","column"],[4,"ngFor","ngForOf"],["mat-button","","matStepperNext","",3,"click"],["label","Generate SSML"],["matStepContent",""],["mat-button","","matStepperNext",""],["label","Generate Speech"],["mat-button","","matStepperPrevious",""],["matInput","","type","text",3,"value","ngModel","ngModelChange"],["fxLayout","column","fxLayoutGap","10px","fxFlex","30"],["matInput","","matTooltip","hh:mm:ss:ms","type","time","step","0.1",3,"value","ngModel","ngModelChange"],["fxLayoutAlign","center center","fxLayout","column",1,"textarea-ssml"],["rows","20","matInput","",3,"value"]],template:function(i,r){1&i&&(s.TgZ(0,"mat-stepper",0)(1,"mat-step",1),s.NdJ("selectionChange",function(){return r.generateSSML()}),s.TgZ(2,"div",2),s.YNc(3,Zae,16,7,"mat-card",3),s.qZA(),s.TgZ(4,"button",4),s.NdJ("click",function(){return r.generateSSML()}),s._uU(5,"Next"),s.qZA()(),s.TgZ(6,"mat-step",5),s.YNc(7,Wae,4,1,"ng-template",6),s.TgZ(8,"button",7),s._uU(9,"Next"),s.qZA()(),s._UZ(10,"mat-step",8),s.TgZ(11,"button",9),s._uU(12,"Back"),s.qZA()()),2&i&&(s.Q6J("linear",!0),s.xp6(1),s.Q6J("editable",!1),s.xp6(2),s.Q6J("ngForOf",r.textContentSSML))},dependencies:[Wr,ic,ll,Rd,Ed,hl,bl,Kb,_c,vL,bL,B4,wL,Hx,Gx,YN,cI,b5,w5,qae,$ae,v5],styles:[".mat-mdc-card[_ngcontent-%COMP%]{margin-bottom:15px;justify-content:center;width:450px}.mat-horizontal-stepper-content[_ngcontent-%COMP%]{display:flex}.mat-mdc-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%!important}  .mat-mdc-form-field-infix{height:100%}  .mat-mdc-form-field-flex{height:100%}.mat-mdc-form-field-type-mat-input[_ngcontent-%COMP%]{padding-right:5px;flex-grow:1}.textarea-ssml[_ngcontent-%COMP%]   .mat-mdc-form-field-type-mat-input[_ngcontent-%COMP%]{width:1000px}"]})}return n})(),Qae=(()=>{class n{constructor(e,i,r,o,a){this.route=e,this.router=i,this.storageService=r,this.communityService=o,this.dialog=a,this.loading$=new S(null),this.isFormDirty=!1,this.storage=(0,s.f3M)(lL)}ngOnInit(){this.videoId=this.route.snapshot.paramMap.get("id"),this.currentLanguage=this.route.snapshot.paramMap.get("languageCode"),this.requestId=this.route.snapshot.paramMap.get("requestId"),this.storageService.getCommunityRequestDetails(this.requestId).subscribe(e=>{this.requestDetails=e})}setFormDirtyStatus(e){this.isFormDirty=e}uploadToFirestorage(e){this.isFormDirty=!1,this.storageService.createFirestorageRefCommunity(this.storage,e,this.requestId,this.requestDetails)}navigateTTS(){this.router.navigate(["generate-tts",this.videoId,this.currentLanguage])}navigateToDashboard(){this.isFormDirty?this.dialog.open(o4,{width:"500px"}).afterClosed().subscribe(e=>{e&&this.router.navigate(["dashboard"])}):this.router.navigate(["dashboard"])}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(gl),s.Y36(ir),s.Y36(bv),s.Y36(BN),s.Y36(lp))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["community-subtitling-container"]],features:[s._Bn([bv,BN])],decls:8,vars:4,consts:[[1,"container"],[1,"dashboard-navigation"],["mat-mini-fab","","color","primary","matTooltip","Back to Details",1,"back-button",3,"click"],[1,"wrapper"],[3,"videoId"],[3,"isoCode","videoId","initSubtitles","subtitleUploadEmitter","navigateTTS","formStatusChange"]],template:function(i,r){1&i&&(s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return r.navigateToDashboard()}),s.TgZ(3,"mat-icon"),s._uU(4,"arrow_back"),s.qZA()()(),s.TgZ(5,"div",3),s._UZ(6,"video-player",4),s.TgZ(7,"dialog-component",5),s.NdJ("subtitleUploadEmitter",function(a){return r.uploadToFirestorage(a)})("navigateTTS",function(){return r.navigateTTS()})("formStatusChange",function(a){return r.setFormDirtyStatus(a)}),s.qZA()()()),2&i&&(s.xp6(6),s.Q6J("videoId",r.videoId),s.xp6(1),s.Q6J("isoCode",r.currentLanguage)("videoId",r.videoId)("initSubtitles",!1))},dependencies:[LN,gc,_c,a4,Y4],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap;gap:40px;justify-content:space-around;padding-top:20px}.back-button[_ngcontent-%COMP%]{top:5%;left:3%}.dashboard-navigation[_ngcontent-%COMP%]{padding-top:15px}video-player[_ngcontent-%COMP%]{flex-grow:.8}"]})}return n})();const tC=()=>(n=>(0,Em.z)(WN,(0,Ke.U)(t=>t||n)))([""]),Jae=[{path:"",component:Vee},{path:"dashboard",component:Bee,canActivate:[vv],data:{authGuardPipe:tC}},{path:"details/:id",component:pae,canActivate:[vv],data:{authGuardPipe:tC}},{path:"edit/:id/:languageCode/:name",component:eoe,canActivate:[vv],data:{authGuardPipe:tC}},{path:"community/edit/:id/:languageCode/:requestId",component:Qae,canActivate:[vv],data:{authGuardPipe:tC}},{path:"generate-tts/:id/:languageCode",component:Kae,canActivate:[vv],data:{authGuardPipe:tC}}];let Xae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=s.oAB({type:n});static#n=this.\u0275inj=s.cJS({imports:[nT.forRoot(Jae),nT]})}return n})();const ele=["*",[["mat-toolbar-row"]]],tle=["*","mat-toolbar-row"],nle=E_(class{constructor(n){this._elementRef=n}});let ile=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),rle=(()=>{class n extends nle{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Vn),s.Y36(te))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,ile,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:tle,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(ele),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),sle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Tn,Tn]}),n})();function ole(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"button",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.auth.signOut())}),s._uU(2,"Logout"),s.qZA()()}}function ale(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"button",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.auth.googleSignin())}),s._uU(2," Sign Up / Sign in With Google! "),s.qZA()()}}let lle=(()=>{class n{constructor(e){this.auth=e}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(ap))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["login-button"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["login",""],["mat-raised-button","",3,"click"]],template:function(i,r){if(1&i&&(s.YNc(0,ole,3,0,"div",0),s.ALo(1,"async"),s.YNc(2,ale,3,0,"ng-template",null,1,s.W1O)),2&i){const o=s.MAs(3);s.Q6J("ngIf",s.lcZ(1,2,r.auth.user))("ngIfElse",o)}},dependencies:[ci,bl,Qr]})}return n})();function cle(n,t){if(1&n&&(s.TgZ(0,"div",6),s._UZ(1,"img",7),s.TgZ(2,"h3",8),s._uU(3),s.qZA()()),2&n){const e=t.ngIf;s.xp6(1),s.Q6J("src",e.photoURL,s.LSH),s.xp6(2),s.hij(" Hello, ",e.displayName," ")}}let ule=(()=>{class n{constructor(e,i){this.auth=e,this.router=i}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(ap),s.Y36(ir))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-menu"]],decls:12,vars:7,consts:[[1,"logo"],[1,"menu-items"],[3,"routerLink"],[3,"routerLink","matTooltip","matTooltipDisabled"],[1,"spacer"],["class","user-wrapper",4,"ngIf"],[1,"user-wrapper"],[1,"user-icon",3,"src"],[1,"user-name"]],template:function(i,r){1&i&&(s.TgZ(0,"mat-toolbar")(1,"div",0),s._uU(2,"S & D"),s.qZA(),s.TgZ(3,"div",1)(4,"span",2),s._uU(5,"Home"),s.qZA(),s.TgZ(6,"span",3),s._uU(7,"Dashboard"),s.qZA()(),s._UZ(8,"span",4),s.YNc(9,cle,4,2,"div",5),s.ALo(10,"async"),s._UZ(11,"login-button"),s.qZA()),2&i&&(s.xp6(4),s.Q6J("routerLink",""),s.xp6(2),s.Q6J("routerLink","dashboard")("matTooltip","Login to view your Dashboard")("matTooltipDisabled",r.auth.isLoggedIn),s.xp6(3),s.Q6J("ngIf",s.lcZ(10,5,r.auth.user)))},dependencies:[ci,tw,_c,rle,lle,Qr],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.user-wrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.user-name[_ngcontent-%COMP%]{margin:0 10px 0 0}.user-icon[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px}.mat-toolbar-single-row[_ngcontent-%COMP%]{background:white;border-bottom:1px solid black;height:80px}.logo[_ngcontent-%COMP%]{border-radius:20px;padding:10px;width:150px;background:black;color:#fff;display:flex;justify-content:center;align-items:center;font-size:32px;font-weight:700;font-family:MartianMono}.menu-items[_ngcontent-%COMP%]{padding-left:40px;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:40px;font-family:MartianMono;cursor:pointer}"]})}return n})(),dle=(()=>{class n{constructor(e){this.auth=e}static#e=this.\u0275fac=function(i){return new(i||n)(s.Y36(ap))};static#t=this.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(i,r){1&i&&s._UZ(0,"app-menu")(1,"router-outlet")},dependencies:[ly,ule],styles:[".main-view-login[_ngcontent-%COMP%]{padding-top:10px;display:flex;justify-content:center;flex-direction:column;align-items:center}.call-to-action_login[_ngcontent-%COMP%]{padding-top:15px;text-align:center}.call-to-action_login[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600}.mdc-card[_ngcontent-%COMP%]{flex-direction:row}.cards-container[_ngcontent-%COMP%]{display:flex;margin-top:60px;gap:100px;flex-wrap:wrap;justify-content:center}"]})}return n})();function x5(n){return new s.vHH(3e3,!1)}function $le(){return typeof window<"u"&&typeof window.document<"u"}function HL(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function dp(n){switch(n.length){case 0:return new Hr;case 1:return n[0];default:return new Is(n)}}function C5(n,t,e,i,r=new Map,o=new Map){const a=[],d=[];let f=-1,m=null;if(i.forEach(v=>{const D=v.get("offset"),A=D==f,R=A&&m||new Map;v.forEach((B,q)=>{let W=q,ce=B;if("offset"!==q)switch(W=t.normalizePropertyName(W,a),ce){case fd:ce=r.get(q);break;case Or:ce=o.get(q);break;default:ce=t.normalizeStyleValue(q,W,ce,a)}R.set(W,ce)}),A||d.push(R),m=R,f=D}),a.length)throw function Ple(n){return new s.vHH(3502,!1)}();return d}function GL(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&jL(e,"start",n)));break;case"done":n.onDone(()=>i(e&&jL(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&jL(e,"destroy",n)))}}function jL(n,t,e){const o=zL(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(o._data=a),o}function zL(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function La(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function E5(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let qL=(n,t)=>!1,D5=(n,t,e)=>[],S5=null;function $L(n){const t=n.parentNode||n.host;return t===S5?null:t}(HL()||typeof Element<"u")&&($le()?(S5=(()=>document.documentElement)(),qL=(n,t)=>{for(;t;){if(t===n)return!0;t=$L(t)}return!1}):qL=(n,t)=>n.contains(t),D5=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Og=null,T5=!1;const A5=qL,I5=D5;let M5=(()=>{class n{validateStyleProperty(e){return function Zle(n){Og||(Og=function Wle(){return typeof document<"u"?document.body:null}()||{},T5=!!Og.style&&"WebkitAppearance"in Og.style);let t=!0;return Og.style&&!function Yle(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Og.style,!t&&T5&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Og.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return A5(e,i)}getParentElement(e){return $L(e)}query(e,i,r){return I5(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,d=[],f){return new Hr(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),YL=(()=>{class n{}return n.NOOP=new M5,n})();const Kle=1e3,ZL="ng-enter",OI="ng-leave",PI="ng-trigger",FI=".ng-trigger",R5="ng-animating",WL=".ng-animating";function dh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:KL(parseFloat(t[1]),t[2])}function KL(n,t){return"s"===t?n*Kle:n}function NI(n,t,e){return n.hasOwnProperty("duration")?n:function Jle(n,t,e){let r,o=0,a="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(x5()),{duration:0,delay:0,easing:""};r=KL(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(o=KL(parseFloat(f),d[4]));const m=d[5];m&&(a=m)}else r=n;if(!e){let d=!1,f=t.length;r<0&&(t.push(function hle(){return new s.vHH(3100,!1)}()),d=!0),o<0&&(t.push(function fle(){return new s.vHH(3101,!1)}()),d=!0),d&&t.splice(f,0,x5())}return{duration:r,delay:o,easing:a}}(n,t,e)}function nC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function O5(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function hp(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function F5(n,t,e){return e?t+":"+e+";":""}function N5(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=F5(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=F5(0,nce(e),n.style[e]));n.setAttribute("style",t)}function Pu(n,t,e){n.style&&(t.forEach((i,r)=>{const o=JL(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),HL()&&N5(n))}function Pg(n,t){n.style&&(t.forEach((e,i)=>{const r=JL(i);n.style[r]=""}),HL()&&N5(n))}function iC(n){return Array.isArray(n)?1==n.length?n[0]:eu(n):n}const QL=new RegExp("{{\\s*(.+?)\\s*}}","g");function L5(n){let t=[];if("string"==typeof n){let e;for(;e=QL.exec(n);)t.push(e[1]);QL.lastIndex=0}return t}function rC(n,t,e){const i=n.toString(),r=i.replace(QL,(o,a)=>{let d=t[a];return null==d&&(e.push(function mle(n){return new s.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function LI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const tce=/-+([a-z0-9])/g;function JL(n){return n.replace(tce,(...t)=>t[1].toUpperCase())}function nce(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ba(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function gle(n){return new s.vHH(3004,!1)}()}}function B5(n,t){return window.getComputedStyle(n)[t]}const UI="*";function lce(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function cce(n,t,e){if(":"==n[0]){const f=function uce(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Mle(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Ile(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],a=i[3];t.push(V5(r,a));"<"==o[0]&&!(r==UI&&a==UI)&&t.push(V5(a,r))}(i,e,t)):e.push(n),e}const HI=new Set(["true","1"]),GI=new Set(["false","0"]);function V5(n,t){const e=HI.has(n)||GI.has(n),i=HI.has(t)||GI.has(t);return(r,o)=>{let a=n==UI||n==r,d=t==UI||t==o;return!a&&e&&"boolean"==typeof r&&(a=r?HI.has(n):GI.has(n)),!d&&i&&"boolean"==typeof o&&(d=o?HI.has(t):GI.has(t)),a&&d}}const dce=new RegExp("s*:selfs*,?","g");function XL(n,t,e,i){return new hce(n).build(t,e,i)}class hce{constructor(t){this._driver=t}build(t,e,i){const r=new mce(e);return this._resetContextStyleTimingState(r),Ba(this,iC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function yle(){return new s.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const f=d,m=f.name;m.toString().split(/\s*,\s*/).forEach(v=>{f.name=v,o.push(this.visitState(f,e))}),f.name=m}else if(1==d.type){const f=this.visitTransition(d,e);i+=f.queryCount,r+=f.depCount,a.push(f)}else e.errors.push(function vle(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{L5(f).forEach(m=>{a.hasOwnProperty(m)||o.add(m)})})}),o.size&&(LI(o.values()),e.errors.push(function ble(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ba(this,iC(t.animation),e);return{type:1,matchers:lce(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Fg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ba(this,i,e)),options:Fg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(a=>{e.currentTime=i;const d=Ba(this,a,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:o,options:Fg(t.options)}}visitAnimate(t,e){const i=function _ce(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return e2(NI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=e2(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=NI(e,t);return e2(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:In({});if(5==o.type)r=this.visitKeyframes(o,e);else{let a=t.styles,d=!1;if(!a){d=!0;const m={};i.easing&&(m.easing=i.easing),a=In(m)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(a,e);f.isEmptyStep=d,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===Or?i.push(d):e.errors.push(new s.vHH(3002,!1)):i.push(O5(d));let o=!1,a=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(a=d.get("easing"),d.delete("easing")),!o))for(let f of d.values())if(f.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((d,f)=>{const m=e.collectedStyles.get(e.currentQuerySelector),v=m.get(f);let D=!0;v&&(o!=r&&o>=v.startTime&&r<=v.endTime&&(e.errors.push(function xle(n,t,e,i,r){return new s.vHH(3010,!1)}()),D=!1),o=v.startTime),D&&m.set(f,{startTime:o,endTime:r}),e.options&&function ece(n,t,e){const i=t.params||{},r=L5(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function ple(n){return new s.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Cle(){return new s.vHH(3011,!1)}()),i;let o=0;const a=[];let d=!1,f=!1,m=0;const v=t.steps.map(ce=>{const Re=this._makeStyleAst(ce,e);let Le=null!=Re.offset?Re.offset:function gce(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Re.styles),Ye=0;return null!=Le&&(o++,Ye=Re.offset=Le),f=f||Ye<0||Ye>1,d=d||Ye<m,m=Ye,a.push(Ye),Re});f&&e.errors.push(function Ele(){return new s.vHH(3012,!1)}()),d&&e.errors.push(function Dle(){return new s.vHH(3200,!1)}());const D=t.steps.length;let A=0;o>0&&o<D?e.errors.push(function Sle(){return new s.vHH(3202,!1)}()):0==o&&(A=1/(D-1));const R=D-1,B=e.currentTime,q=e.currentAnimateTimings,W=q.duration;return v.forEach((ce,Re)=>{const Le=A>0?Re==R?1:A*Re:a[Re],Ye=Le*W;e.currentTime=B+q.delay+Ye,q.duration=Ye,this._validateStyleAst(ce,e),ce.offset=Le,i.styles.push(ce)}),i}visitReference(t,e){return{type:8,animation:Ba(this,iC(t.animation),e),options:Fg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Fg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Fg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function fce(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(dce,"")),n=n.replace(/@\*/g,FI).replace(/@\w+/g,e=>FI+"-"+e.slice(1)).replace(/:animating/g,WL),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,La(e.collectedStyles,e.currentQuerySelector,new Map);const d=Ba(this,iC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:d,originalSelector:t.selector,options:Fg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Tle(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:NI(t.timings,e.errors,!0);return{type:12,animation:Ba(this,iC(t.animation),e),timings:i,options:null}}}class mce{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fg(n){return n?(n=nC(n)).params&&(n.params=function pce(n){return n?nC(n):null}(n.params)):n={},n}function e2(n,t,e){return{duration:n,delay:t,easing:e}}function t2(n,t,e,i,r,o,a=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:d}}class jI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const bce=new RegExp(":enter","g"),xce=new RegExp(":leave","g");function n2(n,t,e,i,r,o=new Map,a=new Map,d,f,m=[]){return(new Cce).buildKeyframes(n,t,e,i,r,o,a,d,f,m)}class Cce{buildKeyframes(t,e,i,r,o,a,d,f,m,v=[]){m=m||new jI;const D=new r2(t,e,m,r,o,v,[]);D.options=f;const A=f.delay?dh(f.delay):0;D.currentTimeline.delayNextStep(A),D.currentTimeline.setStyles([a],null,D.errors,f),Ba(this,i,D);const R=D.timelines.filter(B=>B.containsAnimation());if(R.length&&d.size){let B;for(let q=R.length-1;q>=0;q--){const W=R[q];if(W.element===e){B=W;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([d],null,D.errors,f)}return R.length?R.map(B=>B.buildKeyframes()):[t2(e,[],[],[],0,A,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const a="number"==typeof o?o:dh(rC(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const a=null!=i.duration?dh(i.duration):null,d=null!=i.delay?dh(i.delay):null;return 0!==a&&t.forEach(f=>{const m=e.appendInstructionToTimeline(f,a,d);o=Math.max(o,m.duration+m.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ba(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=zI);const a=dh(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Ba(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?dh(t.options.delay):0;t.steps.forEach(a=>{const d=e.createSubContext(t.options);o&&d.delayNextStep(o),Ba(this,a,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return NI(e.params?rC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(f=>{d.forwardTime((f.offset||0)*o),d.setStyles(f.styles,f.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?dh(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zI);let a=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let f=null;d.forEach((m,v)=>{e.currentQueryIndex=v;const D=e.createSubContext(t.options,m);o&&D.delayNextStep(o),m===e.element&&(f=D.currentTimeline),Ba(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),d=a*(e.currentQueryTotal-1);let f=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const v=e.currentTimeline;f&&v.delayNextStep(f);const D=v.currentTime;Ba(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const zI={};class r2{constructor(t,e,i,r,o,a,d,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new qI(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=dh(i.duration)),null!=i.delay&&(r.delay=dh(i.delay));const o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(d=>{(!e||!a.hasOwnProperty(d))&&(a[d]=rC(o[d],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new r2(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=zI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Ece(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(bce,"."+this._enterClassName)).replace(xce,"."+this._leaveClassName);let m=this._driver.query(this.element,t,1!=i);0!==i&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),d.push(...m)}return!o&&0==d.length&&a.push(function Ale(n){return new s.vHH(3014,!1)}()),d}}class qI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new qI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Or),this._currentKeyframe.set(e,Or);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},a=function Dce(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Or)}else hp(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,f]of a){const m=rC(f,o,i);this._pendingStyles.set(d,m),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Or),this._updateStyle(d,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const m=hp(d,new Map,this._backFill);m.forEach((v,D)=>{v===fd?t.add(D):v===Or&&e.add(D)}),i||m.set("offset",f/this.duration),r.push(m)});const o=t.size?LI(t.values()):[],a=e.size?LI(e.values()):[];if(i){const d=r[0],f=new Map(d);d.set("offset",0),f.set("offset",1),r=[d,f]}return t2(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class Ece extends qI{constructor(t,e,i,r,o,a,d=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=i+e,d=e/a,f=hp(t[0]);f.set("offset",0),o.push(f);const m=hp(t[0]);m.set("offset",G5(d)),o.push(m);const v=t.length-1;for(let D=1;D<=v;D++){let A=hp(t[D]);const R=A.get("offset");A.set("offset",G5((e+R*i)/a)),o.push(A)}i=a,e=0,r="",t=o}return t2(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function G5(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class s2{}const Sce=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tce extends s2{normalizePropertyName(t,e){return JL(t)}normalizeStyleValue(t,e,i,r){let o="";const a=i.toString().trim();if(Sce.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function _le(n,t){return new s.vHH(3005,!1)}())}return a+o}}function j5(n,t,e,i,r,o,a,d,f,m,v,D,A){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:d,queriedElements:f,preStyleProps:m,postStyleProps:v,totalTime:D,errors:A}}const o2={};class z5{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Ace(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,a,d,f,m,v){const D=[],A=this.ast.options&&this.ast.options.params||o2,B=this.buildStyles(i,d&&d.params||o2,D),q=f&&f.params||o2,W=this.buildStyles(r,q,D),ce=new Set,Re=new Map,Le=new Map,Ye="void"===r,It={params:Ice(q,A),delay:this.ast.options?.delay},Lt=v?[]:n2(t,e,this.ast.animation,o,a,B,W,It,m,D);let xn=0;if(Lt.forEach(Es=>{xn=Math.max(Es.duration+Es.delay,xn)}),D.length)return j5(e,this._triggerName,i,r,Ye,B,W,[],[],Re,Le,xn,D);Lt.forEach(Es=>{const Ec=Es.element,PM=La(Re,Ec,new Set);Es.preStyleProps.forEach(ph=>PM.add(ph));const Yg=La(Le,Ec,new Set);Es.postStyleProps.forEach(ph=>Yg.add(ph)),Ec!==e&&ce.add(Ec)});const Li=LI(ce.values());return j5(e,this._triggerName,i,r,Ye,B,W,Lt,Li,Re,Le,xn)}}function Ice(n,t){const e=nC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Mce{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=nC(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!==a&&(r[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,d)=>{a&&(a=rC(a,r,e));const f=this.normalizer.normalizePropertyName(d,e);a=this.normalizer.normalizeStyleValue(d,f,a,e),i.set(d,a)})}),i}}class Rce{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Mce(r.style,r.options&&r.options.params||{},i))}),q5(this.states,"true","1"),q5(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new z5(t,r,this.states))}),this.fallbackTransition=function Oce(n,t,e){return new z5(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function q5(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Pce=new jI;class Fce{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],o=XL(this._driver,e,i,r);if(i.length)throw function Fle(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=C5(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let a;const d=new Map;if(o?(a=n2(this._driver,e,o,ZL,OI,new Map,new Map,i,Pce,r),a.forEach(v=>{const D=La(d,v.element,new Map);v.postStyleProps.forEach(A=>D.set(A,null))})):(r.push(function Nle(){return new s.vHH(3300,!1)}()),a=[]),r.length)throw function Lle(n){return new s.vHH(3504,!1)}();d.forEach((v,D)=>{v.forEach((A,R)=>{v.set(R,this._driver.computeStyle(D,R,Or))})});const m=dp(a.map(v=>{const D=d.get(v.element);return this._buildPlayer(v,new Map,D)}));return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Ble(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=zL(e,"","","");return GL(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const $5="ng-animate-queued",a2="ng-animate-disabled",Uce=[],Y5={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hce={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wl="__ng_removed";class l2{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function qce(n){return n??null}(i?t.value:t),i){const o=nC(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const sC="void",c2=new l2(sC);class Gce{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,xl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Vle(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function Ule(n){return new s.vHH(3303,!1)}();if(!function $ce(n){return"start"==n||"done"==n}(i))throw function Hle(n,t){return new s.vHH(3400,!1)}();const o=La(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);const d=La(this._engine.statesByElement,t,new Map);return d.has(e)||(xl(t,PI),xl(t,PI+"-"+e),d.set(e,c2)),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(a);f>=0&&o.splice(f,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Gle(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),a=new u2(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(xl(t,PI),xl(t,PI+"-"+e),this._engine.statesByElement.set(t,d=new Map));let f=d.get(e);const m=new l2(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&m.absorbOptions(f.options),d.set(e,m),f||(f=c2),m.value!==sC&&f.value===m.value){if(!function Wce(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(f.params,m.params)){const q=[],W=o.matchStyles(f.value,f.params,q),ce=o.matchStyles(m.value,m.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{Pg(t,W),Pu(t,ce)})}return}const A=La(this._engine.playersByElement,t,[]);A.forEach(q=>{q.namespaceId==this.id&&q.triggerName==e&&q.queued&&q.destroy()});let R=o.matchTransition(f.value,m.value,t,m.params),B=!1;if(!R){if(!r)return;R=o.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:R,fromState:f,toState:m,player:a,isFallbackTransition:B}),B||(xl(t,$5),a.onStart(()=>{Mv(t,$5)})),a.onDone(()=>{let q=this.players.indexOf(a);q>=0&&this.players.splice(q,1);const W=this._engine.playersByElement.get(t);if(W){let ce=W.indexOf(a);ce>=0&&W.splice(ce,1)}}),this.players.push(a),A.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,FI,!0);i.forEach(r=>{if(r[wl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const d=[];if(o.forEach((f,m)=>{if(a.set(m,f.value),this._triggers.has(m)){const v=this.trigger(t,m,sC,r);v&&d.push(v)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&dp(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const f=this._triggers.get(a).fallbackTransition,m=i.get(a)||c2,v=new l2(sC),D=new u2(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:f,fromState:m,toState:v,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[wl];(!o||o===Y5)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){xl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(d=>{if(d.name==i.triggerName){const f=zL(o,i.triggerName,i.fromState.value,i.toState.value);f._data=t,GL(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class jce{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Gce(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,d=this.driver.getParentElement(e);for(;d;){const f=r.get(d);if(f){const m=i.indexOf(f);i.splice(m+1,0,t),a=!0;break}d=this.driver.getParentElement(d)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if($I(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!$I(e))return;const o=e[wl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),xl(t,a2)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Mv(t,a2))}removeNode(t,e,i,r){if($I(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[wl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return $I(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,FI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,WL,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return dp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[wl];if(e&&e.setForRemoval){if(t[wl]=Y5,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(a2)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)xl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?dp(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function jle(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new jI,r=[],o=new Map,a=[],d=new Map,f=new Map,m=new Map,v=new Set;this.disabledNodes.forEach(wt=>{v.add(wt);const Bt=this.driver.query(wt,".ng-animate-queued",!0);for(let qt=0;qt<Bt.length;qt++)v.add(Bt[qt])});const D=this.bodyNode,A=Array.from(this.statesByElement.keys()),R=K5(A,this.collectedEnterElements),B=new Map;let q=0;R.forEach((wt,Bt)=>{const qt=ZL+q++;B.set(Bt,qt),wt.forEach(An=>xl(An,qt))});const W=[],ce=new Set,Re=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Bt=this.collectedLeaveElements[wt],qt=Bt[wl];qt&&qt.setForRemoval&&(W.push(Bt),ce.add(Bt),qt.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(An=>ce.add(An)):Re.add(Bt))}const Le=new Map,Ye=K5(A,Array.from(ce));Ye.forEach((wt,Bt)=>{const qt=OI+q++;Le.set(Bt,qt),wt.forEach(An=>xl(An,qt))}),t.push(()=>{R.forEach((wt,Bt)=>{const qt=B.get(Bt);wt.forEach(An=>Mv(An,qt))}),Ye.forEach((wt,Bt)=>{const qt=Le.get(Bt);wt.forEach(An=>Mv(An,qt))}),W.forEach(wt=>{this.processLeaveNode(wt)})});const It=[],Lt=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(e).forEach(qt=>{const An=qt.player,$r=qt.element;if(It.push(An),this.collectedEnterElements.length){const io=$r[wl];if(io&&io.setForMove){if(io.previousTriggersValues&&io.previousTriggersValues.has(qt.triggerName)){const Zg=io.previousTriggersValues.get(qt.triggerName),Al=this.statesByElement.get(qt.element);if(Al&&Al.has(qt.triggerName)){const LM=Al.get(qt.triggerName);LM.value=Zg,Al.set(qt.triggerName,LM)}}return void An.destroy()}}const Tl=!D||!this.driver.containsElement(D,$r),Ao=Le.get($r),Bu=B.get($r),lr=this._buildInstruction(qt,i,Bu,Ao,Tl);if(lr.errors&&lr.errors.length)return void Lt.push(lr);if(Tl)return An.onStart(()=>Pg($r,lr.fromStyles)),An.onDestroy(()=>Pu($r,lr.toStyles)),void r.push(An);if(qt.isFallbackTransition)return An.onStart(()=>Pg($r,lr.fromStyles)),An.onDestroy(()=>Pu($r,lr.toStyles)),void r.push(An);const QY=[];lr.timelines.forEach(io=>{io.stretchStartingKeyframe=!0,this.disabledNodes.has(io.element)||QY.push(io)}),lr.timelines=QY,i.append($r,lr.timelines),a.push({instruction:lr,player:An,element:$r}),lr.queriedElements.forEach(io=>La(d,io,[]).push(An)),lr.preStyleProps.forEach((io,Zg)=>{if(io.size){let Al=f.get(Zg);Al||f.set(Zg,Al=new Set),io.forEach((LM,MB)=>Al.add(MB))}}),lr.postStyleProps.forEach((io,Zg)=>{let Al=m.get(Zg);Al||m.set(Zg,Al=new Set),io.forEach((LM,MB)=>Al.add(MB))})});if(Lt.length){const wt=[];Lt.forEach(Bt=>{wt.push(function zle(n,t){return new s.vHH(3505,!1)}())}),It.forEach(Bt=>Bt.destroy()),this.reportError(wt)}const xn=new Map,Li=new Map;a.forEach(wt=>{const Bt=wt.element;i.has(Bt)&&(Li.set(Bt,Bt),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,xn))}),r.forEach(wt=>{const Bt=wt.element;this._getPreviousPlayers(Bt,!1,wt.namespaceId,wt.triggerName,null).forEach(An=>{La(xn,Bt,[]).push(An),An.destroy()})});const Es=W.filter(wt=>J5(wt,f,m)),Ec=new Map;W5(Ec,this.driver,Re,m,Or).forEach(wt=>{J5(wt,f,m)&&Es.push(wt)});const Yg=new Map;R.forEach((wt,Bt)=>{W5(Yg,this.driver,new Set(wt),f,fd)}),Es.forEach(wt=>{const Bt=Ec.get(wt),qt=Yg.get(wt);Ec.set(wt,new Map([...Array.from(Bt?.entries()??[]),...Array.from(qt?.entries()??[])]))});const ph=[],FM=[],NM={};a.forEach(wt=>{const{element:Bt,player:qt,instruction:An}=wt;if(i.has(Bt)){if(v.has(Bt))return qt.onDestroy(()=>Pu(Bt,An.toStyles)),qt.disabled=!0,qt.overrideTotalTime(An.totalTime),void r.push(qt);let $r=NM;if(Li.size>1){let Ao=Bt;const Bu=[];for(;Ao=Ao.parentNode;){const lr=Li.get(Ao);if(lr){$r=lr;break}Bu.push(Ao)}Bu.forEach(lr=>Li.set(lr,$r))}const Tl=this._buildAnimation(qt.namespaceId,An,xn,o,Yg,Ec);if(qt.setRealPlayer(Tl),$r===NM)ph.push(qt);else{const Ao=this.playersByElement.get($r);Ao&&Ao.length&&(qt.parentPlayer=dp(Ao)),r.push(qt)}}else Pg(Bt,An.fromStyles),qt.onDestroy(()=>Pu(Bt,An.toStyles)),FM.push(qt),v.has(Bt)&&r.push(qt)}),FM.forEach(wt=>{const Bt=o.get(wt.element);if(Bt&&Bt.length){const qt=dp(Bt);wt.setRealPlayer(qt)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<W.length;wt++){const Bt=W[wt],qt=Bt[wl];if(Mv(Bt,OI),qt&&qt.hasAnimation)continue;let An=[];if(d.size){let Tl=d.get(Bt);Tl&&Tl.length&&An.push(...Tl);let Ao=this.driver.query(Bt,WL,!0);for(let Bu=0;Bu<Ao.length;Bu++){let lr=d.get(Ao[Bu]);lr&&lr.length&&An.push(...lr)}}const $r=An.filter(Tl=>!Tl.destroyed);$r.length?Yce(this,Bt,$r):this.processLeaveNode(Bt)}return W.length=0,ph.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Bt=this.players.indexOf(wt);this.players.splice(Bt,1)}),wt.play()}),ph}elementContainsData(t,e){let i=!1;const r=e[wl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(a=d)}else{const d=this.playersByElement.get(t);if(d){const f=!o||o==sC;d.forEach(m=>{m.queued||!f&&m.triggerName!=r||a.push(m)})}}return(i||r)&&(a=a.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),a}_beforeAnimationBuild(t,e,i){const o=e.element,a=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const m=f.element,v=m!==o,D=La(i,m,[]);this._getPreviousPlayers(m,v,a,d,e.toState).forEach(R=>{const B=R.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),R.destroy(),D.push(R)})}Pg(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){const d=e.triggerName,f=e.element,m=[],v=new Set,D=new Set,A=e.timelines.map(B=>{const q=B.element;v.add(q);const W=q[wl];if(W&&W.removedBeforeQueried)return new Hr(B.duration,B.delay);const ce=q!==f,Re=function Zce(n){const t=[];return Q5(n,t),t}((i.get(q)||Uce).map(xn=>xn.getRealPlayer())).filter(xn=>!!xn.element&&xn.element===q),Le=o.get(q),Ye=a.get(q),It=C5(0,this._normalizer,0,B.keyframes,Le,Ye),Lt=this._buildPlayer(B,It,Re);if(B.subTimeline&&r&&D.add(q),ce){const xn=new u2(t,d,q);xn.setRealPlayer(Lt),m.push(xn)}return Lt});m.forEach(B=>{La(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function zce(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,B.element,B))}),v.forEach(B=>xl(B,R5));const R=dp(A);return R.onDestroy(()=>{v.forEach(B=>Mv(B,R5)),Pu(f,e.toStyles)}),D.forEach(B=>{La(r,B,[]).push(R)}),R}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Hr(t.duration,t.delay)}}class u2{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Hr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>GL(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){La(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function $I(n){return n&&1===n.nodeType}function Z5(n,t){const e=n.style.display;return n.style.display=t??"none",e}function W5(n,t,e,i,r){const o=[];e.forEach(f=>o.push(Z5(f)));const a=[];i.forEach((f,m)=>{const v=new Map;f.forEach(D=>{const A=t.computeStyle(m,D,r);v.set(D,A),(!A||0==A.length)&&(m[wl]=Hce,a.push(m))}),n.set(m,v)});let d=0;return e.forEach(f=>Z5(f,o[d++])),a}function K5(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const i=1,r=new Set(t),o=new Map;function a(d){if(!d)return i;let f=o.get(d);if(f)return f;const m=d.parentNode;return f=e.has(m)?m:r.has(m)?i:a(m),o.set(d,f),f}return t.forEach(d=>{const f=a(d);f!==i&&e.get(f).push(d)}),e}function xl(n,t){n.classList?.add(t)}function Mv(n,t){n.classList?.remove(t)}function Yce(n,t,e){dp(e).onDone(()=>n.processLeaveNode(t))}function Q5(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Is?Q5(i.players,t):t.push(i)}}function J5(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class YI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new jce(t,e,i),this._timelineEngine=new Fce(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const a=t+"-"+r;let d=this._triggerCache[a];if(!d){const f=[],m=[],v=XL(this._driver,o,f,m);if(f.length)throw function Ole(n,t){return new s.vHH(3404,!1)}();d=function kce(n,t,e){return new Rce(n,t,e)}(r,v,this._normalizer),this._triggerCache[a]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,a]=E5(i);this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[a,d]=E5(i);return this._timelineEngine.listen(a,e,d,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Qce=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Pu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pu(this._element,this._initialStyles),this._endStyles&&(Pu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pg(this._element,this._endStyles),this._endStyles=null),Pu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function d2(n){let t=null;return n.forEach((e,i)=>{(function Jce(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class X5{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:B5(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Xce{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return A5(t,e)}getParentElement(t){return $L(t)}query(t,e,i){return I5(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,a=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(f.easing=o);const m=new Map,v=a.filter(R=>R instanceof X5);(function ice(n,t){return 0===n||0===t})(i,r)&&v.forEach(R=>{R.currentSnapshot.forEach((B,q)=>m.set(q,B))});let D=function Xle(n){return n.length?n[0]instanceof Map?n:n.map(t=>O5(t)):[]}(e).map(R=>hp(R));D=function rce(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(d=>a.set(d,B5(n,d)))}}return t}(t,D,m);const A=function Kce(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=d2(t[0]),t.length>1&&(i=d2(t[t.length-1]))):t instanceof Map&&(e=d2(t)),e||i?new Qce(n,e,i):null}(t,D);return new X5(t,D,f,A)}}let eue=(()=>{class n extends Xc{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?eu(e):e;return eq(this._renderer,null,i,"register",[r]),new tue(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class tue extends Kh{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new nue(this._id,t,e||{},this._renderer)}}class nue{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return eq(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function eq(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const tq="@.disabled";let iue=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const d=a?.parentNode(o);d&&a.removeChild(d,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(o);return v||(v=new nq("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,v)),v}const a=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const f=v=>{Array.isArray(v)?v.forEach(f):this.engine.registerTrigger(a,d,e,v.name,v)};return i.data.animation.forEach(f),new rue(this,d,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,d]=o;a(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(YI),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class nq{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==tq?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class rue extends nq{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==tq?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function sue(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function oue(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let aue=(()=>{class n extends YI{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(YL),s.LFG(s2),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const iq=[{provide:Xc,useClass:eue},{provide:s2,useFactory:function lue(){return new Tce}},{provide:YI,useClass:aue},{provide:s.FYo,useFactory:function cue(n,t,e){return new iue(n,t,e)},deps:[Mr,YI,s.R0b]}],h2=[{provide:YL,useFactory:()=>new Xce},{provide:s.QbO,useValue:"BrowserAnimations"},...iq],rq=[{provide:YL,useClass:M5},{provide:s.QbO,useValue:"NoopAnimations"},...iq];let uue=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?rq:h2}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:h2,imports:[ya]}),n})(),hq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[pL]}),n})(),Rde=(()=>{class n{constructor(e,i){us(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:vc,useValue:{...mL,...e}},{provide:gL,useValue:i,multi:!0},{provide:Dv,useValue:!0}]:[{provide:vc,useValue:{...mL,...e}},{provide:gL,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Dv),s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[V4,$4,hq,V4,$4,hq]}),n})(),Fde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hr,Tn]}),n})();const fq="@firebase/database";let f2="";function mq(n){f2=n}class Nde{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,H.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,H.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Lde{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,H.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const gq=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Nde(t)}}catch{}return new Lde},Ng=gq("localStorage"),p2=gq("sessionStorage"),kv=new Xo.Yd("@firebase/database"),_q=function(){let n=1;return function(){return n++}}(),yq=function(n){const t=(0,H.dS)(n),e=new H.gQ;e.update(t);const i=e.digest();return H.US.encodeByteArray(i)},oC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=oC.apply(null,i):t+="object"==typeof i?(0,H.Wl)(i):i,t+=" "}return t};let Lg=null,vq=!0;const bq=function(n,t){(0,H.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(kv.logLevel=Xo.in.VERBOSE,Lg=kv.log.bind(kv),t&&p2.set("logging_enabled",!0)):"function"==typeof n?Lg=n:(Lg=null,p2.remove("logging_enabled"))},xs=function(...n){if(!0===vq&&(vq=!1,null===Lg&&!0===p2.get("logging_enabled")&&bq(!0)),Lg){const t=oC.apply(null,n);Lg(t)}},aC=function(n){return function(...t){xs(n,...t)}},m2=function(...n){const t="FIREBASE INTERNAL ERROR: "+oC(...n);kv.error(t)},Fu=function(...n){const t=`FIREBASE FATAL ERROR: ${oC(...n)}`;throw kv.error(t),new Error(t)},no=function(...n){const t="FIREBASE WARNING: "+oC(...n);kv.warn(t)},WI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},fp="[MIN_NAME]",hh="[MAX_NAME]",Bg=function(n,t){if(n===t)return 0;if(n===fp||t===hh)return-1;if(t===fp||n===hh)return 1;{const e=Cq(n),i=Cq(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Ude=function(n,t){return n===t?0:n<t?-1:1},lC=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,H.Wl)(t))},g2=function(n){if("object"!=typeof n||null===n)return(0,H.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,H.Wl)(t[i]),e+=":",e+=g2(n[t[i]]);return e+="}",e},wq=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Cs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const xq=function(n){(0,H.hu)(!WI(n),"Invalid JSON number");const i=1023;let r,o,a,d,f;0===n?(o=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=d+i,a=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,a=Math.round(n/Math.pow(2,-1074))));const m=[];for(f=52;f;f-=1)m.push(a%2?1:0),a=Math.floor(a/2);for(f=11;f;f-=1)m.push(o%2?1:0),o=Math.floor(o/2);m.push(r?1:0),m.reverse();const v=m.join("");let D="";for(f=0;f<64;f+=8){let A=parseInt(v.substr(f,8),2).toString(16);1===A.length&&(A="0"+A),D+=A}return D.toLowerCase()},zde=new RegExp("^-?(0*)\\d{1,10}$"),Cq=function(n){if(zde.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Rv=function(n){try{n()}catch(t){setTimeout(()=>{throw no("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Yde=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},cC=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Zde{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){no(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Wde{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(xs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',no(t)}}let uC=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Aq=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kq="websocket",Rq="long_polling";class y2{constructor(t,e,i,r,o=!1,a="",d=!1,f=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ng.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ng.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Oq(n,t,e){let i;if((0,H.hu)("string"==typeof t,"typeof type must == string"),(0,H.hu)("object"==typeof e,"typeof params must == object"),t===kq)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Rq)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Kde(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Cs(e,(o,a)=>{r.push(o+"="+a)}),i+r.join("&")}class Qde{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,H.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,H.p$)(this.counters_)}}const v2={},b2={};function w2(n){const t=n.toString();return v2[t]||(v2[t]=new Qde),v2[t]}class Xde{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Rv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class pp{constructor(t,e,i,r,o,a,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=aC(t),this.stats_=w2(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),Oq(e,Rq,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Xde(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,H.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new x2((...o)=>{const[a,d,f,m,v]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=d,this.password=f;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[a,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Aq.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pp.forceAllow_=!0}static forceDisallow(){pp.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!pp.forceAllow_&&(pp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,H.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,H.h$)(e),r=wq(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,H.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class x2{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=_q(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=x2.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(d){xs("frame writing exception"),d.stack&&xs(d.stack),xs(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||xs("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,H.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{xs("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let QI=null;typeof MozWebSocket<"u"?QI=MozWebSocket:typeof WebSocket<"u"&&(QI=WebSocket);let Ov=(()=>{class n{constructor(e,i,r,o,a,d,f){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=aC(this.connId),this.stats_=w2(i),this.connURL=n.connectionURL_(i,d,f,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,a){const d={v:"5"};return!(0,H.Yr)()&&typeof location<"u"&&location.hostname&&Aq.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),o&&(d.ac=o),a&&(d.p=a),Oq(e,kq,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ng.set("previous_websocket_failure",!0);try{let r;if((0,H.Yr)()){r={headers:{"User-Agent":`Firebase/5/${f2}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,d=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new QI(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==QI&&!n.forceDisallow_}static previouslyFailed(){return Ng.isInMemoryStorage||!0===Ng.get("previous_websocket_failure")}markConnectionHealthy(){Ng.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,H.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,H.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=wq(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Uq=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[pp,Ov]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Ov&&Ov.isAvailable();let r=i&&!Ov.previouslyFailed();if(e.webSocketOnly&&(i||no("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ov];else{const o=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Yq{constructor(t,e,i,r,o,a,d,f,m,v){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=d,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=aC("c:"+this.id+":"),this.transportManager_=new Uq(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=cC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=lC("t",t),i=lC("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=lC("t",t),i=lC("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=lC("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?m2("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):m2("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&no("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),cC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ng.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Zq{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Wq{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,H.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,H.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class JI extends Wq{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new JI}getInitialEvent(t){return(0,H.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const Kq=32,Qq=768;class Yn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Bn(){return new Yn("")}function yn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function mp(n){return n.pieces_.length-n.pieceNum_}function _i(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Yn(n.pieces_,t)}function E2(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function dC(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Jq(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Yn(t,0)}function Zi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Yn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Yn(e,0)}function vn(n){return n.pieceNum_>=n.pieces_.length}function To(n,t){const e=yn(n),i=yn(t);if(null===e)return t;if(e===i)return To(_i(n),_i(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function whe(n,t){const e=dC(n,0),i=dC(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Bg(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function D2(n,t){if(mp(n)!==mp(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Cl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(mp(n)>mp(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class xhe{constructor(t,e){this.errorPrefix_=e,this.parts_=dC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,H.ug)(this.parts_[i]);Xq(this)}}function Xq(n){if(n.byteLength_>Qq)throw new Error(n.errorPrefix_+"has a key path longer than "+Qq+" bytes ("+n.byteLength_+").");if(n.parts_.length>Kq)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Kq+") or object contains a cycle "+Vg(n))}function Vg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class S2 extends Wq{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new S2}getInitialEvent(t){return(0,H.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const hC=1e3;let eM,Ug=(()=>{class n extends Zq{constructor(e,i,r,o,a,d,f,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=m,this.id=n.nextPersistentConnectionId_++,this.log_=aC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");S2.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&JI.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,a={r:o,a:e,b:i};this.log_((0,H.Wl)(a)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new H.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const f=d.d;"ok"===d.s?i.resolve(f):i.reject(f)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const a=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+a),this.listens.has(d)||this.listens.set(d,new Map),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(d).has(a),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(d).set(a,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,f=>{const m=f.d,v=f.s;n.warnOnListenWarnings_(m,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",f),"ok"!==v&&this.removeListen_(r,o),e.onComplete&&e.onComplete(v,m))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,H.r3)(e,"w")){const r=(0,H.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();no(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,H.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,H.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const a=o.s,d=o.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const a={p:e};o&&(a.q=r,a.t=o),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,a){this.initConnection_();const d={p:i,d:r};void 0!==a&&(d.h=a),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,H.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):m2("Unrecognized action received from server: "+(0,H.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=hC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=hC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,be.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let f=!1,m=null;const v=function(){m?m.close():(f=!0,o())};e.realtime_={close:v,sendRequest:function(R){(0,H.hu)(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(R)}};const A=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[R,B]=yield Promise.all([e.authTokenProvider_.getToken(A),e.appCheckTokenProvider_.getToken(A)]);f?xs("getToken() completed but was canceled"):(xs("getToken() completed. Creating connection."),e.authToken_=R&&R.accessToken,e.appCheckToken_=B&&B.token,m=new Yq(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,q=>{no(q+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(R){e.log_("Failed to get token: "+R),f||(e.repoInfo_.nodeAdmin&&no(R),v())}}})()}interrupt(e){xs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){xs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=hC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>g2(a)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Yn(e).toString();let o;if(this.listens.has(r)){const a=this.listens.get(r);o=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){xs("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){xs("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,H.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+f2.replace(/\./g,"-")]=1,(0,H.uI)()?e["framework.cordova"]=1:(0,H.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=JI.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class wn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new wn(t,e)}}class XI{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new wn(fp,t),r=new wn(fp,e);return 0!==this.compare(i,r)}minPost(){return wn.MIN}}class n$ extends XI{static get __EMPTY_NODE(){return eM}static set __EMPTY_NODE(t){eM=t}compare(t,e){return Bg(t.name,e.name)}isDefinedOn(t){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return wn.MIN}maxPost(){return new wn(hh,eM)}makePost(t,e){return(0,H.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new wn(t,eM)}toString(){return".key"}}const Nu=new n$;class tM{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let A2,bc=(()=>{class n{constructor(e,i,r,o,a){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??sa.EMPTY_NODE,this.right=a??sa.EMPTY_NODE}copy(e,i,r,o,a){return new n(e??this.key,i??this.value,r??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===a?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return sa.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return sa.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class sa{constructor(t,e=sa.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new sa(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,bc.BLACK,null,null))}remove(t){return new sa(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,bc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new tM(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new tM(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new tM(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new tM(this.root_,null,this.comparator_,!0,t)}}function Mhe(n,t){return Bg(n.name,t.name)}function T2(n,t){return Bg(n,t)}sa.EMPTY_NODE=new class Ihe{copy(t,e,i,r,o){return this}insert(t,e,i){return new bc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const i$=function(n){return"number"==typeof n?"number:"+xq(n):"string:"+n},r$=function(n){if(n.isLeafNode()){const t=n.val();(0,H.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,H.r3)(t,".sv"),"Priority must be a string or number.")}else(0,H.hu)(n===A2||n.isEmpty(),"priority of unexpected type.");(0,H.hu)(n===A2||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let s$,o$,a$,Pv=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),r$(this.priorityNode_)}static set __childrenNodeConstructor(e){s$=e}static get __childrenNodeConstructor(){return s$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vn(e)?this:".priority"===yn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=yn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,H.hu)(".priority"!==r||1===mp(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(_i(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+i$(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?xq(this.value_):this.value_,this.lazyHash_=yq(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,H.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,H.hu)(o>=0,"Unknown leaf type: "+i),(0,H.hu)(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const xi=new class Phe extends XI{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Bg(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return wn.MIN}maxPost(){return new wn(hh,new Pv("[PRIORITY-POST]",a$))}makePost(t,e){const i=o$(t);return new wn(e,new Pv("[PRIORITY-POST]",i))}toString(){return".priority"}},Fhe=Math.log(2);class Nhe{constructor(t){this.count=parseInt(Math.log(t+1)/Fhe,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const nM=function(n,t,e,i){n.sort(t);const r=function(f,m){const v=m-f;let D,A;if(0===v)return null;if(1===v)return D=n[f],A=e?e(D):D,new bc(A,D.node,bc.BLACK,null,null);{const R=parseInt(v/2,10)+f,B=r(f,R),q=r(R+1,m);return D=n[R],A=e?e(D):D,new bc(A,D.node,bc.BLACK,B,q)}},d=function(f){let m=null,v=null,D=n.length;const A=function(B,q){const W=D-B,ce=D;D-=B;const Re=r(W+1,ce),Le=n[W],Ye=e?e(Le):Le;R(new bc(Ye,Le.node,q,null,Re))},R=function(B){m?(m.left=B,m=B):(v=B,m=B)};for(let B=0;B<f.count;++B){const q=f.nextBitIsOne(),W=Math.pow(2,f.count-(B+1));q?A(W,bc.BLACK):(A(W,bc.BLACK),A(W,bc.RED))}return v}(new Nhe(n.length));return new sa(i||t,d)};let I2;const Fv={};class fh{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,H.hu)(Fv&&xi,"ChildrenNode.ts has not been loaded"),I2=I2||new fh({".priority":Fv},{".priority":xi}),I2}get(t){const e=(0,H.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof sa?e:null}hasIndex(t){return(0,H.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,H.hu)(t!==Nu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(wn.Wrap);let d,a=o.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=o.getNext();d=r?nM(i,t.getCompare()):Fv;const f=t.toString(),m=Object.assign({},this.indexSet_);m[f]=t;const v=Object.assign({},this.indexes_);return v[f]=d,new fh(v,m)}addToIndexes(t,e){const i=(0,H.UI)(this.indexes_,(r,o)=>{const a=(0,H.DV)(this.indexSet_,o);if((0,H.hu)(a,"Missing index implementation for "+o),r===Fv){if(a.isDefinedOn(t.node)){const d=[],f=e.getIterator(wn.Wrap);let m=f.getNext();for(;m;)m.name!==t.name&&d.push(m),m=f.getNext();return d.push(t),nM(d,a.getCompare())}return Fv}{const d=e.get(t.name);let f=r;return d&&(f=f.remove(new wn(t.name,d))),f.insert(t,t.node)}});return new fh(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,H.UI)(this.indexes_,r=>{if(r===Fv)return r;{const o=e.get(t.name);return o?r.remove(new wn(t.name,o)):r}});return new fh(i,this.indexSet_)}}let fC,cn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&r$(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fC||(fC=new n(new sa(T2),null,fh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fC}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?fC:i}}getChild(e){const i=yn(e);return null===i?this:this.getImmediateChild(i).getChild(_i(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,H.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new wn(e,i);let o,a;i.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?fC:this.priorityNode_;return new n(o,d,a)}}updateChild(e,i){const r=yn(e);if(null===r)return i;{(0,H.hu)(".priority"!==yn(e)||1===mp(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(_i(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,a=!0;if(this.forEachChild(xi,(d,f)=>{i[d]=f.val(e),r++,a&&n.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):a=!1}),!e&&a&&o<2*r){const d=[];for(const f in i)d[f]=i[f];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+i$(this.getPriority().val())+":"),this.forEachChild(xi,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":yq(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const a=o.getPredecessorKey(new wn(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new wn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new wn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,wn.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,wn.Wrap);let a=o.peek();for(;null!=a&&i.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pC?-1:0}withIndex(e){if(e===Nu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Nu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(xi),o=i.getIterator(xi);let a=r.getNext(),d=o.getNext();for(;a&&d;){if(a.name!==d.name||!a.node.equals(d.node))return!1;a=r.getNext(),d=o.getNext()}return null===a&&null===d}return!1}return!1}}resolveIndex_(e){return e===Nu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const pC=new class Lhe extends cn{constructor(){super(new sa(T2),cn.EMPTY_NODE,fh.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return cn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(wn,{MIN:{value:new wn(fp,cn.EMPTY_NODE)},MAX:{value:new wn(hh,pC)}}),n$.__EMPTY_NODE=cn.EMPTY_NODE,Pv.__childrenNodeConstructor=cn,function khe(n){A2=n}(pC),function Ohe(n){a$=n}(pC);const Bhe=!0;function ar(n,t=null){if(null===n)return cn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,H.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Pv(n,ar(t));if(n instanceof Array||!Bhe){let e=cn.EMPTY_NODE;return Cs(n,(i,r)=>{if((0,H.r3)(n,i)&&"."!==i.substring(0,1)){const o=ar(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(ar(t))}{const e=[];let i=!1;if(Cs(n,(a,d)=>{if("."!==a.substring(0,1)){const f=ar(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new wn(a,f)))}}),0===e.length)return cn.EMPTY_NODE;const o=nM(e,Mhe,a=>a.name,T2);if(i){const a=nM(e,xi.getCompare());return new cn(o,ar(t),new fh({".priority":a},{".priority":xi}))}return new cn(o,ar(t),fh.Default)}}!function Rhe(n){o$=n}(ar);class M2 extends XI{constructor(t){super(),this.indexPath_=t,(0,H.hu)(!vn(t)&&".priority"!==yn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Bg(t.name,e.name):o}makePost(t,e){const i=ar(t),r=cn.EMPTY_NODE.updateChild(this.indexPath_,i);return new wn(e,r)}maxPost(){const t=cn.EMPTY_NODE.updateChild(this.indexPath_,pC);return new wn(hh,t)}toString(){return dC(this.indexPath_,0).join("/")}}const k2=new class Vhe extends XI{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Bg(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return wn.MIN}maxPost(){return wn.MAX}makePost(t,e){const i=ar(t);return new wn(e,i)}toString(){return".value"}};function l$(n){return{type:"value",snapshotNode:n}}function Nv(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function mC(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function gC(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class R2{constructor(t){this.index_=t}updateChild(t,e,i,r,o,a){(0,H.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(mC(e,d)):(0,H.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?a.trackChildChange(Nv(e,i)):a.trackChildChange(gC(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(xi,(r,o)=>{e.hasChild(r)||i.trackChildChange(mC(r,o))}),e.isLeafNode()||e.forEachChild(xi,(r,o)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(o)||i.trackChildChange(gC(r,o,a))}else i.trackChildChange(Nv(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?cn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class _C{constructor(t){this.indexedFilter_=new R2(t.getIndex()),this.index_=t.getIndex(),this.startPost_=_C.getStartPost_(t),this.endPost_=_C.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,a){return this.matches(new wn(e,i))||(i=cn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=cn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(cn.EMPTY_NODE);const o=this;return e.forEachChild(xi,(a,d)=>{o.matches(new wn(a,d))||(r=r.updateImmediateChild(a,cn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Hhe{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new _C(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,a){return this.rangedFilter_.matches(new wn(e,i))||(i=cn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,a):this.fullLimitUpdateChild_(t,e,i,o,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=cn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=cn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const d=o.getNext();if(this.withinDirectionalStart(d)){if(!this.withinDirectionalEnd(d))break;r=r.updateImmediateChild(d.name,d.node),a++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(cn.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let a=0;for(;o.hasNext();){const d=o.getNext();a<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?a++:r=r.updateImmediateChild(d.name,cn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let a;if(this.reverse_){const D=this.index_.getCompare();a=(A,R)=>D(R,A)}else a=this.index_.getCompare();const d=t;(0,H.hu)(d.numChildren()===this.limit_,"");const f=new wn(e,i),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(f);if(d.hasChild(e)){const D=d.getImmediateChild(e);let A=r.getChildAfterChild(this.index_,m,this.reverse_);for(;null!=A&&(A.name===e||d.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const R=null==A?1:a(A,f);if(v&&!i.isEmpty()&&R>=0)return o?.trackChildChange(gC(e,i,D)),d.updateImmediateChild(e,i);{o?.trackChildChange(mC(e,D));const q=d.updateImmediateChild(e,cn.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(o?.trackChildChange(Nv(A.name,A.node)),q.updateImmediateChild(A.name,A.node)):q}}return i.isEmpty()?t:v&&a(m,f)>=0?(null!=o&&(o.trackChildChange(mC(m.name,m.node)),o.trackChildChange(Nv(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(m.name,cn.EMPTY_NODE)):t}}class iM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fp}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xi}copy(){const t=new iM;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function O2(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function P2(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function rM(n,t){const e=n.copy();return e.index_=t,e}function c$(n){const t={};if(n.isDefault())return t;let e;if(n.index_===xi?e="$priority":n.index_===k2?e="$value":n.index_===Nu?e="$key":((0,H.hu)(n.index_ instanceof M2,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,H.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,H.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,H.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,H.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,H.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function u$(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==xi&&(t.i=n.index_.toString()),t}class sM extends Zq{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=aC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,H.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const a=sM.getListenId_(t,i),d={};this.listens_[a]=d;const f=c$(t._queryParams);this.restRequest_(o+".json",f,(m,v)=>{let D=v;if(404===m&&(D=null,m=null),null===m&&this.onDataUpdate_(o,D,!1,i),(0,H.DV)(this.listens_,a)===d){let A;A=m?401===m?"permission_denied":"rest_error:"+m:"ok",r(A,null)}})}unlisten(t,e){const i=sM.getListenId_(t,e);delete this.listens_[i]}get(t){const e=c$(t._queryParams),i=t._path.toString(),r=new H.BH;return this.restRequest_(i+".json",e,(o,a)=>{let d=a;404===o&&(d=null,o=null),null===o?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,H.xO)(e);this.log_("Sending REST request for "+a);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+a+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,H.cI)(d.responseText)}catch{no("Failed to parse JSON response for "+a+": "+d.responseText)}i(null,f)}else 401!==d.status&&404!==d.status&&no("Got unsuccessful REST response for "+a+" Status: "+d.status),i(d.status);i=null}},d.open("GET",a,!0),d.send()})}}class Yhe{constructor(){this.rootNode_=cn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function oM(){return{value:null,children:new Map}}function Lv(n,t,e){if(vn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=yn(t);n.children.has(i)||n.children.set(i,oM()),Lv(n.children.get(i),t=_i(t),e)}}function F2(n,t){if(vn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(xi,(i,r)=>{Lv(n,new Yn(i),r)}),F2(n,t)}}if(n.children.size>0){const e=yn(t);return t=_i(t),n.children.has(e)&&F2(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function N2(n,t,e){null!==n.value?e(t,n.value):function Zhe(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{N2(r,new Yn(t.toString()+"/"+i),e)})}class Whe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Cs(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Jhe{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Whe(t);const i=1e4+2e4*Math.random();cC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Cs(t,(r,o)=>{o>0&&(0,H.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),cC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var El=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(El||(El={})),El))();function V2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class aM{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=El.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(vn(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Yn(t));return new aM(Bn(),e,this.revert)}}return(0,H.hu)(yn(this.path)===t,"operationForChild called for unrelated child."),new aM(_i(this.path),this.affectedTree,this.revert)}}class yC{constructor(t,e){this.source=t,this.path=e,this.type=El.LISTEN_COMPLETE}operationForChild(t){return vn(this.path)?new yC(this.source,Bn()):new yC(this.source,_i(this.path))}}class Hg{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=El.OVERWRITE}operationForChild(t){return vn(this.path)?new Hg(this.source,Bn(),this.snap.getImmediateChild(t)):new Hg(this.source,_i(this.path),this.snap)}}class Bv{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=El.MERGE}operationForChild(t){if(vn(this.path)){const e=this.children.subtree(new Yn(t));return e.isEmpty()?null:e.value?new Hg(this.source,Bn(),e.value):new Bv(this.source,Bn(),e)}return(0,H.hu)(yn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Bv(this.source,_i(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class gp{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(vn(t))return this.isFullyInitialized()&&!this.filtered_;const e=yn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Xhe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function vC(n,t,e,i,r,o){const a=i.filter(d=>d.type===e);a.sort((d,f)=>function nfe(n,t,e){if(null==t.childName||null==e.childName)throw(0,H.g5)("Should only compare child_ events.");const i=new wn(t.childName,t.snapshotNode),r=new wn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,f)),a.forEach(d=>{const f=function tfe(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,o);r.forEach(m=>{m.respondsTo(d.type)&&t.push(m.createEvent(f,n.query_))})})}function lM(n,t){return{eventCache:n,serverCache:t}}function bC(n,t,e,i){return lM(new gp(t,e,i),n.serverCache)}function h$(n,t,e,i){return lM(n.eventCache,new gp(t,e,i))}function cM(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Gg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let U2;class Ci{constructor(t,e=(()=>(U2||(U2=new sa(Ude)),U2))()){this.value=t,this.children=e}static fromObject(t){let e=new Ci(null);return Cs(t,(i,r)=>{e=e.set(new Yn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Bn(),value:this.value};if(vn(t))return null;{const i=yn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(_i(t),e);return null!=o?{path:Zi(new Yn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(vn(t))return this;{const e=yn(t),i=this.children.get(e);return null!==i?i.subtree(_i(t)):new Ci(null)}}set(t,e){if(vn(t))return new Ci(e,this.children);{const i=yn(t),o=(this.children.get(i)||new Ci(null)).set(_i(t),e),a=this.children.insert(i,o);return new Ci(this.value,a)}}remove(t){if(vn(t))return this.children.isEmpty()?new Ci(null):new Ci(null,this.children);{const e=yn(t),i=this.children.get(e);if(i){const r=i.remove(_i(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Ci(null):new Ci(this.value,o)}return this}}get(t){if(vn(t))return this.value;{const e=yn(t),i=this.children.get(e);return i?i.get(_i(t)):null}}setTree(t,e){if(vn(t))return e;{const i=yn(t),o=(this.children.get(i)||new Ci(null)).setTree(_i(t),e);let a;return a=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Ci(this.value,a)}}fold(t){return this.fold_(Bn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Zi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Bn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(vn(t))return null;{const o=yn(t),a=this.children.get(o);return a?a.findOnPath_(_i(t),Zi(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Bn(),e)}foreachOnPath_(t,e,i){if(vn(t))return this;{this.value&&i(e,this.value);const r=yn(t),o=this.children.get(r);return o?o.foreachOnPath_(_i(t),Zi(e,r),i):new Ci(null)}}foreach(t){this.foreach_(Bn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Zi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class wc{constructor(t){this.writeTree_=t}static empty(){return new wc(new Ci(null))}}function wC(n,t,e){if(vn(t))return new wc(new Ci(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const a=To(r,t);return o=o.updateChild(a,e),new wc(n.writeTree_.set(r,o))}{const r=new Ci(e),o=n.writeTree_.setTree(t,r);return new wc(o)}}}function H2(n,t,e){let i=n;return Cs(e,(r,o)=>{i=wC(i,Zi(t,r),o)}),i}function f$(n,t){if(vn(t))return wc.empty();{const e=n.writeTree_.setTree(t,new Ci(null));return new wc(e)}}function G2(n,t){return null!=jg(n,t)}function jg(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(To(e.path,t)):null}function p$(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(xi,(i,r)=>{t.push(new wn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new wn(i,r.value))}),t}function _p(n,t){if(vn(t))return n;{const e=jg(n,t);return new wc(null!=e?new Ci(e):n.writeTree_.subtree(t))}}function j2(n){return n.writeTree_.isEmpty()}function Vv(n,t){return m$(Bn(),n.writeTree_,t)}function m$(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,H.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=m$(Zi(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Zi(n,".priority"),i)),e}}function uM(n,t){return b$(t,n)}function lfe(n,t){if(n.snap)return Cl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Cl(Zi(n.path,e),t))return!0;return!1}function ufe(n){return n.visible}function g$(n,t,e){let i=wc.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const a=o.path;let d;if(o.snap)Cl(e,a)?(d=To(e,a),i=wC(i,d,o.snap)):Cl(a,e)&&(d=To(a,e),i=wC(i,Bn(),o.snap.getChild(d)));else{if(!o.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(Cl(e,a))d=To(e,a),i=H2(i,d,o.children);else if(Cl(a,e))if(d=To(a,e),vn(d))i=H2(i,Bn(),o.children);else{const f=(0,H.DV)(o.children,yn(d));if(f){const m=f.getChild(_i(d));i=wC(i,Bn(),m)}}}}}return i}function _$(n,t,e,i,r){if(i||r){const o=_p(n.visibleWrites,t);return!r&&j2(o)?e:r||null!=e||G2(o,Bn())?Vv(g$(n.allWrites,function(m){return(m.visible||r)&&(!i||!~i.indexOf(m.writeId))&&(Cl(m.path,t)||Cl(t,m.path))},t),e||cn.EMPTY_NODE):null}{const o=jg(n.visibleWrites,t);if(null!=o)return o;{const a=_p(n.visibleWrites,t);return j2(a)?e:null!=e||G2(a,Bn())?Vv(a,e||cn.EMPTY_NODE):null}}}function dM(n,t,e,i){return _$(n.writeTree,n.treePath,t,e,i)}function z2(n,t){return function dfe(n,t,e){let i=cn.EMPTY_NODE;const r=jg(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(xi,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(e){const o=_p(n.visibleWrites,t);return e.forEachChild(xi,(a,d)=>{const f=Vv(_p(o,new Yn(a)),d);i=i.updateImmediateChild(a,f)}),p$(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return p$(_p(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function y$(n,t,e,i){return function hfe(n,t,e,i,r){(0,H.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Zi(t,e);if(G2(n.visibleWrites,o))return null;{const a=_p(n.visibleWrites,o);return j2(a)?r.getChild(e):Vv(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function hM(n,t){return function pfe(n,t){return jg(n.visibleWrites,t)}(n.writeTree,Zi(n.treePath,t))}function q2(n,t,e){return function ffe(n,t,e,i){const r=Zi(t,e),o=jg(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Vv(_p(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function v$(n,t){return b$(Zi(n.treePath,t),n.writeTree)}function b$(n,t){return{treePath:n,writeTree:t}}class yfe{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,H.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,gC(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,mC(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Nv(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,H.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,gC(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const w$=new class vfe{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class $2{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new gp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return q2(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Gg(this.viewCache_),o=function _fe(n,t,e,i,r,o){return function mfe(n,t,e,i,r,o,a){let d;const f=_p(n.visibleWrites,t),m=jg(f,Bn());if(null!=m)d=m;else{if(null==e)return[];d=Vv(f,e)}if(d=d.withIndex(a),d.isEmpty()||d.isLeafNode())return[];{const v=[],D=a.getCompare(),A=o?d.getReverseIteratorFrom(i,a):d.getIteratorFrom(i,a);let R=A.getNext();for(;R&&v.length<r;)0!==D(R,i)&&v.push(R),R=A.getNext();return v}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function x$(n,t,e,i,r,o){const a=t.eventCache;if(null!=hM(i,e))return t;{let d,f;if(vn(e))if((0,H.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=Gg(t),D=z2(i,m instanceof cn?m:cn.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),D,o)}else{const m=dM(i,Gg(t));d=n.filter.updateFullNode(t.eventCache.getNode(),m,o)}else{const m=yn(e);if(".priority"===m){(0,H.hu)(1===mp(e),"Can't have a priority with additional path components");const v=a.getNode();f=t.serverCache.getNode();const D=y$(i,e,v,f);d=null!=D?n.filter.updatePriority(v,D):a.getNode()}else{const v=_i(e);let D;if(a.isCompleteForChild(m)){f=t.serverCache.getNode();const A=y$(i,e,a.getNode(),f);D=null!=A?a.getNode().getImmediateChild(m).updateChild(v,A):a.getNode().getImmediateChild(m)}else D=q2(i,m,t.serverCache);d=null!=D?n.filter.updateChild(a.getNode(),m,D,v,r,o):a.getNode()}}return bC(t,d,a.isFullyInitialized()||vn(e),n.filter.filtersNodes())}}function fM(n,t,e,i,r,o,a,d){const f=t.serverCache;let m;const v=a?n.filter:n.filter.getIndexedFilter();if(vn(e))m=v.updateFullNode(f.getNode(),i,null);else if(v.filtersNodes()&&!f.isFiltered()){const R=f.getNode().updateChild(e,i);m=v.updateFullNode(f.getNode(),R,null)}else{const R=yn(e);if(!f.isCompleteForPath(e)&&mp(e)>1)return t;const B=_i(e),W=f.getNode().getImmediateChild(R).updateChild(B,i);m=".priority"===R?v.updatePriority(f.getNode(),W):v.updateChild(f.getNode(),R,W,B,w$,null)}const D=h$(t,m,f.isFullyInitialized()||vn(e),v.filtersNodes());return x$(n,D,e,r,new $2(r,D,o),d)}function Y2(n,t,e,i,r,o,a){const d=t.eventCache;let f,m;const v=new $2(r,t,o);if(vn(e))m=n.filter.updateFullNode(t.eventCache.getNode(),i,a),f=bC(t,m,!0,n.filter.filtersNodes());else{const D=yn(e);if(".priority"===D)m=n.filter.updatePriority(t.eventCache.getNode(),i),f=bC(t,m,d.isFullyInitialized(),d.isFiltered());else{const A=_i(e),R=d.getNode().getImmediateChild(D);let B;if(vn(A))B=i;else{const q=v.getCompleteChild(D);B=null!=q?".priority"===E2(A)&&q.getChild(Jq(A)).isEmpty()?q:q.updateChild(A,i):cn.EMPTY_NODE}f=R.equals(B)?t:bC(t,n.filter.updateChild(d.getNode(),D,B,A,v,a),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function C$(n,t){return n.eventCache.isCompleteForChild(t)}function E$(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Z2(n,t,e,i,r,o,a,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m,f=t;m=vn(e)?i:new Ci(null).setTree(e,i);const v=t.serverCache.getNode();return m.children.inorderTraversal((D,A)=>{if(v.hasChild(D)){const B=E$(0,t.serverCache.getNode().getImmediateChild(D),A);f=fM(n,f,new Yn(D),B,r,o,a,d)}}),m.children.inorderTraversal((D,A)=>{const R=!t.serverCache.isCompleteForChild(D)&&null===A.value;if(!v.hasChild(D)&&!R){const q=E$(0,t.serverCache.getNode().getImmediateChild(D),A);f=fM(n,f,new Yn(D),q,r,o,a,d)}}),f}class Afe{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new R2(i.getIndex()),o=function Ghe(n){return n.loadsAllData()?new R2(n.getIndex()):n.hasLimit()?new Hhe(n):new _C(n)}(i);this.processor_=function bfe(n){return{filter:n}}(o);const a=e.serverCache,d=e.eventCache,f=r.updateFullNode(cn.EMPTY_NODE,a.getNode(),null),m=o.updateFullNode(cn.EMPTY_NODE,d.getNode(),null),v=new gp(f,a.isFullyInitialized(),r.filtersNodes()),D=new gp(m,d.isFullyInitialized(),o.filtersNodes());this.viewCache_=lM(D,v),this.eventGenerator_=new Xhe(this.query_)}get query(){return this.query_}}function kfe(n,t){const e=Gg(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!vn(t)&&!e.getImmediateChild(yn(t)).isEmpty())?e.getChild(t):null}function D$(n){return 0===n.eventRegistrations_.length}function S$(n,t,e){const i=[];if(e){(0,H.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const a=n.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function T$(n,t,e,i){t.type===El.MERGE&&null!==t.source.queryId&&((0,H.hu)(Gg(n.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)(cM(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function xfe(n,t,e,i,r){const o=new yfe;let a,d;if(e.type===El.OVERWRITE){const m=e;m.source.fromUser?a=Y2(n,t,m.path,m.snap,i,r,o):((0,H.hu)(m.source.fromServer,"Unknown source."),d=m.source.tagged||t.serverCache.isFiltered()&&!vn(m.path),a=fM(n,t,m.path,m.snap,i,r,d,o))}else if(e.type===El.MERGE){const m=e;m.source.fromUser?a=function Efe(n,t,e,i,r,o,a){let d=t;return i.foreach((f,m)=>{const v=Zi(e,f);C$(t,yn(v))&&(d=Y2(n,d,v,m,r,o,a))}),i.foreach((f,m)=>{const v=Zi(e,f);C$(t,yn(v))||(d=Y2(n,d,v,m,r,o,a))}),d}(n,t,m.path,m.children,i,r,o):((0,H.hu)(m.source.fromServer,"Unknown source."),d=m.source.tagged||t.serverCache.isFiltered(),a=Z2(n,t,m.path,m.children,i,r,d,o))}else if(e.type===El.ACK_USER_WRITE){const m=e;a=m.revert?function Tfe(n,t,e,i,r,o){let a;if(null!=hM(i,e))return t;{const d=new $2(i,t,r),f=t.eventCache.getNode();let m;if(vn(e)||".priority"===yn(e)){let v;if(t.serverCache.isFullyInitialized())v=dM(i,Gg(t));else{const D=t.serverCache.getNode();(0,H.hu)(D instanceof cn,"serverChildren would be complete if leaf node"),v=z2(i,D)}m=n.filter.updateFullNode(f,v,o)}else{const v=yn(e);let D=q2(i,v,t.serverCache);null==D&&t.serverCache.isCompleteForChild(v)&&(D=f.getImmediateChild(v)),m=null!=D?n.filter.updateChild(f,v,D,_i(e),d,o):t.eventCache.getNode().hasChild(v)?n.filter.updateChild(f,v,cn.EMPTY_NODE,_i(e),d,o):f,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=dM(i,Gg(t)),a.isLeafNode()&&(m=n.filter.updateFullNode(m,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=hM(i,Bn()),bC(t,m,a,n.filter.filtersNodes())}}(n,t,m.path,i,r,o):function Dfe(n,t,e,i,r,o,a){if(null!=hM(r,e))return t;const d=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(vn(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return fM(n,t,e,f.getNode().getChild(e),r,o,d,a);if(vn(e)){let m=new Ci(null);return f.getNode().forEachChild(Nu,(v,D)=>{m=m.set(new Yn(v),D)}),Z2(n,t,e,m,r,o,d,a)}return t}{let m=new Ci(null);return i.foreach((v,D)=>{const A=Zi(e,v);f.isCompleteForPath(A)&&(m=m.set(v,f.getNode().getChild(A)))}),Z2(n,t,e,m,r,o,d,a)}}(n,t,m.path,m.affectedTree,i,r,o)}else{if(e.type!==El.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+e.type);a=function Sfe(n,t,e,i,r){const o=t.serverCache;return x$(n,h$(t,o.getNode(),o.isFullyInitialized()||vn(e),o.isFiltered()),e,i,w$,r)}(n,t,e.path,i,o)}const f=o.getChanges();return function Cfe(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=cM(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(l$(cM(t)))}}(t,a,f),{viewCache:a,changes:f}}(n.processor_,r,t,e,i);return function wfe(n,t){(0,H.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,H.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,A$(n,o.changes,o.viewCache.eventCache.getNode(),null)}function A$(n,t,e,i){return function efe(n,t,e,i){const r=[],o=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(function Uhe(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),vC(n,r,"child_removed",t,i,e),vC(n,r,"child_added",t,i,e),vC(n,r,"child_moved",o,i,e),vC(n,r,"child_changed",t,i,e),vC(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let pM,gM;class I${constructor(){this.views=new Map}}function W2(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,H.hu)(null!=o,"SyncTree gave us an op for an invalid query."),T$(o,t,e,i)}{let o=[];for(const a of n.views.values())o=o.concat(T$(a,t,e,i));return o}}function M$(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let d=dM(e,r?i:null),f=!1;d?f=!0:i instanceof cn?(d=z2(e,i),f=!1):(d=cn.EMPTY_NODE,f=!1);const m=lM(new gp(d,f,!1),new gp(i,r,!1));return new Afe(t,m)}return a}function k$(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function yp(n,t){let e=null;for(const i of n.views.values())e=e||kfe(i,t);return e}function R$(n,t){return t._queryParams.loadsAllData()?mM(n):n.views.get(t._queryIdentifier)}function O$(n,t){return null!=R$(n,t)}function vp(n){return null!=mM(n)}function mM(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Hfe=1;class P${constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ci(null),this.pendingWriteTree_=function gfe(){return{visibleWrites:wc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function K2(n,t,e,i,r){return function rfe(n,t,e,i,r){(0,H.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=wC(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Uv(n,new Hg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function bp(n,t,e=!1){const i=function ofe(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function afe(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,H.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const d=n.allWrites[a];d.visible&&(a>=e&&lfe(d,i.path)?r=!1:Cl(i.path,d.path)&&(o=!0)),a--}return!!r&&(o?(function cfe(n){n.visibleWrites=g$(n.allWrites,ufe,Bn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=f$(n.visibleWrites,i.path):Cs(i.children,f=>{n.visibleWrites=f$(n.visibleWrites,Zi(i.path,f))}),!0))}(n.pendingWriteTree_,t)){let o=new Ci(null);return null!=i.snap?o=o.set(Bn(),!0):Cs(i.children,a=>{o=o.set(new Yn(a),!0)}),Uv(n,new aM(i.path,o,e))}return[]}function xC(n,t,e){return Uv(n,new Hg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function _M(n,t,e,i,r=!1){const o=t._path,a=n.syncPointTree_.get(o);let d=[];if(a&&("default"===t._queryIdentifier||O$(a,t))){const f=function Bfe(n,t,e,i){const r=t._queryIdentifier,o=[];let a=[];const d=vp(n);if("default"===r)for(const[f,m]of n.views.entries())a=a.concat(S$(m,e,i)),D$(m)&&(n.views.delete(f),m.query._queryParams.loadsAllData()||o.push(m.query));else{const f=n.views.get(r);f&&(a=a.concat(S$(f,e,i)),D$(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||o.push(f.query)))}return d&&!vp(n)&&o.push(new(function Ffe(){return(0,H.hu)(pM,"Reference.ts has not been loaded"),pM}())(t._repo,t._path)),{removed:o,events:a}}(a,t,e,i);(function Nfe(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const m=f.removed;if(d=f.events,!r){const v=-1!==m.findIndex(A=>A._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(o,(A,R)=>vp(R));if(v&&!D){const A=n.syncPointTree_.subtree(o);if(!A.isEmpty()){const R=function Zfe(n){return n.fold((t,e,i)=>{if(e&&vp(e))return[mM(e)];{let r=[];return e&&(r=k$(e)),Cs(i,(o,a)=>{r=r.concat(a)}),r}})}(A);for(let B=0;B<R.length;++B){const q=R[B],W=q.query,ce=B$(n,q);n.listenProvider_.startListening(EC(W),CC(n,W),ce.hashFn,ce.onComplete)}}}!D&&m.length>0&&!i&&(v?n.listenProvider_.stopListening(EC(t),null):m.forEach(A=>{const R=n.queryToTagMap.get(vM(A));n.listenProvider_.stopListening(EC(A),R)}))}!function Wfe(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=vM(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,m)}return d}function F$(n,t,e,i){const r=J2(n,i);if(null!=r){const o=X2(r),a=o.path,d=o.queryId,f=To(a,t);return eB(n,a,new Hg(V2(d),f,e))}return[]}function Q2(n,t,e,i=!1){const r=t._path;let o=null,a=!1;n.syncPointTree_.foreachOnPath(r,(A,R)=>{const B=To(A,r);o=o||yp(R,B),a=a||vp(R)});let f,d=n.syncPointTree_.get(r);d?(a=a||vp(d),o=o||yp(d,Bn())):(d=new I$,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=o?f=!0:(f=!1,o=cn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((R,B)=>{const q=yp(B,Bn());q&&(o=o.updateImmediateChild(R,q))}));const m=O$(d,t);if(!m&&!t._queryParams.loadsAllData()){const A=vM(t);(0,H.hu)(!n.queryToTagMap.has(A),"View does not exist, but we have a tag");const R=function Kfe(){return Hfe++}();n.queryToTagMap.set(A,R),n.tagToQueryMap.set(R,A)}let D=function Lfe(n,t,e,i,r,o){const a=M$(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function Rfe(n,t){n.eventRegistrations_.push(t)}(a,e),function Ofe(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(xi,(o,a)=>{i.push(Nv(o,a))}),e.isFullyInitialized()&&i.push(l$(e.getNode())),A$(n,i,e.getNode(),t)}(a,e)}(d,t,e,uM(n.pendingWriteTree_,r),o,f);if(!m&&!a&&!i){const A=R$(d,t);D=D.concat(function Qfe(n,t,e){const i=t._path,r=CC(n,t),o=B$(n,e),a=n.listenProvider_.startListening(EC(t),r,o.hashFn,o.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,H.hu)(!vp(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((m,v,D)=>{if(!vn(m)&&v&&vp(v))return[mM(v).query];{let A=[];return v&&(A=A.concat(k$(v).map(R=>R.query))),Cs(D,(R,B)=>{A=A.concat(B)}),A}});for(let m=0;m<f.length;++m){const v=f[m];n.listenProvider_.stopListening(EC(v),CC(n,v))}}return a}(n,t,A))}return D}function yM(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(a,d)=>{const m=yp(d,To(a,t));if(m)return m});return _$(r,t,o,e,!0)}function Uv(n,t){return N$(t,n.syncPointTree_,null,uM(n.pendingWriteTree_,Bn()))}function N$(n,t,e,i){if(vn(n.path))return L$(n,t,e,i);{const r=t.get(Bn());null==e&&null!=r&&(e=yp(r,Bn()));let o=[];const a=yn(n.path),d=n.operationForChild(a),f=t.children.get(a);if(f&&d){const m=e?e.getImmediateChild(a):null,v=v$(i,a);o=o.concat(N$(d,f,m,v))}return r&&(o=o.concat(W2(r,n,i,e))),o}}function L$(n,t,e,i){const r=t.get(Bn());null==e&&null!=r&&(e=yp(r,Bn()));let o=[];return t.children.inorderTraversal((a,d)=>{const f=e?e.getImmediateChild(a):null,m=v$(i,a),v=n.operationForChild(a);v&&(o=o.concat(L$(v,d,f,m)))}),r&&(o=o.concat(W2(r,n,i,e))),o}function B$(n,t){const e=t.query,i=CC(n,e);return{hashFn:()=>(function Ife(n){return n.viewCache_.serverCache.getNode()}(t)||cn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function qfe(n,t,e){const i=J2(n,e);if(i){const r=X2(i),o=r.path,a=r.queryId,d=To(o,t);return eB(n,o,new yC(V2(a),d))}return[]}(n,e._path,i):function zfe(n,t){return Uv(n,new yC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function jde(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return _M(n,e,null,o)}}}}function CC(n,t){const e=vM(t);return n.queryToTagMap.get(e)}function vM(n){return n._path.toString()+"$"+n._queryIdentifier}function J2(n,t){return n.tagToQueryMap.get(t)}function X2(n){const t=n.indexOf("$");return(0,H.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Yn(n.substr(0,t))}}function eB(n,t,e){const i=n.syncPointTree_.get(t);return(0,H.hu)(i,"Missing sync point for query tag that we're tracking"),W2(i,e,uM(n.pendingWriteTree_,t),null)}function EC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Ufe(){return(0,H.hu)(gM,"Reference.ts has not been loaded"),gM}())(n._repo,n._path):n}class tB{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new tB(e)}node(){return this.node_}}class nB{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Zi(this.path_,t);return new nB(this.syncTree_,e)}node(){return yM(this.syncTree_,this.path_)}}const Jfe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},V$=function(n,t,e){return n&&"object"==typeof n?((0,H.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Xfe(n[".sv"],t,e):"object"==typeof n[".sv"]?epe(n[".sv"],t):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Xfe=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,H.hu)(!1,"Unexpected server value: "+n)},epe=function(n,t,e){n.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,H.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,H.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},U$=function(n,t,e,i){return rB(t,new nB(e,n),i)},iB=function(n,t,e){return rB(n,new tB(t),e)};function rB(n,t,e){const i=n.getPriority().val(),r=V$(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const a=n,d=V$(a.getValue(),t,e);return d!==a.getValue()||r!==a.getPriority().val()?new Pv(d,ar(r)):n}{const a=n;return o=a,r!==a.getPriority().val()&&(o=o.updatePriority(new Pv(r))),a.forEachChild(xi,(d,f)=>{const m=rB(f,t.getImmediateChild(d),e);m!==f&&(o=o.updateImmediateChild(d,m))}),o}}class sB{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function bM(n,t){let e=t instanceof Yn?t:new Yn(t),i=n,r=yn(e);for(;null!==r;){const o=(0,H.DV)(i.node.children,r)||{children:{},childCount:0};i=new sB(r,i,o),e=_i(e),r=yn(e)}return i}function zg(n){return n.node.value}function oB(n,t){n.node.value=t,aB(n)}function H$(n){return n.node.childCount>0}function wM(n,t){Cs(n.node.children,(e,i)=>{t(new sB(e,n,i))})}function G$(n,t,e,i){e&&!i&&t(n),wM(n,r=>{G$(r,t,!0,i)}),e&&i&&t(n)}function DC(n){return new Yn(null===n.parent?n.name:DC(n.parent)+"/"+n.name)}function aB(n){null!==n.parent&&function ipe(n,t,e){const i=function tpe(n){return void 0===zg(n)&&!H$(n)}(e),r=(0,H.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,aB(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,aB(n))}(n.parent,n.name,n)}const rpe=/[\[\].#$\/\u0000-\u001F\u007F]/,spe=/[\[\].#$\u0000-\u001F\u007F]/,lB=10485760,xM=function(n){return"string"==typeof n&&0!==n.length&&!rpe.test(n)},j$=function(n){return"string"==typeof n&&0!==n.length&&!spe.test(n)},SC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!WI(n)||n&&"object"==typeof n&&(0,H.r3)(n,".sv")},Lu=function(n,t,e,i){i&&void 0===t||TC((0,H.gK)(n,"value"),t,e)},TC=function(n,t,e){const i=e instanceof Yn?new xhe(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Vg(i));if("function"==typeof t)throw new Error(n+"contains a function "+Vg(i)+" with contents = "+t.toString());if(WI(t))throw new Error(n+"contains "+t.toString()+" "+Vg(i));if("string"==typeof t&&t.length>lB/3&&(0,H.ug)(t)>lB)throw new Error(n+"contains a string greater than "+lB+" utf8 bytes "+Vg(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Cs(t,(a,d)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(o=!0,!xM(a)))throw new Error(n+" contains an invalid key ("+a+") "+Vg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Che(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,H.ug)(t),Xq(n)})(i,a),TC(n,d,i),function Ehe(n){const t=n.parts_.pop();n.byteLength_-=(0,H.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Vg(i)+" in addition to actual children.")}},z$=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,H.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];Cs(t,(a,d)=>{const f=new Yn(a);if(TC(r,d,Zi(e,f)),".priority"===E2(f)&&!SC(d))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=dC(i);for(let a=0;a<o.length;a++)if((".priority"!==o[a]||a!==o.length-1)&&!xM(o[a]))throw new Error(n+"contains an invalid key ("+o[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(whe);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Cl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},cB=function(n,t,e){if(!e||void 0!==t){if(WI(t))throw new Error((0,H.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!SC(t))throw new Error((0,H.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},AC=function(n,t,e,i){if(!(i&&void 0===e||xM(e)))throw new Error((0,H.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},IC=function(n,t,e,i){if(!(i&&void 0===e||j$(e)))throw new Error((0,H.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},lpe=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),IC(n,t,e,i)},Dl=function(n,t){if(".info"===yn(t))throw new Error(n+" failed = Can't modify data under /.info/")},q$=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!xM(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),j$(n)}(e))throw new Error((0,H.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class cpe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function CM(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!D2(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function $$(n,t,e){CM(n,e),Y$(n,i=>D2(i,t))}function Va(n,t,e){CM(n,e),Y$(n,i=>Cl(i,t)||Cl(t,i))}function Y$(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(upe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function upe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Lg&&xs("event: "+e.toString()),Rv(i)}}}const Z$="repo_interrupt",dpe=25;class hpe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cpe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=oM(),this.transactionQueueTree_=new sB,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function W$(n){const e=n.infoData_.getNode(new Yn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function MC(n){return Jfe({timestamp:W$(n)})}function K$(n,t,e,i,r){n.dataUpdateCount++;const o=new Yn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const f=(0,H.UI)(e,m=>ar(m));a=function $fe(n,t,e,i){const r=J2(n,i);if(r){const o=X2(r),a=o.path,d=o.queryId,f=To(a,t),m=Ci.fromObject(e);return eB(n,a,new Bv(V2(d),f,m))}return[]}(n.serverSyncTree_,o,f,r)}else{const f=ar(e);a=F$(n.serverSyncTree_,o,f,r)}else if(i){const f=(0,H.UI)(e,m=>ar(m));a=function jfe(n,t,e){const i=Ci.fromObject(e);return Uv(n,new Bv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,f)}else{const f=ar(e);a=xC(n.serverSyncTree_,o,f)}let d=o;a.length>0&&(d=Gv(n,o)),Va(n.eventQueue_,d,a)}function Q$(n,t){uB(n,"connected",t),!1===t&&function _pe(n){Hv(n,"onDisconnectEvents");const t=MC(n),e=oM();N2(n.onDisconnect_,Bn(),(r,o)=>{const a=U$(r,o,n.serverSyncTree_,t);Lv(e,r,a)});let i=[];N2(e,Bn(),(r,o)=>{i=i.concat(xC(n.serverSyncTree_,r,o));const a=pB(n,r);Gv(n,a)}),n.onDisconnect_=oM(),Va(n.eventQueue_,Bn(),i)}(n)}function uB(n,t,e){const i=new Yn("/.info/"+t),r=ar(e);n.infoData_.updateSnapshot(i,r);const o=xC(n.infoSyncTree_,i,r);Va(n.eventQueue_,i,o)}function EM(n){return n.nextWriteId_++}function dB(n,t,e,i,r){Hv(n,"set",{path:t.toString(),value:e,priority:i});const o=MC(n),a=ar(e,i),d=yM(n.serverSyncTree_,t),f=iB(a,d,o),m=EM(n),v=K2(n.serverSyncTree_,t,f,m,!0);CM(n.eventQueue_,v),n.server_.put(t.toString(),a.val(!0),(A,R)=>{const B="ok"===A;B||no("set at "+t+" failed: "+A);const q=bp(n.serverSyncTree_,m,!B);Va(n.eventQueue_,t,q),wp(0,r,A,R)});const D=pB(n,t);Gv(n,D),Va(n.eventQueue_,D,[])}function ype(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&F2(n.onDisconnect_,t),wp(0,e,i,r)})}function J$(n,t,e,i){const r=ar(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,a)=>{"ok"===o&&Lv(n.onDisconnect_,t,r),wp(0,i,o,a)})}function hB(n,t,e){let i;i=".info"===yn(t._path)?_M(n.infoSyncTree_,t,e):_M(n.serverSyncTree_,t,e),$$(n.eventQueue_,t._path,i)}function X$(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Z$)}function Hv(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),xs(e,...t)}function wp(n,t,e,i){t&&Rv(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const a=new Error(o);a.code=r,t(a)}})}function fB(n,t,e){return yM(n.serverSyncTree_,t,e)||cn.EMPTY_NODE}function DM(n,t=n.transactionQueueTree_){if(t||SM(n,t),zg(t)){const e=tY(n,t);(0,H.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Epe(n,t,e){const i=e.map(m=>m.currentWriteId),r=fB(n,t,i);let o=r;const a=r.hash();for(let m=0;m<e.length;m++){const v=e[m];(0,H.hu)(0===v.status,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const D=To(t,v.path);o=o.updateChild(D,v.currentOutputSnapshotRaw)}const d=o.val(!0),f=t;n.server_.put(f.toString(),d,m=>{Hv(n,"transaction put response",{path:f.toString(),status:m});let v=[];if("ok"===m){const D=[];for(let A=0;A<e.length;A++)e[A].status=2,v=v.concat(bp(n.serverSyncTree_,e[A].currentWriteId)),e[A].onComplete&&D.push(()=>e[A].onComplete(null,!0,e[A].currentOutputSnapshotResolved)),e[A].unwatcher();SM(n,bM(n.transactionQueueTree_,t)),DM(n,n.transactionQueueTree_),Va(n.eventQueue_,t,v);for(let A=0;A<D.length;A++)Rv(D[A])}else{if("datastale"===m)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{no("transaction at "+f.toString()+" failed: "+m);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=m}Gv(n,t)}},a)}(n,DC(t),e)}else H$(t)&&wM(t,e=>{DM(n,e)})}function Gv(n,t){const e=eY(n,t),i=DC(e);return function Dpe(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const f=t[d],m=To(e,f.path);let D,v=!1;if((0,H.hu)(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)v=!0,D=f.abortReason,r=r.concat(bp(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=dpe)v=!0,D="maxretry",r=r.concat(bp(n.serverSyncTree_,f.currentWriteId,!0));else{const A=fB(n,f.path,a);f.currentInputSnapshot=A;const R=t[d].update(A.val());if(void 0!==R){TC("transaction failed: Data returned ",R,f.path);let B=ar(R);"object"==typeof R&&null!=R&&(0,H.r3)(R,".priority")||(B=B.updatePriority(A.getPriority()));const W=f.currentWriteId,ce=MC(n),Re=iB(B,A,ce);f.currentOutputSnapshotRaw=B,f.currentOutputSnapshotResolved=Re,f.currentWriteId=EM(n),a.splice(a.indexOf(W),1),r=r.concat(K2(n.serverSyncTree_,f.path,Re,f.currentWriteId,f.applyLocally)),r=r.concat(bp(n.serverSyncTree_,W,!0))}else v=!0,D="nodata",r=r.concat(bp(n.serverSyncTree_,f.currentWriteId,!0))}Va(n.eventQueue_,e,r),r=[],v&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===D?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(D),!1,null)))}SM(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Rv(i[d]);DM(n,n.transactionQueueTree_)}(n,tY(n,e),i),i}function eY(n,t){let e,i=n.transactionQueueTree_;for(e=yn(t);null!==e&&void 0===zg(i);)i=bM(i,e),e=yn(t=_i(t));return i}function tY(n,t){const e=[];return nY(n,t,e),e.sort((i,r)=>i.order-r.order),e}function nY(n,t,e){const i=zg(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);wM(t,r=>{nY(n,r,e)})}function SM(n,t){const e=zg(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,oB(t,e.length>0?e:void 0)}wM(t,i=>{SM(n,i)})}function pB(n,t){const e=DC(eY(n,t)),i=bM(n.transactionQueueTree_,t);return function npe(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{mB(n,r)}),mB(n,i),G$(i,r=>{mB(n,r)}),e}function mB(n,t){const e=zg(t);if(e){const i=[];let r=[],o=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?((0,H.hu)(o===a-1,"All SENT items should be at beginning of queue."),o=a,e[a].status=3,e[a].abortReason="set"):((0,H.hu)(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(bp(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?oB(t,void 0):e.length=o+1,Va(n.eventQueue_,DC(t),r);for(let a=0;a<i.length;a++)Rv(i[a])}}const gB=function(n,t){const e=Ape(n),i=e.namespace;return"firebase.com"===e.domain&&Fu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Fu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&no("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new y2(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Yn(e.pathString)}},Ape=function(n){let t="",e="",i="",r="",o="",a=!0,d="https",f=443;if("string"==typeof n){let m=n.indexOf("//");m>=0&&(d=n.substring(0,m-1),n=n.substring(m+2));let v=n.indexOf("/");-1===v&&(v=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),t=n.substring(0,Math.min(v,D)),v<D&&(r=function Spe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(v,D)));const A=function Tpe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):no(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,D)));m=t.indexOf(":"),m>=0?(a="https"===d||"wss"===d,f=parseInt(t.substring(m+1),10)):m=t.length;const R=t.slice(0,m);if("localhost"===R.toLowerCase())e="localhost";else if(R.split(".").length<=2)e=R;else{const B=t.indexOf(".");i=t.substring(0,B).toLowerCase(),e=t.substring(B+1),o=i}"ns"in A&&(o=A.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:a,scheme:d,pathString:r,namespace:o}},iY="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ipe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=iY.charAt(e%64),e=Math.floor(e/64);(0,H.hu)(0===e,"Cannot push at time == 0");let a=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=iY.charAt(t[r]);return(0,H.hu)(20===a.length,"nextPushId: Length should be 20."),a}}();class rY{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.Wl)(this.snapshot.exportVal())}}class sY{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class _B{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,H.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class oY{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new H.BH;return ype(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Dl("OnDisconnect.remove",this._path);const t=new H.BH;return J$(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Dl("OnDisconnect.set",this._path),Lu("OnDisconnect.set",t,this._path,!1);const e=new H.BH;return J$(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Dl("OnDisconnect.setWithPriority",this._path),Lu("OnDisconnect.setWithPriority",t,this._path,!1),cB("OnDisconnect.setWithPriority",e,!1);const i=new H.BH;return function vpe(n,t,e,i,r){const o=ar(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(a,d)=>{"ok"===a&&Lv(n.onDisconnect_,t,o),wp(0,r,a,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Dl("OnDisconnect.update",this._path),z$("OnDisconnect.update",t,this._path,!1);const e=new H.BH;return function bpe(n,t,e,i){if((0,H.xb)(e))return xs("onDisconnect().update() called with empty data.  Don't do anything."),void wp(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&Cs(e,(a,d)=>{const f=ar(d);Lv(n.onDisconnect_,Zi(t,a),f)}),wp(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class oa{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return vn(this._path)?null:E2(this._path)}get ref(){return new Sl(this._repo,this._path)}get _queryIdentifier(){const t=u$(this._queryParams),e=g2(t);return"{}"===e?"default":e}get _queryObject(){return u$(this._queryParams)}isEqual(t){if(!((t=(0,H.m9)(t))instanceof oa))return!1;const e=this._repo===t._repo,i=D2(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function bhe(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function TM(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function xp(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Nu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==fp)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==hh)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===xi){if(null!=t&&!SC(t)||null!=e&&!SC(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,H.hu)(n.getIndex()instanceof M2||n.getIndex()===k2,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function AM(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Sl extends oa{constructor(t,e){super(t,e,new iM,!1)}get parent(){const t=Jq(this._path);return null===t?null:new Sl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class qg{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Yn(t),i=$g(this.ref,t);return new qg(this._node.getChild(e),i,xi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new qg(r,$g(this.ref,i),xi)))}hasChild(t){const e=new Yn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function aY(n,t){return(n=(0,H.m9)(n))._checkNotDeleted("ref"),void 0!==t?$g(n._root,t):n._root}function lY(n,t){(n=(0,H.m9)(n))._checkNotDeleted("refFromURL");const e=gB(t,n._repo.repoInfo_.nodeAdmin);q$("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Fu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),aY(n,e.path.toString())}function $g(n,t){return null===yn((n=(0,H.m9)(n))._path)?lpe("child","path",t,!1):IC("child","path",t,!1),new Sl(n._repo,Zi(n._path,t))}function yB(n,t){n=(0,H.m9)(n),Dl("set",n._path),Lu("set",t,n._path,!1);const e=new H.BH;return dB(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Ppe(n,t){z$("update",t,n._path,!1);const e=new H.BH;return function gpe(n,t,e,i){Hv(n,"update",{path:t.toString(),value:e});let r=!0;const o=MC(n),a={};if(Cs(e,(d,f)=>{r=!1,a[d]=U$(Zi(t,d),ar(f),n.serverSyncTree_,o)}),r)xs("update() called with empty data.  Don't do anything."),wp(0,i,"ok",void 0);else{const d=EM(n),f=function Gfe(n,t,e,i){!function sfe(n,t,e,i){(0,H.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=H2(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Ci.fromObject(e);return Uv(n,new Bv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,d);CM(n.eventQueue_,f),n.server_.merge(t.toString(),e,(m,v)=>{const D="ok"===m;D||no("update at "+t+" failed: "+m);const A=bp(n.serverSyncTree_,d,!D),R=A.length>0?Gv(n,t):t;Va(n.eventQueue_,R,A),wp(0,i,m,v)}),Cs(e,m=>{const v=pB(n,Zi(t,m));Gv(n,v)}),Va(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Fpe(n){n=(0,H.m9)(n);const t=new _B(()=>{}),e=new kC(t);return function mpe(n,t,e){const i=function Yfe(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(m,v)=>{const D=To(m,e);i=i||yp(v,D)});let r=n.syncPointTree_.get(e);r?i=i||yp(r,Bn()):(r=new I$,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,a=o?new gp(i,!0,!1):null;return function Mfe(n){return cM(n.viewCache_)}(M$(r,t,uM(n.pendingWriteTree_,t._path),o?a.getNode():cn.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=ar(r).withIndex(t._queryParams.getIndex());let a;if(Q2(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())a=xC(n.serverSyncTree_,t._path,o);else{const d=CC(n.serverSyncTree_,t);a=F$(n.serverSyncTree_,t._path,o,d)}return Va(n.eventQueue_,t._path,a),_M(n.serverSyncTree_,t,e,null,!0),o},r=>(Hv(n,"get for query "+(0,H.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new qg(i,new Sl(n._repo,n._path),n._queryParams.getIndex()))}class kC{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new rY("value",this,new qg(t.snapshotNode,new Sl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new sY(this,t,e):null}matches(t){return t instanceof kC&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class IM{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new sY(this,t,e):null}createEvent(t,e){(0,H.hu)(null!=t.childName,"Child events should have a childName.");const i=$g(new Sl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new rY(t.type,this,new qg(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof IM&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function RC(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const f=e,m=(v,D)=>{hB(n._repo,n,d),f(v,D)};m.userCallback=e.userCallback,m.context=e.context,e=m}const a=new _B(e,o||void 0),d="value"===t?new kC(a):new IM(t,a);return function wpe(n,t,e){let i;i=".info"===yn(t._path)?Q2(n.infoSyncTree_,t,e):Q2(n.serverSyncTree_,t,e),$$(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>hB(n._repo,n,d)}function vB(n,t,e,i){return RC(n,"value",t,e,i)}function cY(n,t,e,i){return RC(n,"child_added",t,e,i)}function uY(n,t,e,i){return RC(n,"child_changed",t,e,i)}function dY(n,t,e,i){return RC(n,"child_moved",t,e,i)}function hY(n,t,e,i){return RC(n,"child_removed",t,e,i)}function fY(n,t,e){let i=null;const r=e?new _B(e):null;"value"===t?i=new kC(r):t&&(i=new IM(t,r)),hB(n._repo,n,i)}class xc{}class pY extends xc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Lu("endAt",this._value,t._path,!0);const e=P2(t._queryParams,this._value,this._key);if(AM(e),xp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oa(t._repo,t._path,e,t._orderByCalled)}}class Lpe extends xc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Lu("endBefore",this._value,t._path,!1);const e=function $he(n,t,e){let i;return i=P2(n,t,n.index_===Nu||e?e:fp),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(AM(e),xp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oa(t._repo,t._path,e,t._orderByCalled)}}class mY extends xc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Lu("startAt",this._value,t._path,!0);const e=O2(t._queryParams,this._value,this._key);if(AM(e),xp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new oa(t._repo,t._path,e,t._orderByCalled)}}class Upe extends xc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Lu("startAfter",this._value,t._path,!1);const e=function qhe(n,t,e){let i;return i=O2(n,t,n.index_===Nu||e?e:hh),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(AM(e),xp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new oa(t._repo,t._path,e,t._orderByCalled)}}class Gpe extends xc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new oa(t._repo,t._path,function jhe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class zpe extends xc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new oa(t._repo,t._path,function zhe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class $pe extends xc{constructor(t){super(),this._path=t}_apply(t){TM(t,"orderByChild");const e=new Yn(this._path);if(vn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new M2(e),r=rM(t._queryParams,i);return xp(r),new oa(t._repo,t._path,r,!0)}}class Zpe extends xc{_apply(t){TM(t,"orderByKey");const e=rM(t._queryParams,Nu);return xp(e),new oa(t._repo,t._path,e,!0)}}class Kpe extends xc{_apply(t){TM(t,"orderByPriority");const e=rM(t._queryParams,xi);return xp(e),new oa(t._repo,t._path,e,!0)}}class Jpe extends xc{_apply(t){TM(t,"orderByValue");const e=rM(t._queryParams,k2);return xp(e),new oa(t._repo,t._path,e,!0)}}class eme extends xc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Lu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new pY(this._value,this._key)._apply(new mY(this._value,this._key)._apply(t))}}function Cc(n,...t){let e=(0,H.m9)(n);for(const i of t)e=i._apply(e);return e}(function Pfe(n){(0,H.hu)(!pM,"__referenceConstructor has already been defined"),pM=n})(Sl),function Vfe(n){(0,H.hu)(!gM,"__referenceConstructor has already been defined"),gM=n}(Sl);const nme="FIREBASE_DATABASE_EMULATOR_HOST",bB={};let gY=!1;function _Y(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Fu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xs("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,m,a=gB(o,r),d=a.repoInfo;typeof process<"u"&&process.env&&(m=process.env[nme]),m?(f=!0,o=`http://${m}?ns=${d.namespace}`,a=gB(o,r),d=a.repoInfo):f=!a.repoInfo.secure;const v=r&&f?new uC(uC.OWNER):new Wde(n.name,n.options,t);q$("Invalid Firebase Database URL",a),vn(a.path)||Fu("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function sme(n,t,e,i){let r=bB[t.name];r||(r={},bB[t.name]=r);let o=r[n.toURLString()];return o&&Fu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new hpe(n,gY,e,i),r[n.toURLString()]=o,o}(d,n,v,new Zde(n.name,e));return new ame(D,n)}class ame{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function fpe(n,t,e){if(n.stats_=w2(n.repoInfo_),n.forceRestClient_||Yde())n.server_=new sM(n.repoInfo_,(i,r,o,a)=>{K$(n,i,r,o,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Q$(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ug(n.repoInfo_,t,(i,r,o,a)=>{K$(n,i,r,o,a)},i=>{Q$(n,i)},i=>{!function ppe(n,t){Cs(t,(e,i)=>{uB(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Jde(n,t){const e=n.toString();return b2[e]||(b2[e]=t()),b2[e]}(n.repoInfo_,()=>new Jhe(n.stats_,n.server_)),n.infoData_=new Yhe,n.infoSyncTree_=new P$({startListening:(i,r,o,a)=>{let d=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(d=xC(n.infoSyncTree_,i._path,f),setTimeout(()=>{a("ok")},0)),d},stopListening:()=>{}}),uB(n,"connected",!1),n.serverSyncTree_=new P$({startListening:(i,r,o,a)=>(n.server_.listen(i,o,r,(d,f)=>{const m=a(d,f);Va(n.eventQueue_,i._path,m)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sl(this._repo,Bn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function rme(n,t){const e=bB[t];(!e||e[n.key]!==n)&&Fu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),X$(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Fu("Cannot call "+t+" on a deleted database.")}}function yY(){Uq.IS_TRANSPORT_INITIALIZED&&no("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function lme(){yY(),pp.forceDisallow()}function cme(){yY(),Ov.forceDisallow(),pp.forceAllow()}function hme(n,t){bq(n,t)}const pme={".sv":"timestamp"};class _me{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ug.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Ug.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function fme(n){mq(ys.SDK_VERSION),(0,ys._registerComponent)(new Jo.wA("database",(t,{instanceIdentifier:e})=>_Y(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ys.registerVersion)(fq,"0.14.4",n),(0,ys.registerVersion)(fq,"0.14.4","esm2017")}();const wme=new Xo.Yd("@firebase/database-compat"),bY=function(n){wme.warn("FIREBASE WARNING: "+n)};class Eme{constructor(t){this._delegate=t}cancel(t){(0,H.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,H.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,H.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,H.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,H.Dv)("OnDisconnect.set",1,2,arguments.length),(0,H.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,H.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,H.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,H.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,bY("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,H.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Dme{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,H.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Cp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,H.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,H.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,H.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,H.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,H.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),IC("DataSnapshot.child","path",t,!1),new Cp(this._database,this._delegate.child(t))}hasChild(t){return(0,H.Dv)("DataSnapshot.hasChild",1,1,arguments.length),IC("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,H.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,H.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,H.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Cp(this._database,e)))}hasChildren(){return(0,H.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,H.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,H.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ua(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Hs{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,H.Dv)("Query.on",2,4,arguments.length),(0,H.Wj)("Query.on","callback",e,!1);const a=Hs.getCancelAndContextArgs_("Query.on",i,r),d=(m,v)=>{e.call(a.context,new Cp(this.database,m),v)};d.userCallback=e,d.context=a.context;const f=null===(o=a.cancel)||void 0===o?void 0:o.bind(a.context);switch(t){case"value":return vB(this._delegate,d,f),e;case"child_added":return cY(this._delegate,d,f),e;case"child_removed":return hY(this._delegate,d,f),e;case"child_changed":return uY(this._delegate,d,f),e;case"child_moved":return dY(this._delegate,d,f),e;default:throw new Error((0,H.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,H.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,H.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,H.Wj)("Query.off","callback",e,!0),(0,H.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,fY(this._delegate,t,r)}else fY(this._delegate,t)}get(){return Fpe(this._delegate).then(t=>new Cp(this.database,t))}once(t,e,i,r){(0,H.Dv)("Query.once",1,4,arguments.length),(0,H.Wj)("Query.once","callback",e,!0);const o=Hs.getCancelAndContextArgs_("Query.once",i,r),a=new H.BH,d=(m,v)=>{const D=new Cp(this.database,m);e&&e.call(o.context,D,v),a.resolve(D)};d.userCallback=e,d.context=o.context;const f=m=>{o.cancel&&o.cancel.call(o.context,m),a.reject(m)};switch(t){case"value":vB(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":cY(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":hY(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":uY(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":dY(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,H.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return(0,H.Dv)("Query.limitToFirst",1,1,arguments.length),new Hs(this.database,Cc(this._delegate,function jpe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Gpe(n)}(t)))}limitToLast(t){return(0,H.Dv)("Query.limitToLast",1,1,arguments.length),new Hs(this.database,Cc(this._delegate,function qpe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new zpe(n)}(t)))}orderByChild(t){return(0,H.Dv)("Query.orderByChild",1,1,arguments.length),new Hs(this.database,Cc(this._delegate,function Ype(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return IC("orderByChild","path",n,!1),new $pe(n)}(t)))}orderByKey(){return(0,H.Dv)("Query.orderByKey",0,0,arguments.length),new Hs(this.database,Cc(this._delegate,function Wpe(){return new Zpe}()))}orderByPriority(){return(0,H.Dv)("Query.orderByPriority",0,0,arguments.length),new Hs(this.database,Cc(this._delegate,function Qpe(){return new Kpe}()))}orderByValue(){return(0,H.Dv)("Query.orderByValue",0,0,arguments.length),new Hs(this.database,Cc(this._delegate,function Xpe(){return new Jpe}()))}startAt(t=null,e){return(0,H.Dv)("Query.startAt",0,2,arguments.length),new Hs(this.database,Cc(this._delegate,function Vpe(n=null,t){return AC("startAt","key",t,!0),new mY(n,t)}(t,e)))}startAfter(t=null,e){return(0,H.Dv)("Query.startAfter",0,2,arguments.length),new Hs(this.database,Cc(this._delegate,function Hpe(n,t){return AC("startAfter","key",t,!0),new Upe(n,t)}(t,e)))}endAt(t=null,e){return(0,H.Dv)("Query.endAt",0,2,arguments.length),new Hs(this.database,Cc(this._delegate,function Npe(n,t){return AC("endAt","key",t,!0),new pY(n,t)}(t,e)))}endBefore(t=null,e){return(0,H.Dv)("Query.endBefore",0,2,arguments.length),new Hs(this.database,Cc(this._delegate,function Bpe(n,t){return AC("endBefore","key",t,!0),new Lpe(n,t)}(t,e)))}equalTo(t,e){return(0,H.Dv)("Query.equalTo",1,2,arguments.length),new Hs(this.database,Cc(this._delegate,function tme(n,t){return AC("equalTo","key",t,!0),new eme(n,t)}(t,e)))}toString(){return(0,H.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,H.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,H.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Hs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,H.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,H.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,H.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ua(this.database,new Sl(this._delegate._repo,this._delegate._path))}}class Ua extends Hs{constructor(t,e){super(t,new oa(e._repo,e._path,new iM,!1)),this.database=t,this._delegate=e}getKey(){return(0,H.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,H.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ua(this.database,$g(this._delegate,t))}getParent(){(0,H.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ua(this.database,t):null}getRoot(){return(0,H.Dv)("Reference.root",0,0,arguments.length),new Ua(this.database,this._delegate.root)}set(t,e){(0,H.Dv)("Reference.set",1,2,arguments.length),(0,H.Wj)("Reference.set","onComplete",e,!0);const i=yB(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,H.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,bY("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Dl("Reference.update",this._delegate._path),(0,H.Wj)("Reference.update","onComplete",e,!0);const i=Ppe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,H.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,H.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Ope(n,t,e){if(Dl("setWithPriority",n._path),Lu("setWithPriority",t,n._path,!1),cB("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new H.BH;return dB(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,H.Dv)("Reference.remove",0,1,arguments.length),(0,H.Wj)("Reference.remove","onComplete",t,!0);const e=function kpe(n){return Dl("remove",n._path),yB(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,H.Dv)("Reference.transaction",1,3,arguments.length),(0,H.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,H.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,H.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function yme(n,t,e){var i;if(n=(0,H.m9)(n),Dl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new H.BH,d=vB(n,()=>{});return function Cpe(n,t,e,i,r,o){Hv(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:_q(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=fB(n,t,void 0);a.currentInputSnapshot=d;const f=a.update(d.val());if(void 0===f)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{TC("transaction failed: Data returned ",f,a.path),a.status=0;const m=bM(n.transactionQueueTree_,t),v=zg(m)||[];let D;v.push(a),oB(m,v),"object"==typeof f&&null!==f&&(0,H.r3)(f,".priority")?(D=(0,H.DV)(f,".priority"),(0,H.hu)(SC(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(yM(n.serverSyncTree_,t)||cn.EMPTY_NODE).getPriority().val();const A=MC(n),R=ar(f,D),B=iB(R,d,A);a.currentOutputSnapshotRaw=R,a.currentOutputSnapshotResolved=B,a.currentWriteId=EM(n);const q=K2(n.serverSyncTree_,t,B,a.currentWriteId,a.applyLocally);Va(n.eventQueue_,t,q),DM(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(f,m,v)=>{let D=null;f?o.reject(f):(D=new qg(v,new Sl(n._repo,n._path),xi),o.resolve(new _me(m,D)))},d,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new Dme(o.committed,new Cp(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,H.Dv)("Reference.setPriority",1,2,arguments.length),(0,H.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Rpe(n,t){n=(0,H.m9)(n),Dl("setPriority",n._path),cB("setPriority",t,!1);const e=new H.BH;return dB(n._repo,Zi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,H.Dv)("Reference.push",0,2,arguments.length),(0,H.Wj)("Reference.push","onComplete",e,!0);const i=function Mpe(n,t){n=(0,H.m9)(n),Dl("push",n._path),Lu("push",t,n._path,!0);const e=W$(n._repo),i=Ipe(e),r=$g(n,i),o=$g(n,i);let a;return a=null!=t?yB(o,t).then(()=>o):Promise.resolve(o),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new Ua(this.database,a));e&&r.then(()=>e(null),a=>e(a));const o=new Ua(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Dl("Reference.onDisconnect",this._delegate._path),new Eme(new oY(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class OC{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:lme,forceLongPolling:cme}}useEmulator(t,e,i={}){!function vY(n,t,e,i={}){(n=(0,H.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Fu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Fu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new uC(uC.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,H.Sg)(i.mockUserToken,n.app.options.projectId);o=new uC(a)}!function ime(n,t,e,i){n.repoInfo_=new y2(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,H.Dv)("database.ref",0,1,arguments.length),t instanceof Ua){const e=lY(this._delegate,t.toString());return new Ua(this,e)}{const e=aY(this._delegate,t);return new Ua(this,e)}}refFromURL(t){(0,H.Dv)("database.refFromURL",1,1,arguments.length);const i=lY(this._delegate,t);return new Ua(this,i)}goOffline(){return(0,H.Dv)("database.goOffline",0,0,arguments.length),function ume(n){(n=(0,H.m9)(n))._checkNotDeleted("goOffline"),X$(n._repo)}(this._delegate)}goOnline(){return(0,H.Dv)("database.goOnline",0,0,arguments.length),function dme(n){(n=(0,H.m9)(n))._checkNotDeleted("goOnline"),function xpe(n){n.persistentConnection_&&n.persistentConnection_.resume(Z$)}(n._repo)}(this._delegate)}}OC.ServerValue={TIMESTAMP:function mme(){return pme}(),increment:n=>function gme(n){return{".sv":{increment:n}}}(n)};var Tme=Object.freeze({__proto__:null,initStandalone:function Sme({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){mq(e);const a=new Jo.zt("auth-internal",new Jo.H0("database-standalone"));return a.setComponent(new Jo.wA("auth-internal",()=>i,"PRIVATE")),{instance:new OC(_Y(n,a,void 0,t,o),n),namespace:r}}});const Ame=OC.ServerValue;function wY(n){return null==n}function xY(n){return"function"==typeof n.set}function CY(n,t){return xY(t)?t:n.ref(t)}function EY(n,t){if(function Mme(n){return"string"==typeof n}(n))return t.stringCase();if(xY(n))return t.firebaseCase();if(function kme(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function PC(n,t,e="on",i=Zo.z){return new pn.y(r=>{let o=null;return o=n[e](t,(a,d)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,Ke.U)(r=>{const{snapshot:o,prevKey:a}=r;let d=null;return o.exists()&&(d=o.key),{type:t,payload:o,prevKey:a,key:d}}),(0,qF.B)())}function DY(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Pme(n,t){const{payload:e,prevKey:i,key:r}=t,o=DY(n,r),a=function Ome(n,t){if(wY(t))return 0;{const e=DY(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(f=>{const m={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,n=[...n,m],!1})}return n;case"child_added":if(o>-1){const d=n[o-1];(d&&d.key||null)!==i&&(n=n.filter(f=>f.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(o>-1){const d=n.splice(o,1)[0];return(n=n.slice()).splice(a,0,d),n}return n;default:return n}}function SY(n){return(wY(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function TY(n,t,e){return function Rme(n,t,e){return PC(n,"value","once",e).pipe(_n(i=>{const r=[j(i)];return t.forEach(o=>r.push(PC(n,o,"on",e))),(0,Ai.T)(...r).pipe(oc(Pme,[]))}),ol())}(n,t=SY(t),e)}function AY(n,t,e){const i=(t=SY(t)).map(r=>PC(n,r,"on",e));return(0,Ai.T)(...i)}function IY(n,t){return function(i,r){return EY(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Bme(n){return function(e){return e?EY(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function MY(n,t){return function(){return PC(n,"value","on",t)}}!function Ime(n){n.INTERNAL.registerComponent(new Jo.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new OC(r,i)},"PUBLIC").setServiceProps({Reference:Ua,Query:Hs,Database:OC,DataSnapshot:Cp,enableLogging:hme,INTERNAL:Tme,ServerValue:Ame}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(vy.Z);const Hme=new s.OlP("angularfire2.realtimeDatabaseURL"),Gme=new s.OlP("angularfire2.database.use-emulator");let jme=(()=>{class n{constructor(e,i,r,o,a,d,f,m,v,D,A,R,B,q,W){this.schedulers=d;const ce=f,Re=(0,jr.on)(e,a,i);m&&wN(Re,a,v,A,R,B,D,q),this.database=(0,jr.cc)(`${Re.name}.database.${r}`,"AngularFireDatabase",Re.name,()=>{const Le=a.runOutsideAngular(()=>Re.database(r||void 0));return ce&&Le.useEmulator(...ce),Le},[ce])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>CY(this.database,e));let o=r;return i&&(o=i(r)),function Vme(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:IY(i,"update"),set:IY(i,"set"),push:r=>i.push(r),remove:Bme(i),snapshotChanges:r=>TY(n,r,e).pipe(Mn.iC),stateChanges:r=>AY(n,r,e).pipe(Mn.iC),auditTrail:r=>function Fme(n,t,e){return function Lme(n,t,e){return function Nme(n,t){return PC(n,"value","on",t).pipe((0,Ke.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(sI(t),(0,Ke.U)(([r,o])=>{const a=r.lastKeyToLoad,d=o.map(f=>f.key);return{actions:o,lastKeyToLoad:a,loadedKeys:d}}),sz(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Ke.U)(r=>r.actions))}(n,AY(n,t).pipe(oc((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(Mn.iC),valueChanges:(r,o)=>TY(n,r,e).pipe((0,Ke.U)(d=>d.map(f=>o&&o.idField?Object.assign(Object.assign({},f.payload.val()),{[o.idField]:f.key}):f.payload.val())),Mn.iC)}}(o,this)}object(e){return function Ume(n,t){return{query:n,snapshotChanges:()=>MY(n,t.schedulers.outsideAngular)().pipe(Mn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>MY(n,t.schedulers.outsideAngular)().pipe(Mn.iC,(0,Ke.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>CY(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jr.Dh),s.LFG(jr.xv,8),s.LFG(Hme,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Mn.HU),s.LFG(Gme,8),s.LFG(av,8),s.LFG(mN,8),s.LFG(gN,8),s.LFG(_N,8),s.LFG(yN,8),s.LFG(vN,8),s.LFG(bN,8),s.LFG(Rx,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zme=(()=>{class n{constructor(){jA.Z.registerVersion("angularfire",Mn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[jme]}),n})();function wB(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function jv(n,t){const e=t?"":"none";wB(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function kY(n,t,e){wB(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function MM(n,t){return t&&"none"!=t?n+" "+t:n}function RY(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function xB(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function CB(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function EB(n,t,e){const{top:i,bottom:r,left:o,right:a}=n;return e>=i&&e<=r&&t>=o&&t<=a}function FC(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function OY(n,t,e,i){const{top:r,right:o,bottom:a,left:d,width:f,height:m}=n,v=f*t,D=m*t;return i>r-D&&i<a+D&&e>d-v&&e<o+v}class PY{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:CB(e)})})}handleScroll(t){const e=Rr(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let o,a;if(e===this._document){const m=this.getViewportScrollPosition();o=m.top,a=m.left}else o=e.scrollTop,a=e.scrollLeft;const d=r.top-o,f=r.left-a;return this.positions.forEach((m,v)=>{m.clientRect&&e!==v&&e.contains(v)&&FC(m.clientRect,d,f)}),r.top=o,r.left=a,{top:d,left:f}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function FY(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?BY(n,t):("input"===i||"select"===i||"textarea"===i)&&LY(n,t),NY("canvas",n,t,BY),NY("input, textarea, select",n,t,LY),t}function NY(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const o=e.querySelectorAll(n);for(let a=0;a<r.length;a++)i(r[a],o[a])}}let Yme=0;function LY(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${Yme++}`)}function BY(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const VY=kr({passive:!0}),kM=kr({passive:!1}),DB=new Set(["position"]);class Wme{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Dt(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>jv(i,e)))}constructor(t,e,i,r,o,a){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ze.x,this._pointerMoveSubscription=x.w0.EMPTY,this._pointerUpSubscription=x.w0.EMPTY,this._scrollSubscription=x.w0.EMPTY,this._resizeSubscription=x.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ze.x,this.started=new Ze.x,this.released=new Ze.x,this.ended=new Ze.x,this.entered=new Ze.x,this.exited=new Ze.x,this.dropped=new Ze.x,this.moved=this._moveEvents,this._pointerDown=d=>{if(this.beforeStarted.next(),this._handles.length){const f=this._getTargetHandle(d);f&&!this._disabledHandles.has(f)&&!this.disabled&&this._initializeDragSequence(f,d)}else this.disabled||this._initializeDragSequence(this._rootElement,d)},this._pointerMove=d=>{const f=this._getPointerPositionOnPage(d);if(!this._hasStartedDragging){if(Math.abs(f.x-this._pickupPositionOnPage.x)+Math.abs(f.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const R=Date.now()>=this._dragStartTime+this._getDragStartDelay(d),B=this._dropContainer;if(!R)return void this._endDragSequence(d);(!B||!B.isDragging()&&!B.isReceiving())&&(d.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(d)))}return}d.preventDefault();const m=this._getConstrainedPointerPosition(f);if(this._hasMoved=!0,this._lastKnownPointerPosition=f,this._updatePointerDirectionDelta(m),this._dropContainer)this._updateActiveDropContainer(m,f);else{const v=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,D=this._activeTransform;D.x=m.x-v.x+this._passiveTransform.x,D.y=m.y-v.y+this._passiveTransform.y,this._applyRootElementTransform(D.x,D.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:m,event:d,distance:this._getDragDistance(m),delta:this._pointerDirectionDelta})})},this._pointerUp=d=>{this._endDragSequence(d)},this._nativeDragStart=d=>{if(this._handles.length){const f=this._getTargetHandle(d);f&&!this._disabledHandles.has(f)&&!this.disabled&&d.preventDefault()}else this.disabled||d.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new PY(i),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Un(i)),this._handles.forEach(i=>jv(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Un(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,kM),e.addEventListener("touchstart",this._pointerDown,VY),e.addEventListener("dragstart",this._nativeDragStart,kM)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Un(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),jv(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),jv(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){NC(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),d=this._getShadowRoot();r.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),kY(i,!1,DB),this._document.body.appendChild(r.replaceChild(o,i)),this._getPreviewInsertionPoint(r,d).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=NC(e),o=!r&&0!==e.button,a=this._rootElement,d=Rr(e),f=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),m=r?x_(e):w_(e);if(d&&d.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||f||m)return;if(this._handles.length){const A=a.style;this._rootElementTapHighlight=A.webkitTapHighlightColor||"",A.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(A=>this._updateOnScroll(A)),this._boundaryElement&&(this._boundaryRect=CB(this._boundaryElement));const v=this._previewTemplate;this._pickupPositionInElement=v&&v.template&&!v.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const D=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:D.x,y:D.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){kY(this._rootElement,!0,DB),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),a=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,a,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const o=t.matchSize?this._initialClientRect:null,a=t.viewContainer.createEmbeddedView(i,t.context);a.detectChanges(),r=HY(a,this._document),this._previewRef=a,t.matchSize?GY(r,o):r.style.transform=RM(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=FY(this._rootElement),GY(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return wB(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},DB),jv(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function $me(n){const t=getComputedStyle(n),e=xB(t,"transition-property"),i=e.find(d=>"transform"===d||"all"===d);if(!i)return 0;const r=e.indexOf(i),o=xB(t,"transition-duration"),a=xB(t,"transition-delay");return RY(o[r])+RY(a[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=a=>{(!a||Rr(a)===this._preview&&"transform"===a.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=HY(this._placeholderRef,this._document)):i=FY(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,a=NC(i)?i.targetTouches[0]:i,d=this._getViewportScrollPosition();return{x:o.left-t.left+(a.pageX-o.left-d.left),y:o.top-t.top+(a.pageY-o.top-d.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=NC(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const d=this._ownerSVGElement.createSVGPoint();return d.x=r,d.y=o,d.matrixTransform(a.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:a}=this._pickupPositionInElement,d=this._boundaryRect,{width:f,height:m}=this._getPreviewRect(),v=d.top+a,D=d.bottom-(m-a);i=UY(i,d.left+o,d.right-(f-o)),r=UY(r,v,D)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-o.x),d=Math.abs(i-o.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),d>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,jv(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,kM),t.removeEventListener("touchstart",this._pointerDown,VY),t.removeEventListener("dragstart",this._nativeDragStart,kM)}_applyRootElementTransform(t,e){const i=RM(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=MM(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=RM(t,e);this._preview.style.transform=MM(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,a=i.right-r.right,d=r.top-i.top,f=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),a>0&&(t-=a)):t=0,r.height>i.height?(d>0&&(e+=d),f>0&&(e-=f)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:NC(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Rr(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&FC(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Jc(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Un(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function RM(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function UY(n,t,e){return Math.max(t,Math.min(e,n))}function NC(n){return"t"===n.type[0]}function HY(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function GY(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=RM(t.left,t.top)}function LC(n,t){return Math.max(0,Math.min(t,n))}class Qme{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const o=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===a&&o.length>0)return null;const d="horizontal"===this.orientation,f=o.findIndex(W=>W.drag===t),m=o[a],D=m.clientRect,A=f>a?1:-1,R=this._getItemOffsetPx(o[f].clientRect,D,A),B=this._getSiblingOffsetPx(f,o,A),q=o.slice();return function Kme(n,t,e){const i=LC(t,n.length-1),r=LC(e,n.length-1);if(i===r)return;const o=n[i],a=r<i?-1:1;for(let d=i;d!==r;d+=a)n[d]=n[d+a];n[r]=o}(o,f,a),o.forEach((W,ce)=>{if(q[ce]===W)return;const Re=W.drag===t,Le=Re?R:B,Ye=Re?t.getPlaceholderElement():W.drag.getRootElement();W.offset+=Le,d?(Ye.style.transform=MM(`translate3d(${Math.round(W.offset)}px, 0, 0)`,W.initialTransform),FC(W.clientRect,0,Le)):(Ye.style.transform=MM(`translate3d(0, ${Math.round(W.offset)}px, 0)`,W.initialTransform),FC(W.clientRect,Le,0))}),this._previousSwap.overlaps=EB(D,e,i),this._previousSwap.drag=m.drag,this._previousSwap.delta=d?r.x:r.y,{previousIndex:f,currentIndex:a}}enter(t,e,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,a=this._activeDraggables,d=a.indexOf(t),f=t.getPlaceholderElement();let m=a[o];if(m===t&&(m=a[o+1]),!m&&(null==o||-1===o||o<a.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(m=a[0]),d>-1&&a.splice(d,1),m&&!this._dragDropRegistry.isDragging(m)){const v=m.getRootElement();v.parentElement.insertBefore(f,v),a.splice(o,0,t)}else Un(this._element).appendChild(f),a.push(t);f.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{FC(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:CB(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===i&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,o=e[t].clientRect,a=e[t+-1*i];let d=o[r?"width":"height"]*i;if(a){const f=r?"left":"top",m=r?"right":"bottom";-1===i?d-=a.clientRect[f]-o[m]:d+=o[f]-a.clientRect[m]}return d}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return r?t>=a.right:e>=a.bottom}{const a=i[0].clientRect;return r?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,i,r){const o="horizontal"===this.orientation,a=this._itemPositions.findIndex(({drag:d,clientRect:f})=>d!==t&&((!r||d!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?r.x:r.y)!==this._previousSwap.delta)&&(o?e>=Math.floor(f.left)&&e<Math.floor(f.right):i>=Math.floor(f.top)&&i<Math.floor(f.bottom))));return-1!==a&&this._sortPredicate(a,t)?a:-1}}const zY=.05;class Jme{constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ze.x,this.entered=new Ze.x,this.exited=new Ze.x,this.dropped=new Ze.x,this.sorted=new Ze.x,this.receivingStarted=new Ze.x,this.receivingStopped=new Ze.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=x.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ze.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function qme(n=0,t=Zo.z){return n<0&&(n=0),SN(n,n,t)}(0,cj).pipe(Nt(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,d=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-d):2===this._verticalScrollDirection&&a.scrollBy(0,d),1===this._horizontalScrollDirection?a.scrollBy(-d,0):2===this._horizontalScrollDirection&&a.scrollBy(d,0)})},this.element=Un(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new PY(i),this._sortStrategy=new Qme(this.element,e),this._sortStrategy.withSortPredicate((a,d)=>this.sortPredicate(a,d,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,a,d,f={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:a,dropPoint:d,event:f})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Un(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!OY(this._clientRect,.05,e,i))return;const o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,o=0;if(this._parentPositions.positions.forEach((a,d)=>{d===this._document||!a.clientRect||i||OY(a.clientRect,.05,t,e)&&([r,o]=function Xme(n,t,e,i){const r=qY(t,i),o=$Y(t,e);let a=0,d=0;if(r){const f=n.scrollTop;1===r?f>0&&(a=1):n.scrollHeight-f>n.clientHeight&&(a=2)}if(o){const f=n.scrollLeft;1===o?f>0&&(d=1):n.scrollWidth-f>n.clientWidth&&(d=2)}return[a,d]}(d,a.clientRect,t,e),(r||o)&&(i=d))}),!r&&!o){const{width:a,height:d}=this._viewportRuler.getViewportSize(),f={width:a,height:d,top:0,right:a,bottom:d,left:0};r=qY(f,e),o=$Y(f,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Un(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Un(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Un(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&EB(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!EB(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const o=Un(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Jc(Un(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function qY(n,t){const{top:e,bottom:i,height:r}=n,o=r*zY;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function $Y(n,t){const{left:e,right:i,width:r}=n,o=r*zY;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const OM=kr({passive:!1,capture:!0});let ege=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Ze.x,this.pointerUp=new Ze.x,this.scroll=new Ze.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,OM)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,OM)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:OM}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:OM}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,a)=>{this._document.addEventListener(a,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new pn.y(r=>this._ngZone.runOutsideAngular(()=>{const a=d=>{this._activeDragInstances.length&&r.next(d)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),(0,Ai.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(te))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tge={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let SB=(()=>{class n{constructor(e,i,r,o){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,i=tge){return new Wme(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Jme(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(te),s.LFG(s.R0b),s.LFG(cv),s.LFG(ege))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[SB],imports:[uv]}),n})(),dge=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=s.oAB({type:n,bootstrap:[dle]});static#n=this.\u0275inj=s.cJS({imports:[ya,Xae,uue,hf,MD,kd,Bj,kX,pz,f0,iee,Rde,vee,tX,jie,Fde,jr.hO.initializeApp(kJ),nQ,uQ,Ine,zme,sle,wee,Rj,ez,Woe,uge,Rj,yie,Yae,boe]})}return n})();Pp().bootstrapModule(dge).catch(n=>console.error(n))},9751:(vt,Ie,G)=>{G.d(Ie,{y:()=>we});var s=G(930),Y=G(727),F=G(8822),oe=G(9635),he=G(2416),te=G(576),Se=G(2806);let we=(()=>{class ne{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Xe=new ne;return Xe.source=this,Xe.operator=Me,Xe}subscribe(Me,Xe,lt){const xe=function K(ne){return ne&&ne instanceof s.Lv||function Q(ne){return ne&&(0,te.m)(ne.next)&&(0,te.m)(ne.error)&&(0,te.m)(ne.complete)}(ne)&&(0,Y.Nn)(ne)}(Me)?Me:new s.Hp(Me,Xe,lt);return(0,Se.x)(()=>{const{operator:Pe,source:Be}=this;xe.add(Pe?Pe.call(xe,Be):Be?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Xe){Me.error(Xe)}}forEach(Me,Xe){return new(Xe=Ce(Xe))((lt,xe)=>{const Pe=new s.Hp({next:Be=>{try{Me(Be)}catch(je){xe(je),Pe.unsubscribe()}},error:xe,complete:lt});this.subscribe(Pe)})}_subscribe(Me){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Me)}[F.L](){return this}pipe(...Me){return(0,oe.U)(Me)(this)}toPromise(Me){return new(Me=Ce(Me))((Xe,lt)=>{let xe;this.subscribe(Pe=>xe=Pe,Pe=>lt(Pe),()=>Xe(xe))})}}return ne.create=ze=>new ne(ze),ne})();function Ce(ne){var ze;return null!==(ze=ne??he.v.Promise)&&void 0!==ze?ze:Promise}},7579:(vt,Ie,G)=>{G.d(Ie,{x:()=>Se});var s=G(9751),Y=G(727);const oe=(0,G(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=G(8737),te=G(2806);let Se=(()=>{class Ce extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const ne=new we(this,this);return ne.operator=K,ne}_throwIfClosed(){if(this.closed)throw new oe}next(K){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(K)}})}error(K){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:ne}=this;for(;ne.length;)ne.shift().error(K)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:ne,isStopped:ze,observers:Me}=this;return ne||ze?Y.Lc:(this.currentObservers=null,Me.push(K),new Y.w0(()=>{this.currentObservers=null,(0,he.P)(Me,K)}))}_checkFinalizedStatuses(K){const{hasError:ne,thrownError:ze,isStopped:Me}=this;ne?K.error(ze):Me&&K.complete()}asObservable(){const K=new s.y;return K.source=this,K}}return Ce.create=(Q,K)=>new we(Q,K),Ce})();class we extends Se{constructor(Q,K){super(),this.destination=Q,this.source=K}next(Q){var K,ne;null===(ne=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===ne||ne.call(K,Q)}error(Q){var K,ne;null===(ne=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===ne||ne.call(K,Q)}complete(){var Q,K;null===(K=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===K||K.call(Q)}_subscribe(Q){var K,ne;return null!==(ne=null===(K=this.source)||void 0===K?void 0:K.subscribe(Q))&&void 0!==ne?ne:Y.Lc}}},930:(vt,Ie,G)=>{G.d(Ie,{Hp:()=>lt,Lv:()=>ne});var s=G(576),Y=G(727),F=G(2416),oe=G(7849),he=G(5032);const te=Ce("C",void 0,void 0);function Ce(Ae,Te,Fe){return{kind:Ae,value:Te,error:Fe}}var Q=G(3410),K=G(2806);class ne extends Y.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,Y.Nn)(Te)&&Te.add(this)):this.destination=je}static create(Te,Fe,qe){return new lt(Te,Fe,qe)}next(Te){this.isStopped?Be(function we(Ae){return Ce("N",Ae,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Be(function Se(Ae){return Ce("E",void 0,Ae)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Be(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Me(Ae,Te){return ze.call(Ae,Te)}class Xe{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(Te)}catch(qe){xe(qe)}}error(Te){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(Te)}catch(qe){xe(qe)}else xe(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Fe){xe(Fe)}}}class lt extends ne{constructor(Te,Fe,qe){let Ve;if(super(),(0,s.m)(Te)||!Te)Ve={next:Te??void 0,error:Fe??void 0,complete:qe??void 0};else{let de;this&&F.v.useDeprecatedNextContext?(de=Object.create(Te),de.unsubscribe=()=>this.unsubscribe(),Ve={next:Te.next&&Me(Te.next,de),error:Te.error&&Me(Te.error,de),complete:Te.complete&&Me(Te.complete,de)}):Ve=Te}this.destination=new Xe(Ve)}}function xe(Ae){F.v.useDeprecatedSynchronousErrorHandling?(0,K.O)(Ae):(0,oe.h)(Ae)}function Be(Ae,Te){const{onStoppedNotification:Fe}=F.v;Fe&&Q.z.setTimeout(()=>Fe(Ae,Te))}const je={closed:!0,next:he.Z,error:function Pe(Ae){throw Ae},complete:he.Z}},727:(vt,Ie,G)=>{G.d(Ie,{Lc:()=>te,w0:()=>he,Nn:()=>Se});var s=G(576);const F=(0,G(3888).d)(Ce=>function(K){Ce(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((ne,ze)=>`${ze+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var oe=G(8737);class he{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Me of K)Me.remove(this);else K.remove(this);const{initialTeardown:ne}=this;if((0,s.m)(ne))try{ne()}catch(Me){Q=Me instanceof F?Me.errors:[Me]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Me of ze)try{we(Me)}catch(Xe){Q=Q??[],Xe instanceof F?Q=[...Q,...Xe.errors]:Q.push(Xe)}}if(Q)throw new F(Q)}}add(Q){var K;if(Q&&Q!==this)if(this.closed)we(Q);else{if(Q instanceof he){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(Q)}}_hasParent(Q){const{_parentage:K}=this;return K===Q||Array.isArray(K)&&K.includes(Q)}_addParent(Q){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(Q),K):K?[K,Q]:Q}_removeParent(Q){const{_parentage:K}=this;K===Q?this._parentage=null:Array.isArray(K)&&(0,oe.P)(K,Q)}remove(Q){const{_finalizers:K}=this;K&&(0,oe.P)(K,Q),Q instanceof he&&Q._removeParent(this)}}he.EMPTY=(()=>{const Ce=new he;return Ce.closed=!0,Ce})();const te=he.EMPTY;function Se(Ce){return Ce instanceof he||Ce&&"closed"in Ce&&(0,s.m)(Ce.remove)&&(0,s.m)(Ce.add)&&(0,s.m)(Ce.unsubscribe)}function we(Ce){(0,s.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(vt,Ie,G)=>{G.d(Ie,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Ie,G)=>{G.d(Ie,{E:()=>Y});const Y=new(G(9751).y)(he=>he.complete())},8996:(vt,Ie,G)=>{G.d(Ie,{D:()=>Te});var s=G(8421),Y=G(5363),F=G(9468),te=G(9751),we=G(2202),Ce=G(576),Q=G(9672);function ne(Fe,qe){if(!Fe)throw new Error("Iterable cannot be null");return new te.y(Ve=>{(0,Q.f)(Ve,qe,()=>{const de=Fe[Symbol.asyncIterator]();(0,Q.f)(Ve,qe,()=>{de.next().then(rt=>{rt.done?Ve.complete():Ve.next(rt.value)})},0,!0)})})}var ze=G(3670),Me=G(8239),Xe=G(1144),lt=G(6495),xe=G(2206),Pe=G(4532),Be=G(3260);function Te(Fe,qe){return qe?function Ae(Fe,qe){if(null!=Fe){if((0,ze.c)(Fe))return function oe(Fe,qe){return(0,s.Xf)(Fe).pipe((0,F.R)(qe),(0,Y.Q)(qe))}(Fe,qe);if((0,Xe.z)(Fe))return function Se(Fe,qe){return new te.y(Ve=>{let de=0;return qe.schedule(function(){de===Fe.length?Ve.complete():(Ve.next(Fe[de++]),Ve.closed||this.schedule())})})}(Fe,qe);if((0,Me.t)(Fe))return function he(Fe,qe){return(0,s.Xf)(Fe).pipe((0,F.R)(qe),(0,Y.Q)(qe))}(Fe,qe);if((0,xe.D)(Fe))return ne(Fe,qe);if((0,lt.T)(Fe))return function K(Fe,qe){return new te.y(Ve=>{let de;return(0,Q.f)(Ve,qe,()=>{de=Fe[we.h](),(0,Q.f)(Ve,qe,()=>{let rt,Mt;try{({value:rt,done:Mt}=de.next())}catch(ct){return void Ve.error(ct)}Mt?Ve.complete():Ve.next(rt)},0,!0)}),()=>(0,Ce.m)(de?.return)&&de.return()})}(Fe,qe);if((0,Be.L)(Fe))return function je(Fe,qe){return ne((0,Be.Q)(Fe),qe)}(Fe,qe)}throw(0,Pe.z)(Fe)}(Fe,qe):(0,s.Xf)(Fe)}},8421:(vt,Ie,G)=>{G.d(Ie,{Xf:()=>ze});var s=G(7582),Y=G(1144),F=G(8239),oe=G(9751),he=G(3670),te=G(2206),Se=G(4532),we=G(6495),Ce=G(3260),Q=G(576),K=G(7849),ne=G(8822);function ze(Ae){if(Ae instanceof oe.y)return Ae;if(null!=Ae){if((0,he.c)(Ae))return function Me(Ae){return new oe.y(Te=>{const Fe=Ae[ne.L]();if((0,Q.m)(Fe.subscribe))return Fe.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,Y.z)(Ae))return function Xe(Ae){return new oe.y(Te=>{for(let Fe=0;Fe<Ae.length&&!Te.closed;Fe++)Te.next(Ae[Fe]);Te.complete()})}(Ae);if((0,F.t)(Ae))return function lt(Ae){return new oe.y(Te=>{Ae.then(Fe=>{Te.closed||(Te.next(Fe),Te.complete())},Fe=>Te.error(Fe)).then(null,K.h)})}(Ae);if((0,te.D)(Ae))return Pe(Ae);if((0,we.T)(Ae))return function xe(Ae){return new oe.y(Te=>{for(const Fe of Ae)if(Te.next(Fe),Te.closed)return;Te.complete()})}(Ae);if((0,Ce.L)(Ae))return function Be(Ae){return Pe((0,Ce.Q)(Ae))}(Ae)}throw(0,Se.z)(Ae)}function Pe(Ae){return new oe.y(Te=>{(function je(Ae,Te){var Fe,qe,Ve,de;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,s.KL)(Ae);!(qe=yield Fe.next()).done;)if(Te.next(qe.value),Te.closed)return}catch(rt){Ve={error:rt}}finally{try{qe&&!qe.done&&(de=Fe.return)&&(yield de.call(Fe))}finally{if(Ve)throw Ve.error}}Te.complete()})})(Ae,Te).catch(Fe=>Te.error(Fe))})}},6451:(vt,Ie,G)=>{G.d(Ie,{T:()=>te});var s=G(8189),Y=G(8421),F=G(515),oe=G(3269),he=G(8996);function te(...Se){const we=(0,oe.yG)(Se),Ce=(0,oe._6)(Se,1/0),Q=Se;return Q.length?1===Q.length?(0,Y.Xf)(Q[0]):(0,s.J)(Ce)((0,he.D)(Q,we)):F.E}},5403:(vt,Ie,G)=>{G.d(Ie,{x:()=>Y});var s=G(930);function Y(oe,he,te,Se,we){return new F(oe,he,te,Se,we)}class F extends s.Lv{constructor(he,te,Se,we,Ce,Q){super(he),this.onFinalize=Ce,this.shouldUnsubscribe=Q,this._next=te?function(K){try{te(K)}catch(ne){he.error(ne)}}:super._next,this._error=we?function(K){try{we(K)}catch(ne){he.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(K){he.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},4004:(vt,Ie,G)=>{G.d(Ie,{U:()=>F});var s=G(4482),Y=G(5403);function F(oe,he){return(0,s.e)((te,Se)=>{let we=0;te.subscribe((0,Y.x)(Se,Ce=>{Se.next(oe.call(he,Ce,we++))}))})}},8189:(vt,Ie,G)=>{G.d(Ie,{J:()=>F});var s=G(5577),Y=G(4671);function F(oe=1/0){return(0,s.z)(Y.y,oe)}},5577:(vt,Ie,G)=>{G.d(Ie,{z:()=>we});var s=G(4004),Y=G(8421),F=G(4482),oe=G(9672),he=G(5403),Se=G(576);function we(Ce,Q,K=1/0){return(0,Se.m)(Q)?we((ne,ze)=>(0,s.U)((Me,Xe)=>Q(ne,Me,ze,Xe))((0,Y.Xf)(Ce(ne,ze))),K):("number"==typeof Q&&(K=Q),(0,F.e)((ne,ze)=>function te(Ce,Q,K,ne,ze,Me,Xe,lt){const xe=[];let Pe=0,Be=0,je=!1;const Ae=()=>{je&&!xe.length&&!Pe&&Q.complete()},Te=qe=>Pe<ne?Fe(qe):xe.push(qe),Fe=qe=>{Me&&Q.next(qe),Pe++;let Ve=!1;(0,Y.Xf)(K(qe,Be++)).subscribe((0,he.x)(Q,de=>{ze?.(de),Me?Te(de):Q.next(de)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(Pe--;xe.length&&Pe<ne;){const de=xe.shift();Xe?(0,oe.f)(Q,Xe,()=>Fe(de)):Fe(de)}Ae()}catch(de){Q.error(de)}}))};return Ce.subscribe((0,he.x)(Q,Te,()=>{je=!0,Ae()})),()=>{lt?.()}}(ne,ze,Ce,K)))}},5363:(vt,Ie,G)=>{G.d(Ie,{Q:()=>oe});var s=G(9672),Y=G(4482),F=G(5403);function oe(he,te=0){return(0,Y.e)((Se,we)=>{Se.subscribe((0,F.x)(we,Ce=>(0,s.f)(we,he,()=>we.next(Ce),te),()=>(0,s.f)(we,he,()=>we.complete(),te),Ce=>(0,s.f)(we,he,()=>we.error(Ce),te)))})}},3099:(vt,Ie,G)=>{G.d(Ie,{B:()=>he});var s=G(8421),Y=G(7579),F=G(930),oe=G(4482);function he(Se={}){const{connector:we=(()=>new Y.x),resetOnError:Ce=!0,resetOnComplete:Q=!0,resetOnRefCountZero:K=!0}=Se;return ne=>{let ze,Me,Xe,lt=0,xe=!1,Pe=!1;const Be=()=>{Me?.unsubscribe(),Me=void 0},je=()=>{Be(),ze=Xe=void 0,xe=Pe=!1},Ae=()=>{const Te=ze;je(),Te?.unsubscribe()};return(0,oe.e)((Te,Fe)=>{lt++,!Pe&&!xe&&Be();const qe=Xe=Xe??we();Fe.add(()=>{lt--,0===lt&&!Pe&&!xe&&(Me=te(Ae,K))}),qe.subscribe(Fe),!ze&&lt>0&&(ze=new F.Hp({next:Ve=>qe.next(Ve),error:Ve=>{Pe=!0,Be(),Me=te(je,Ce,Ve),qe.error(Ve)},complete:()=>{xe=!0,Be(),Me=te(je,Q),qe.complete()}}),(0,s.Xf)(Te).subscribe(ze))})(ne)}}function te(Se,we,...Ce){if(!0===we)return void Se();if(!1===we)return;const Q=new F.Hp({next:()=>{Q.unsubscribe(),Se()}});return we(...Ce).subscribe(Q)}},9468:(vt,Ie,G)=>{G.d(Ie,{R:()=>Y});var s=G(4482);function Y(F,oe=0){return(0,s.e)((he,te)=>{te.add(F.schedule(()=>he.subscribe(te),oe))})}},8505:(vt,Ie,G)=>{G.d(Ie,{b:()=>he});var s=G(576),Y=G(4482),F=G(5403),oe=G(4671);function he(te,Se,we){const Ce=(0,s.m)(te)||Se||we?{next:te,error:Se,complete:we}:te;return Ce?(0,Y.e)((Q,K)=>{var ne;null===(ne=Ce.subscribe)||void 0===ne||ne.call(Ce);let ze=!0;Q.subscribe((0,F.x)(K,Me=>{var Xe;null===(Xe=Ce.next)||void 0===Xe||Xe.call(Ce,Me),K.next(Me)},()=>{var Me;ze=!1,null===(Me=Ce.complete)||void 0===Me||Me.call(Ce),K.complete()},Me=>{var Xe;ze=!1,null===(Xe=Ce.error)||void 0===Xe||Xe.call(Ce,Me),K.error(Me)},()=>{var Me,Xe;ze&&(null===(Me=Ce.unsubscribe)||void 0===Me||Me.call(Ce)),null===(Xe=Ce.finalize)||void 0===Xe||Xe.call(Ce)}))}):oe.y}},4408:(vt,Ie,G)=>{G.d(Ie,{o:()=>he});var s=G(727);class Y extends s.w0{constructor(Se,we){super()}schedule(Se,we=0){return this}}const F={setInterval(te,Se,...we){const{delegate:Ce}=F;return Ce?.setInterval?Ce.setInterval(te,Se,...we):setInterval(te,Se,...we)},clearInterval(te){const{delegate:Se}=F;return(Se?.clearInterval||clearInterval)(te)},delegate:void 0};var oe=G(8737);class he extends Y{constructor(Se,we){super(Se,we),this.scheduler=Se,this.work=we,this.pending=!1}schedule(Se,we=0){var Ce;if(this.closed)return this;this.state=Se;const Q=this.id,K=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(K,Q,we)),this.pending=!0,this.delay=we,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(K,this.id,we),this}requestAsyncId(Se,we,Ce=0){return F.setInterval(Se.flush.bind(Se,this),Ce)}recycleAsyncId(Se,we,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return we;null!=we&&F.clearInterval(we)}execute(Se,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(Se,we);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,we){let Q,Ce=!1;try{this.work(Se)}catch(K){Ce=!0,Q=K||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:Se,scheduler:we}=this,{actions:Ce}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(Ce,this),null!=Se&&(this.id=this.recycleAsyncId(we,Se,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Ie,G)=>{G.d(Ie,{v:()=>F});var s=G(6063);class Y{constructor(he,te=Y.now){this.schedulerActionCtor=he,this.now=te}schedule(he,te=0,Se){return new this.schedulerActionCtor(this,he).schedule(Se,te)}}Y.now=s.l.now;class F extends Y{constructor(he,te=Y.now){super(he,te),this.actions=[],this._active=!1}flush(he){const{actions:te}=this;if(this._active)return void te.push(he);let Se;this._active=!0;do{if(Se=he.execute(he.state,he.delay))break}while(he=te.shift());if(this._active=!1,Se){for(;he=te.shift();)he.unsubscribe();throw Se}}}},4986:(vt,Ie,G)=>{G.d(Ie,{P:()=>oe,z:()=>F});var s=G(4408);const F=new(G(7565).v)(s.o),oe=F},6063:(vt,Ie,G)=>{G.d(Ie,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(vt,Ie,G)=>{G.d(Ie,{z:()=>s});const s={setTimeout(Y,F,...oe){const{delegate:he}=s;return he?.setTimeout?he.setTimeout(Y,F,...oe):setTimeout(Y,F,...oe)},clearTimeout(Y){const{delegate:F}=s;return(F?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},2202:(vt,Ie,G)=>{G.d(Ie,{h:()=>Y});const Y=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Ie,G)=>{G.d(Ie,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Ie,G)=>{G.d(Ie,{_6:()=>te,jO:()=>oe,yG:()=>he});var s=G(576),Y=G(3532);function F(Se){return Se[Se.length-1]}function oe(Se){return(0,s.m)(F(Se))?Se.pop():void 0}function he(Se){return(0,Y.K)(F(Se))?Se.pop():void 0}function te(Se,we){return"number"==typeof F(Se)?Se.pop():we}},8737:(vt,Ie,G)=>{function s(Y,F){if(Y){const oe=Y.indexOf(F);0<=oe&&Y.splice(oe,1)}}G.d(Ie,{P:()=>s})},3888:(vt,Ie,G)=>{function s(Y){const oe=Y(he=>{Error.call(he),he.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}G.d(Ie,{d:()=>s})},2806:(vt,Ie,G)=>{G.d(Ie,{O:()=>oe,x:()=>F});var s=G(2416);let Y=null;function F(he){if(s.v.useDeprecatedSynchronousErrorHandling){const te=!Y;if(te&&(Y={errorThrown:!1,error:null}),he(),te){const{errorThrown:Se,error:we}=Y;if(Y=null,Se)throw we}}else he()}function oe(he){s.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=he)}},9672:(vt,Ie,G)=>{function s(Y,F,oe,he=0,te=!1){const Se=F.schedule(function(){oe(),te?Y.add(this.schedule(null,he)):this.unsubscribe()},he);if(Y.add(Se),!te)return Se}G.d(Ie,{f:()=>s})},4671:(vt,Ie,G)=>{function s(Y){return Y}G.d(Ie,{y:()=>s})},1144:(vt,Ie,G)=>{G.d(Ie,{z:()=>s});const s=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(vt,Ie,G)=>{G.d(Ie,{D:()=>Y});var s=G(576);function Y(F){return Symbol.asyncIterator&&(0,s.m)(F?.[Symbol.asyncIterator])}},576:(vt,Ie,G)=>{function s(Y){return"function"==typeof Y}G.d(Ie,{m:()=>s})},3670:(vt,Ie,G)=>{G.d(Ie,{c:()=>F});var s=G(8822),Y=G(576);function F(oe){return(0,Y.m)(oe[s.L])}},6495:(vt,Ie,G)=>{G.d(Ie,{T:()=>F});var s=G(2202),Y=G(576);function F(oe){return(0,Y.m)(oe?.[s.h])}},8239:(vt,Ie,G)=>{G.d(Ie,{t:()=>Y});var s=G(576);function Y(F){return(0,s.m)(F?.then)}},3260:(vt,Ie,G)=>{G.d(Ie,{L:()=>oe,Q:()=>F});var s=G(7582),Y=G(576);function F(he){return(0,s.FC)(this,arguments,function*(){const Se=he.getReader();try{for(;;){const{value:we,done:Ce}=yield(0,s.qq)(Se.read());if(Ce)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(we)}}finally{Se.releaseLock()}})}function oe(he){return(0,Y.m)(he?.getReader)}},3532:(vt,Ie,G)=>{G.d(Ie,{K:()=>Y});var s=G(576);function Y(F){return F&&(0,s.m)(F.schedule)}},4482:(vt,Ie,G)=>{G.d(Ie,{A:()=>Y,e:()=>F});var s=G(576);function Y(oe){return(0,s.m)(oe?.lift)}function F(oe){return he=>{if(Y(he))return he.lift(function(te){try{return oe(te,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,Ie,G)=>{function s(){}G.d(Ie,{Z:()=>s})},9635:(vt,Ie,G)=>{G.d(Ie,{U:()=>F,z:()=>Y});var s=G(4671);function Y(...oe){return F(oe)}function F(oe){return 0===oe.length?s.y:1===oe.length?oe[0]:function(te){return oe.reduce((Se,we)=>we(Se),te)}}},7849:(vt,Ie,G)=>{G.d(Ie,{h:()=>F});var s=G(2416),Y=G(3410);function F(oe){Y.z.setTimeout(()=>{const{onUnhandledError:he}=s.v;if(!he)throw oe;he(oe)})}},4532:(vt,Ie,G)=>{function s(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Ie,{z:()=>s})},4650:(vt,Ie,G)=>{G.d(Ie,{$8M:()=>Yl,$WT:()=>dr,$Z:()=>N1,AFp:()=>jS,ALo:()=>N0,AaK:()=>we,AsE:()=>$_,BQk:()=>L_,CHM:()=>qu,CRH:()=>pR,CZH:()=>fy,CqO:()=>Gb,D6c:()=>Cw,DdM:()=>gl,Dn7:()=>ly,EJc:()=>ir,EiD:()=>Nn,EpF:()=>oD,F$t:()=>gm,F4k:()=>Hb,FYo:()=>cE,FiY:()=>Ds,Gf:()=>ES,GfV:()=>v_,GkF:()=>pm,Gpc:()=>K,Gre:()=>xD,Hsn:()=>_f,Ikx:()=>ID,JOm:()=>Hr,JVY:()=>jB,JZr:()=>lt,KtG:()=>Bl,L6k:()=>zB,LAX:()=>$B,LFG:()=>$t,LSH:()=>ol,Lbi:()=>RR,Lck:()=>Qk,MAs:()=>sD,MMx:()=>S0,MR2:()=>KC,NdJ:()=>gf,O4$:()=>Wu,OlP:()=>fn,Oqu:()=>r0,P3R:()=>tb,PXZ:()=>jR,Q6J:()=>Bb,QGY:()=>mf,QbO:()=>OR,Qsj:()=>u1,R0b:()=>Qs,RDi:()=>NB,Rgc:()=>Vd,SBq:()=>sf,Sil:()=>YS,Suo:()=>DS,TTD:()=>wh,TgZ:()=>du,Tol:()=>vk,Udp:()=>H_,VKq:()=>M0,W1O:()=>TS,WFA:()=>fu,WLB:()=>dS,X6Q:()=>aw,XFs:()=>gt,Xpm:()=>Yt,Xts:()=>vd,Y36:()=>rm,YKP:()=>ry,YNc:()=>iD,Yjl:()=>tn,Yz7:()=>ht,Z0I:()=>Hn,ZZ4:()=>ww,_Bn:()=>Pm,_UZ:()=>hu,_Vd:()=>em,_c5:()=>Cy,_uU:()=>z_,aQg:()=>Qm,c2e:()=>PR,cJS:()=>Et,cg1:()=>p0,d8E:()=>f0,dDg:()=>UR,dqk:()=>gn,eBb:()=>qB,eFA:()=>$R,eJc:()=>dy,ekj:()=>Qb,eoX:()=>HR,evT:()=>xd,f3M:()=>Kn,g9A:()=>qS,h0i:()=>cc,hGG:()=>xw,hij:()=>q_,iGM:()=>CS,ifc:()=>V,ip1:()=>GS,jDz:()=>sS,kL8:()=>MD,kcU:()=>Lc,lG2:()=>Ot,lcZ:()=>If,lnq:()=>s0,lqb:()=>al,lri:()=>XS,mCW:()=>Xv,n5z:()=>id,n_E:()=>L0,oAB:()=>ae,oxw:()=>pu,pB0:()=>YB,q3G:()=>Ct,q4F:()=>f1,qLn:()=>b_,qOj:()=>Ob,qZA:()=>Id,qzn:()=>Qp,rWj:()=>iw,sBO:()=>cw,s_b:()=>Rs,soG:()=>py,tBr:()=>Qc,tb:()=>tT,tp0:()=>kr,uIk:()=>F_,vHH:()=>xe,vpe:()=>hc,wAp:()=>kt,xi3:()=>Fm,xp6:()=>S1,ynx:()=>pf,z2F:()=>H,z3N:()=>su,zSh:()=>f_,zs3:()=>lf});var s=G(7579),Y=G(727),F=G(9751),oe=G(6451),he=G(3099);function te(l){for(let c in l)if(l[c]===te)return c;throw Error("Could not find renamed property on target object.")}function Se(l,c){for(const u in c)c.hasOwnProperty(u)&&!l.hasOwnProperty(u)&&(l[u]=c[u])}function we(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(we).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function Ce(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const Q=te({__forward_ref__:te});function K(l){return l.__forward_ref__=K,l.toString=function(){return we(this())},l}function ne(l){return ze(l)?l():l}function ze(l){return"function"==typeof l&&l.hasOwnProperty(Q)&&l.__forward_ref__===K}function Me(l){return l&&!!l.\u0275providers}const lt="https://g.co/ng/security#xss";class xe extends Error{constructor(c,u){super(Pe(c,u)),this.code=c}}function Pe(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}function Be(l){return"string"==typeof l?l:null==l?"":String(l)}function qe(l,c){throw new xe(-201,!1)}function ve(l,c){null==l&&function re(l,c,u,h){throw new Error(`ASSERTION ERROR: ${l}`+(null==h?"":` [Expected=> ${u} ${h} ${c} <=Actual]`))}(c,l,null,"!=")}function ht(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function Et(l){return{providers:l.providers||[],imports:l.imports||[]}}function ln(l){return bn(l,Zn)||bn(l,Yr)}function Hn(l){return null!==ln(l)}function bn(l,c){return l.hasOwnProperty(c)?l[c]:null}function Gn(l){return l&&(l.hasOwnProperty(vi)||l.hasOwnProperty(ti))?l[vi]:null}const Zn=te({\u0275prov:te}),vi=te({\u0275inj:te}),Yr=te({ngInjectableDef:te}),ti=te({ngInjectorDef:te});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let ni;function si(l){const c=ni;return ni=l,c}function cr(l,c,u){const h=ln(l);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&gt.Optional?null:void 0!==c?c:void qe(we(l))}const gn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),oi={},Wi="__NG_DI_FLAG__",Wn="ngTempTokenPath",Er="ngTokenPath",ii=/\n/gm,Ei="\u0275",Jt="__source";let Zr;function en(l){const c=Zr;return Zr=l,c}function Vr(l,c=gt.Default){if(void 0===Zr)throw new xe(-203,!1);return null===Zr?cr(l,void 0,c):Zr.get(l,c&gt.Optional?null:void 0,c)}function $t(l,c=gt.Default){return(function js(){return ni}()||Vr)(ne(l),c)}function Kn(l,c=gt.Default){return $t(l,Ki(c))}function Ki(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function li(l){const c=[];for(let u=0;u<l.length;u++){const h=ne(l[u]);if(Array.isArray(h)){if(0===h.length)throw new xe(900,!1);let p,_=gt.Default;for(let b=0;b<h.length;b++){const E=h[b],T=ur(E);"number"==typeof T?-1===T?p=E.token:_|=T:p=E}c.push($t(p,_))}else c.push($t(h))}return c}function Dr(l,c){return l[Wi]=c,l.prototype[Wi]=c,l}function ur(l){return l[Wi]}function $(l){return{toString:l}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),V=(()=>{return(l=V||(V={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",V;var l})();const O={},J=[],De=te({\u0275cmp:te}),st=te({\u0275dir:te}),Rt=te({\u0275pipe:te}),Tt=te({\u0275mod:te}),Xt=te({\u0275fac:te}),Ft=te({__NG_ELEMENT_ID__:te});let Ln=0;function Yt(l){return $(()=>{const c=Dc(l),u={...c,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&l.dependencies||null,getStandaloneInjector:null,data:l.data||{},encapsulation:l.encapsulation||V.Emulated,id:"c"+Ln++,styles:l.styles||J,_:null,schemas:l.schemas||null,tView:null};Ep(u);const h=l.dependencies;return u.directiveDefs=Io(h,!1),u.pipeDefs=Io(h,!0),u})}function so(l){return bt(l)||Cn(l)}function _e(l){return null!==l}function ae(l){return $(()=>({type:l.type,bootstrap:l.bootstrap||J,declarations:l.declarations||J,imports:l.imports||J,exports:l.exports||J,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function yt(l,c){if(null==l)return O;const u={};for(const h in l)if(l.hasOwnProperty(h)){let p=l[h],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),u[p]=h,c&&(c[p]=_)}return u}function Ot(l){return $(()=>{const c=Dc(l);return Ep(c),c})}function tn(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function bt(l){return l[De]||null}function Cn(l){return l[st]||null}function un(l){return l[Rt]||null}function dr(l){const c=bt(l)||Cn(l)||un(l);return null!==c&&c.standalone}function Ui(l,c){const u=l[Tt]||null;if(!u&&!0===c)throw new Error(`Type ${we(l)} does not have '\u0275mod' property.`);return u}function Dc(l){const c={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:c,exportAs:l.exportAs||null,standalone:!0===l.standalone,selectors:l.selectors||J,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yt(l.inputs,c),outputs:yt(l.outputs)}}function Ep(l){l.features?.forEach(c=>c(l))}function Io(l,c){if(!l)return null;const u=c?un:so;return()=>("function"==typeof l?l():l).map(h=>u(h)).filter(_e)}const Hi=0,tt=1,Vt=2,jn=3,En=4,Mo=5,Gi=6,Wr=7,ri=8,Il=9,ci=10,Wt=11,Sc=12,os=13,oo=14,as=15,ui=16,aa=17,la=18,Kr=19,ao=20,di=21,On=22,Vu=1,Ml=2,Ha=7,ko=8,Qr=9,Qi=10;function Tr(l){return Array.isArray(l)&&"object"==typeof l[Vu]}function cs(l){return Array.isArray(l)&&!0===l[Vu]}function ca(l){return 0!=(4&l.flags)}function Tc(l){return l.componentOffset>-1}function kl(l){return 1==(1&l.flags)}function Ar(l){return!!l.template}function Ro(l){return 0!=(256&l[Vt])}function lo(l,c){return l.hasOwnProperty(Xt)?l[Xt]:null}class bh{constructor(c,u,h){this.previousValue=c,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function wh(){return Ac}function Ac(l){return l.type.prototype.ngOnChanges&&(l.setInput=Po),Ap}function Ap(){const l=Ic(this),c=l?.current;if(c){const u=l.previous;if(u===O)l.previous=c;else for(let h in c)u[h]=c[h];l.current=null,this.ngOnChanges(c)}}function Po(l,c,u,h){const p=this.declaredInputs[u],_=Ic(l)||function xh(l,c){return l[Hu]=c}(l,{previous:O,current:null}),b=_.current||(_.current={}),E=_.previous,T=E[p];b[p]=new bh(T&&T.currentValue,c,E===O),l[h]=c}wh.ngInherit=!0;const Hu="__ngSimpleChanges__";function Ic(l){return l[Hu]||null}const Qn=function(l,c,u){},Fl="svg";function Di(l){for(;Array.isArray(l);)l=l[Hi];return l}function ha(l,c){return Di(c[l])}function Ji(l,c){return Di(c[l.index])}function kc(l,c){return l.data[c]}function Ir(l,c){return l[c]}function ji(l,c){const u=c[l];return Tr(u)?u:u[Hi]}function Fo(l){return 64==(64&l[Vt])}function co(l,c){return null==c?null:l[c]}function Ll(l){l[la]=0}function za(l,c){l[Mo]+=c;let u=l,h=l[jn];for(;null!==h&&(1===c&&1===u[Mo]||-1===c&&0===u[Mo]);)h[Mo]+=c,u=h,h=h[jn]}const Ut={lFrame:Ul(null),bindingsEnabled:!0};function Eh(){return Ut.bindingsEnabled}function ye(){return Ut.lFrame.lView}function zt(){return Ut.lFrame.tView}function qu(l){return Ut.lFrame.contextLView=l,l[ri]}function Bl(l){return Ut.lFrame.contextLView=null,l}function hi(){let l=Sh();for(;null!==l&&64===l.type;)l=l.parent;return l}function Sh(){return Ut.lFrame.currentTNode}function ds(l,c){const u=Ut.lFrame;u.currentTNode=l,u.isParent=c}function Oc(){return Ut.lFrame.isParent}function Th(){Ut.lFrame.isParent=!1}function Xi(){const l=Ut.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function Ur(){return Ut.lFrame.bindingIndex}function uo(){return Ut.lFrame.bindingIndex++}function qs(l){const c=Ut.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,u}function Mh(l,c){const u=Ut.lFrame;u.bindingIndex=u.bindingRootIndex=l,fi(c)}function fi(l){Ut.lFrame.currentDirectiveIndex=l}function Pc(l){const c=Ut.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function Vl(){return Ut.lFrame.currentQueryIndex}function kh(l){Ut.lFrame.currentQueryIndex=l}function Fc(l){const c=l[tt];return 2===c.type?c.declTNode:1===c.type?l[Gi]:null}function Rh(l,c,u){if(u&gt.SkipSelf){let p=c,_=l;for(;!(p=p.parent,null!==p||u&gt.Host||(p=Fc(_),null===p||(_=_[as],10&p.type))););if(null===p)return!1;c=p,l=_}const h=Ut.lFrame=$u();return h.currentTNode=c,h.lView=l,!0}function Ya(l){const c=$u(),u=l[tt];Ut.lFrame=c,c.currentTNode=u.firstChild,c.lView=l,c.tView=u,c.contextLView=l,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function $u(){const l=Ut.lFrame,c=null===l?null:l.child;return null===c?Ul(l):c}function Ul(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function Yu(){const l=Ut.lFrame;return Ut.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Nc=Yu;function Oh(){const l=Yu();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function pr(){return Ut.lFrame.selectedIndex}function $s(l){Ut.lFrame.selectedIndex=l}function zn(){const l=Ut.lFrame;return kc(l.tView,l.selectedIndex)}function Wu(){Ut.lFrame.currentNamespace=Fl}function Lc(){!function e_(){Ut.lFrame.currentNamespace=null}()}function Bc(l,c){for(let u=c.directiveStart,h=c.directiveEnd;u<h;u++){const _=l.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:M,ngOnDestroy:P}=_;b&&(l.contentHooks??(l.contentHooks=[])).push(-u,b),E&&((l.contentHooks??(l.contentHooks=[])).push(u,E),(l.contentCheckHooks??(l.contentCheckHooks=[])).push(u,E)),T&&(l.viewHooks??(l.viewHooks=[])).push(-u,T),M&&((l.viewHooks??(l.viewHooks=[])).push(u,M),(l.viewCheckHooks??(l.viewCheckHooks=[])).push(u,M)),null!=P&&(l.destroyHooks??(l.destroyHooks=[])).push(u,P)}}function Ku(l,c,u){Vc(l,c,3,u)}function Nh(l,c,u,h){(3&l[Vt])===u&&Vc(l,c,u,h)}function Lh(l,c){let u=l[Vt];(3&u)===c&&(u&=2047,u+=1,l[Vt]=u)}function Vc(l,c,u,h){const _=h??-1,b=c.length-1;let E=0;for(let T=void 0!==h?65535&l[la]:0;T<b;T++)if("number"==typeof c[T+1]){if(E=c[T],null!=h&&E>=h)break}else c[T]<0&&(l[la]+=65536),(E<_||-1==_)&&(Wa(l,u,c,T),l[la]=(4294901760&l[la])+T+2),T++}function Wa(l,c,u,h){const p=u[h]<0,_=u[h+1],E=l[p?-u[h]:u[h]];if(p){if(l[Vt]>>11<l[la]>>16&&(3&l[Vt])===c){l[Vt]+=2048,Qn(4,E,_);try{_.call(E)}finally{Qn(5,E,_)}}}else{Qn(4,E,_);try{_.call(E)}finally{Qn(5,E,_)}}}const Hl=-1;class ho{constructor(c,u,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Ka(l,c,u){let h=0;for(;h<u.length;){const p=u[h];if("number"==typeof p){if(0!==p)break;h++;const _=u[h++],b=u[h++],E=u[h++];l.setAttribute(c,b,E,_)}else{const _=p,b=u[++h];Bo(_)?l.setProperty(c,_,b):l.setAttribute(c,_,b),h++}}return h}function Vh(l){return 3===l||4===l||6===l}function Bo(l){return 64===l.charCodeAt(0)}function pa(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let u=-1;for(let h=0;h<c.length;h++){const p=c[h];"number"==typeof p?u=p:0===u||Qa(l,u,p,null,-1===u||2===u?c[++h]:null)}}return l}function Qa(l,c,u,h,p){let _=0,b=l.length;if(-1===c)b=-1;else for(;_<l.length;){const E=l[_++];if("number"==typeof E){if(E===c){b=-1;break}if(E>c){b=_-1;break}}}for(;_<l.length;){const E=l[_];if("number"==typeof E)break;if(E===u){if(null===h)return void(null!==p&&(l[_+1]=p));if(h===l[_+1])return void(l[_+2]=p)}_++,null!==h&&_++,null!==p&&_++}-1!==b&&(l.splice(b,0,c),_=b+1),l.splice(_++,0,u),null!==h&&l.splice(_++,0,h),null!==p&&l.splice(_++,0,p)}function ma(l){return l!==Hl}function Ja(l){return 32767&l}function zl(l,c){let u=function jl(l){return l>>16}(l),h=c;for(;u>0;)h=h[as],u--;return h}let Ju=!0;function ql(l){const c=Ju;return Ju=l,c}const Xu=255,Gc=5;let ed=0;const Mr={};function td(l,c){const u=Hh(l,c);if(-1!==u)return u;const h=c[tt];h.firstCreatePass&&(l.injectorIndex=c.length,Ys(h.data,l),Ys(c,null),Ys(h.blueprint,null));const p=pi(l,c),_=l.injectorIndex;if(ma(p)){const b=Ja(p),E=zl(p,c),T=E[tt].data;for(let M=0;M<8;M++)c[_+M]=E[b+M]|T[b+M]}return c[_+8]=p,_}function Ys(l,c){l.push(0,0,0,0,0,0,0,0,c)}function Hh(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function pi(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let u=0,h=null,p=c;for(;null!==p;){if(h=ga(p),null===h)return Hl;if(u++,p=p[as],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return Hl}function Vo(l,c,u){!function Uh(l,c,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Ft)&&(h=u[Ft]),null==h&&(h=u[Ft]=ed++);const p=h&Xu;c.data[l+(p>>Gc)]|=1<<p}(l,c,u)}function Gh(l,c,u){if(u&gt.Optional||void 0!==l)return l;qe()}function $l(l,c,u,h){if(u&gt.Optional&&void 0===h&&(h=null),!(u&(gt.Self|gt.Host))){const p=l[Il],_=si(void 0);try{return p?p.get(c,h,u&gt.Optional):cr(c,h,u&gt.Optional)}finally{si(_)}}return Gh(h,0,u)}function jh(l,c,u,h=gt.Default,p){if(null!==l){if(1024&c[Vt]){const b=function Pp(l,c,u,h,p){let _=l,b=c;for(;null!==_&&null!==b&&1024&b[Vt]&&!(256&b[Vt]);){const E=zc(_,b,u,h|gt.Self,Mr);if(E!==Mr)return E;let T=_.parent;if(!T){const M=b[di];if(M){const P=M.get(u,Mr,h);if(P!==Mr)return P}T=ga(b),b=b[as]}_=T}return p}(l,c,u,h,Mr);if(b!==Mr)return b}const _=zc(l,c,u,h,Mr);if(_!==Mr)return _}return $l(c,u,h,p)}function zc(l,c,u,h,p){const _=function Op(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(Ft)?l[Ft]:void 0;return"number"==typeof c?c>=0?c&Xu:nd:c}(u);if("function"==typeof _){if(!Rh(c,l,h))return h&gt.Host?Gh(p,0,h):$l(c,u,h,p);try{const b=_(h);if(null!=b||h&gt.Optional)return b;qe()}finally{Nc()}}else if("number"==typeof _){let b=null,E=Hh(l,c),T=Hl,M=h&gt.Host?c[ui][Gi]:null;for((-1===E||h&gt.SkipSelf)&&(T=-1===E?pi(l,c):c[E+8],T!==Hl&&qc(h,!1)?(b=c[tt],E=Ja(T),c=zl(T,c)):E=-1);-1!==E;){const P=c[tt];if(Uo(_,E,P.data)){const z=Si(E,c,u,b,h,M);if(z!==Mr)return z}T=c[E+8],T!==Hl&&qc(h,c[tt].data[E+8]===M)&&Uo(_,E,c)?(b=P,E=Ja(T),c=zl(T,c)):E=-1}}return p}function Si(l,c,u,h,p,_){const b=c[tt],E=b.data[l+8],P=Xa(E,b,u,null==h?Tc(E)&&Ju:h!=b&&0!=(3&E.type),p&gt.Host&&_===E);return null!==P?Jn(c,b,P,E):Mr}function Xa(l,c,u,h,p){const _=l.providerIndexes,b=c.data,E=1048575&_,T=l.directiveStart,P=_>>20,X=p?E+P:l.directiveEnd;for(let se=h?E:E+P;se<X;se++){const Ee=b[se];if(se<T&&u===Ee||se>=T&&Ee.type===u)return se}if(p){const se=b[T];if(se&&Ar(se)&&se.type===u)return T}return null}function Jn(l,c,u,h){let p=l[u];const _=c.data;if(function n_(l){return l instanceof ho}(p)){const b=p;b.resolving&&function Ae(l,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new xe(-200,`Circular dependency in DI detected for ${l}${u}`)}(function je(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():Be(l)}(_[u]));const E=ql(b.canSeeViewProviders);b.resolving=!0;const T=b.injectImpl?si(b.injectImpl):null;Rh(l,h,gt.Default);try{p=l[u]=b.factory(void 0,_,l,h),c.firstCreatePass&&u>=h.directiveStart&&function t_(l,c,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:_}=c.type.prototype;if(h){const b=Ac(c);(u.preOrderHooks??(u.preOrderHooks=[])).push(l,b),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(l,b)}p&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-l,p),_&&((u.preOrderHooks??(u.preOrderHooks=[])).push(l,_),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(l,_))}(u,_[u],c)}finally{null!==T&&si(T),ql(E),b.resolving=!1,Nc()}}return p}function Uo(l,c,u){return!!(u[c+(l>>Gc)]&1<<l)}function qc(l,c){return!(l&gt.Self||l&gt.Host&&c)}class el{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,h){return jh(this._tNode,this._lView,c,Ki(h),u)}}function nd(){return new el(hi(),ye())}function id(l){return $(()=>{const c=l.prototype.constructor,u=c[Xt]||Ho(c),h=Object.prototype;let p=Object.getPrototypeOf(l.prototype).constructor;for(;p&&p!==h;){const _=p[Xt]||Ho(p);if(_&&_!==u)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function Ho(l){return ze(l)?()=>{const c=Ho(ne(l));return c&&c()}:lo(l)}function ga(l){const c=l[tt],u=c.type;return 2===u?c.declTNode:1===u?l[Gi]:null}function Yl(l){return function jc(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const u=l.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const _=u[p];if(Vh(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(_===c)return u[p+1];p+=2}}}return null}(hi(),l)}const ya="__parameters__";function va(l,c,u){return $(()=>{const h=function zh(l){return function(...u){if(l){const h=l(...u);for(const p in h)this[p]=h[p]}}}(c);function p(..._){if(this instanceof p)return h.apply(this,_),this;const b=new p(..._);return E.annotation=b,E;function E(T,M,P){const z=T.hasOwnProperty(ya)?T[ya]:Object.defineProperty(T,ya,{value:[]})[ya];for(;z.length<=P;)z.push(null);return(z[P]=z[P]||[]).push(b),T}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=l,p.annotationCls=p,p})}class fn{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=ht({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Go(l,c){l.forEach(u=>Array.isArray(u)?Go(u,c):c(u))}function cd(l,c,u){c>=l.length?l.push(u):l.splice(c,0,u)}function Zl(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function tl(l,c){const u=[];for(let h=0;h<l;h++)u.push(c);return u}function hs(l,c,u){let h=nl(l,c);return h>=0?l[1|h]=u:(h=~h,function Wl(l,c,u,h){let p=l.length;if(p==c)l.push(u,h);else if(1===p)l.push(h,l[0]),l[0]=u;else{for(p--,l.push(l[p-1],l[p]);p>c;)l[p]=l[p-2],p--;l[c]=u,l[c+1]=h}}(l,h,c,u)),h}function wa(l,c){const u=nl(l,c);if(u>=0)return l[1|u]}function nl(l,c){return function Kc(l,c,u){let h=0,p=l.length>>u;for(;p!==h;){const _=h+(p-h>>1),b=l[_<<u];if(c===b)return _<<u;b>c?p=_:h=_+1}return~(p<<u)}(l,c,1)}const Qc=Dr(va("Inject",l=>({token:l})),-1),Ds=Dr(va("Optional"),8),kr=Dr(va("SkipSelf"),4);var Hr=(()=>((Hr=Hr||{})[Hr.Important=1]="Important",Hr[Hr.DashCase=2]="DashCase",Hr))();const Ql=new Map;let pd=0;const ie="__ngContext__";function ue(l,c){Tr(c)?(l[ie]=c[ao],function Gp(l){Ql.set(l[ao],l)}(c)):l[ie]=c}let Ks;function rl(l,c){return Ks(l,c)}function Jl(l){const c=l[jn];return cs(c)?c[jn]:c}function Da(l){return r_(l[os])}function jp(l){return r_(l[En])}function r_(l){for(;null!==l&&!cs(l);)l=l[En];return l}function _d(l,c,u,h,p){if(null!=h){let _,b=!1;cs(h)?_=h:Tr(h)&&(b=!0,h=h[Hi]);const E=Di(h);0===l&&null!==u?null==p?ms(c,u,E):nn(c,u,E,p||null,!0):1===l&&null!==u?nn(c,u,E,p||null,!0):2===l?function HC(l,c,u){const h=yd(l,c);h&&function zp(l,c,u,h){l.removeChild(c,u,h)}(l,h,c,u)}(c,E,b):3===l&&c.destroyNode(E),null!=_&&function RB(l,c,u,h,p){const _=u[Ha];_!==Di(u)&&_d(c,l,h,_,p);for(let E=Qi;E<u.length;E++){const T=u[E];d_(T[tt],T,l,c,h,_)}}(c,l,_,u,p)}}function a_(l,c,u){return l.createElement(c,u)}function C(l,c){const u=l[Qr],h=u.indexOf(c),p=c[jn];512&c[Vt]&&(c[Vt]&=-513,za(p,-1)),u.splice(h,1)}function k(l,c){if(l.length<=Qi)return;const u=Qi+c,h=l[u];if(h){const p=h[aa];null!==p&&p!==l&&C(p,h),c>0&&(l[u-1][En]=h[En]);const _=Zl(l,Qi+c);!function Wv(l,c){d_(l,c,c[Wt],2,null,null),c[Hi]=null,c[Gi]=null}(h[tt],h);const b=_[Kr];null!==b&&b.detachView(_[tt]),h[jn]=null,h[En]=null,h[Vt]&=-65}return h}function N(l,c){if(!(128&c[Vt])){const u=c[Wt];u.destroyNode&&d_(l,c,u,3,null,null),function w(l){let c=l[os];if(!c)return ee(l[tt],l);for(;c;){let u=null;if(Tr(c))u=c[os];else{const h=c[Qi];h&&(u=h)}if(!u){for(;c&&!c[En]&&c!==l;)Tr(c)&&ee(c[tt],c),c=c[jn];null===c&&(c=l),Tr(c)&&ee(c[tt],c),u=c&&c[En]}c=u}}(c)}}function ee(l,c){if(!(128&c[Vt])){c[Vt]&=-65,c[Vt]|=128,function We(l,c){let u;if(null!=l&&null!=(u=l.destroyHooks))for(let h=0;h<u.length;h+=2){const p=c[u[h]];if(!(p instanceof ho)){const _=u[h+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const E=p[_[b]],T=_[b+1];Qn(4,E,T);try{T.call(E)}finally{Qn(5,E,T)}}else{Qn(4,p,_);try{_.call(p)}finally{Qn(5,p,_)}}}}}(l,c),function pe(l,c){const u=l.cleanup,h=c[Wr];let p=-1;if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const b=u[_+3];b>=0?h[p=b]():h[p=-b].unsubscribe(),_+=2}else{const b=h[p=u[_+1]];u[_].call(b)}if(null!==h){for(let _=p+1;_<h.length;_++)(0,h[_])();c[Wr]=null}}(l,c),1===c[tt].type&&c[Wt].destroy();const u=c[aa];if(null!==u&&cs(c[jn])){u!==c[jn]&&C(u,c);const h=c[Kr];null!==h&&h.detachView(l)}!function x(l){Ql.delete(l[ao])}(c)}}function nt(l,c,u){return function xt(l,c,u){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return u[Hi];{const{componentOffset:p}=h;if(p>-1){const{encapsulation:_}=l.data[h.directiveStart+p];if(_===V.None||_===V.Emulated)return null}return Ji(h,u)}}(l,c.parent,u)}function nn(l,c,u,h,p){l.insertBefore(c,u,h,p)}function ms(l,c,u){l.appendChild(c,u)}function sl(l,c,u,h,p){null!==h?nn(l,c,u,h,p):ms(l,c,u)}function yd(l,c){return l.parentNode(c)}function l_(l,c,u){return c_(l,c,u)}let $p,Qv,zC,Jv,c_=function qp(l,c,u){return 40&l.type?Ji(l,u):null};function Xh(l,c,u,h){const p=nt(l,h,c),_=c[Wt],E=l_(h.parent||c[Gi],h,c);if(null!=p)if(Array.isArray(u))for(let T=0;T<u.length;T++)sl(_,p,u[T],E,!1);else sl(_,p,u,E,!1);void 0!==$p&&$p(_,h,c,u,p)}function Zp(l,c){if(null!==c){const u=c.type;if(3&u)return Ji(c,l);if(4&u)return u_(-1,l[c.index]);if(8&u){const h=c.child;if(null!==h)return Zp(l,h);{const p=l[c.index];return cs(p)?u_(-1,p):Di(p)}}if(32&u)return rl(c,l)()||Di(l[c.index]);{const h=Wp(l,c);return null!==h?Array.isArray(h)?h[0]:Zp(Jl(l[ui]),h):Zp(l,c.next)}}return null}function Wp(l,c){return null!==c?l[ui][Gi].projection[c.projection]:null}function u_(l,c){const u=Qi+l+1;if(u<c.length){const h=c[u],p=h[tt].firstChild;if(null!==p)return Zp(h,p)}return c[Ha]}function GC(l,c,u,h,p,_,b){for(;null!=u;){const E=h[u.index],T=u.type;if(b&&0===c&&(E&&ue(Di(E),h),u.flags|=2),32!=(32&u.flags))if(8&T)GC(l,c,u.child,h,p,_,!1),_d(c,l,p,E,_);else if(32&T){const M=rl(u,h);let P;for(;P=M();)_d(c,l,p,P,_);_d(c,l,p,E,_)}else 16&T?VM(l,c,h,u,p,_):_d(c,l,p,E,_);u=b?u.projectionNext:u.next}}function d_(l,c,u,h,p,_){GC(u,h,l.firstChild,c,p,_,!1)}function VM(l,c,u,h,p,_){const b=u[ui],T=b[Gi].projection[h.projection];if(Array.isArray(T))for(let M=0;M<T.length;M++)_d(c,l,p,T[M],_);else GC(l,c,T,b[jn],p,_,!0)}function GM(l,c,u){""===u?l.removeAttribute(c,"class"):l.setAttribute(c,"class",u)}function jM(l,c,u){const{mergedAttrs:h,classes:p,styles:_}=u;null!==h&&Ka(l,c,h),null!==p&&GM(l,c,p),null!==_&&function HM(l,c,u){l.setAttribute(c,"style",u)}(l,c,_)}function Kp(l){return function jC(){if(void 0===Qv&&(Qv=null,gn.trustedTypes))try{Qv=gn.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Qv}()?.createHTML(l)||l}function NB(l){zC=l}function YM(l){return function qC(){if(void 0===Jv&&(Jv=null,gn.trustedTypes))try{Jv=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Jv}()?.createScriptURL(l)||l}class ef{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}class LB extends ef{getTypeName(){return"HTML"}}class BB extends ef{getTypeName(){return"Style"}}class VB extends ef{getTypeName(){return"Script"}}class UB extends ef{getTypeName(){return"URL"}}class HB extends ef{getTypeName(){return"ResourceURL"}}function su(l){return l instanceof ef?l.changingThisBreaksApplicationSecurity:l}function Qp(l,c){const u=function GB(l){return l instanceof ef&&l.getTypeName()||null}(l);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see ${lt})`)}return u===c}function jB(l){return new LB(l)}function zB(l){return new BB(l)}function qB(l){return new VB(l)}function $B(l){return new UB(l)}function YB(l){return new HB(l)}class ZB{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(Kp(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class WB{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const u=this.inertDocument.createElement("template");return u.innerHTML=Kp(c),u}}const QB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Xv(l){return(l=String(l)).match(QB)?l:"unsafe:"+l}function ou(l){const c={};for(const u of l.split(","))c[u]=!0;return c}function h_(...l){const c={};for(const u of l)for(const h in u)u.hasOwnProperty(h)&&(c[h]=!0);return c}const WM=ou("area,br,col,hr,img,wbr"),KM=ou("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),QM=ou("rp,rt"),$C=h_(WM,h_(KM,ou("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),h_(QM,ou("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),h_(QM,KM)),YC=ou("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),JM=h_(YC,ou("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ou("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),JB=ou("script,style,template");class XB{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!$C.hasOwnProperty(u))return this.sanitizedSomething=!0,!JB.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=c.attributes;for(let p=0;p<h.length;p++){const _=h.item(p),b=_.name,E=b.toLowerCase();if(!JM.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=_.value;YC[E]&&(T=Xv(T)),this.buf.push(" ",b,'="',Sa(T),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();$C.hasOwnProperty(u)&&!WM.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(Sa(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const eV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,XM=/([^\#-~ |!])/g;function Sa(l){return l.replace(/&/g,"&amp;").replace(eV,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(XM,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fn;function Nn(l,c){let u=null;try{Fn=Fn||function ZM(l){const c=new WB(l);return function KB(){try{return!!(new window.DOMParser).parseFromString(Kp(""),"text/html")}catch{return!1}}()?new ZB(c):c}(l);let h=c?String(c):"";u=Fn.getInertBodyElement(h);let p=5,_=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=_,_=u.innerHTML,u=Fn.getInertBodyElement(h)}while(h!==_);return Kp((new XB).sanitizeChildren(Ke(u)||u))}finally{if(u){const h=Ke(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Ke(l){return"content"in l&&function Xl(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Ct=(()=>((Ct=Ct||{})[Ct.NONE=0]="NONE",Ct[Ct.HTML=1]="HTML",Ct[Ct.STYLE=2]="STYLE",Ct[Ct.SCRIPT=3]="SCRIPT",Ct[Ct.URL=4]="URL",Ct[Ct.RESOURCE_URL=5]="RESOURCE_URL",Ct))();function ol(l){const c=Jp();return c?c.sanitize(Ct.URL,l)||"":Qp(l,"URL")?su(l):Xv(Be(l))}function ZC(l){const c=Jp();if(c)return YM(c.sanitize(Ct.RESOURCE_URL,l)||"");if(Qp(l,"ResourceURL"))return YM(su(l));throw new xe(904,!1)}function tb(l,c,u){return function r1(l,c){return"src"===c&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===c&&("base"===l||"link"===l)?ZC:ol}(c,u)(l)}function Jp(){const l=ye();return l&&l[Sc]}const vd=new fn("ENVIRONMENT_INITIALIZER"),nb=new fn("INJECTOR",-1),WC=new fn("INJECTOR_DEF_TYPES");class gs{get(c,u=oi){if(u===oi){const h=new Error(`NullInjectorError: No provider for ${we(c)}!`);throw h.name="NullInjectorError",h}return u}}function KC(l){return{\u0275providers:l}}function QC(...l){return{\u0275providers:nf(0,l),\u0275fromNgModule:!0}}function nf(l,...c){const u=[],h=new Set;let p;return Go(c,_=>{const b=_;bd(b,u,[],h)&&(p||(p=[]),p.push(b))}),void 0!==p&&JC(p,u),u}function JC(l,c){for(let u=0;u<l.length;u++){const{providers:p}=l[u];XC(p,_=>{c.push(_)})}}function bd(l,c,u,h){if(!(l=ne(l)))return!1;let p=null,_=Gn(l);const b=!_&&bt(l);if(_||b){if(b&&!b.standalone)return!1;p=l}else{const T=l.ngModule;if(_=Gn(T),!_)return!1;p=T}const E=h.has(p);if(b){if(E)return!1;if(h.add(p),b.dependencies){const T="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const M of T)bd(M,c,u,h)}}else{if(!_)return!1;{if(null!=_.imports&&!E){let M;h.add(p);try{Go(_.imports,P=>{bd(P,c,u,h)&&(M||(M=[]),M.push(P))})}finally{}void 0!==M&&JC(M,c)}if(!E){const M=lo(p)||(()=>new p);c.push({provide:p,useFactory:M,deps:J},{provide:WC,useValue:p,multi:!0},{provide:vd,useValue:()=>$t(p),multi:!0})}const T=_.providers;null==T||E||XC(T,P=>{c.push(P)})}}return p!==l&&void 0!==l.providers}function XC(l,c){for(let u of l)Me(u)&&(u=u.\u0275providers),Array.isArray(u)?XC(u,c):c(u)}const eE=te({provide:String,useValue:te});function au(l){return null!==l&&"object"==typeof l&&eE in l}function wd(l){return"function"==typeof l}const f_=new fn("Set Injector scope."),p_={},iE={};let rb;function m_(){return void 0===rb&&(rb=new gs),rb}class al{}class s1 extends al{get destroyed(){return this._destroyed}constructor(c,u,h,p){super(),this.parent=u,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,y_(c,b=>this.processProvider(b)),this.records.set(nb,lu(void 0,this)),p.has("environment")&&this.records.set(al,lu(void 0,this));const _=this.records.get(f_);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(WC.multi,J,gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const u=en(this),h=si(void 0);try{return c()}finally{en(u),si(h)}}get(c,u=oi,h=gt.Default){this.assertNotDestroyed(),h=Ki(h);const p=en(this),_=si(void 0);try{if(!(h&gt.SkipSelf)){let E=this.records.get(c);if(void 0===E){const T=function o1(l){return"function"==typeof l||"object"==typeof l&&l instanceof fn}(c)&&ln(c);E=T&&this.injectableDefInScope(T)?lu(g_(c),p_):null,this.records.set(c,E)}if(null!=E)return this.hydrate(c,E)}return(h&gt.Self?m_():this.parent).get(c,u=h&gt.Optional&&u===oi?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[Wn]=b[Wn]||[]).unshift(we(c)),p)throw b;return function Sr(l,c,u,h){const p=l[Wn];throw c[Jt]&&p.unshift(c[Jt]),l.message=function Z(l,c,u,h=null){l=l&&"\n"===l.charAt(0)&&l.charAt(1)==Ei?l.slice(2):l;let p=we(c);if(Array.isArray(c))p=c.map(we).join(" -> ");else if("object"==typeof c){let _=[];for(let b in c)if(c.hasOwnProperty(b)){let E=c[b];_.push(b+":"+("string"==typeof E?JSON.stringify(E):we(E)))}p=`{${_.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${l.replace(ii,"\n  ")}`}("\n"+l.message,p,u,h),l[Er]=p,l[Wn]=null,l}(b,c,"R3InjectorError",this.source)}throw b}finally{si(_),en(p)}}resolveInjectorInitializers(){const c=en(this),u=si(void 0);try{const h=this.get(vd.multi,J,gt.Self);for(const p of h)p()}finally{en(c),si(u)}}toString(){const c=[],u=this.records;for(const h of u.keys())c.push(we(h));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let u=wd(c=ne(c))?c:ne(c&&c.provide);const h=function sb(l){return au(l)?lu(void 0,l.useValue):lu(rE(l),p_)}(c);if(wd(c)||!0!==c.multi)this.records.get(u);else{let p=this.records.get(u);p||(p=lu(void 0,p_,!0),p.factory=()=>li(p.multi),this.records.set(u,p)),u=c,p.multi.push(c)}this.records.set(u,h)}hydrate(c,u){return u.value===p_&&(u.value=iE,u.value=u.factory()),"object"==typeof u.value&&u.value&&function oE(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=ne(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function g_(l){const c=ln(l),u=null!==c?c.factory:lo(l);if(null!==u)return u;if(l instanceof fn)throw new xe(204,!1);if(l instanceof Function)return function __(l){const c=l.length;if(c>0)throw tl(c,"?"),new xe(204,!1);const u=function yi(l){return l&&(l[Zn]||l[Yr])||null}(l);return null!==u?()=>u.factory(l):()=>new l}(l);throw new xe(204,!1)}function rE(l,c,u){let h;if(wd(l)){const p=ne(l);return lo(p)||g_(p)}if(au(l))h=()=>ne(l.useValue);else if(function nE(l){return!(!l||!l.useFactory)}(l))h=()=>l.useFactory(...li(l.deps||[]));else if(function tE(l){return!(!l||!l.useExisting)}(l))h=()=>$t(ne(l.useExisting));else{const p=ne(l&&(l.useClass||l.provide));if(!function sE(l){return!!l.deps}(l))return lo(p)||g_(p);h=()=>new p(...li(l.deps))}return h}function lu(l,c,u=!1){return{factory:l,value:c,multi:u?[]:void 0}}function y_(l,c){for(const u of l)Array.isArray(u)?y_(u,c):u&&Me(u)?y_(u.\u0275providers,c):c(u)}class iV{}class Xp{}class l1{resolveComponentFactory(c){throw function a1(l){const c=Error(`No component factory found for ${we(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let em=(()=>{class l{}return l.NULL=new l1,l})();function c1(){return rf(hi(),ye())}function rf(l,c){return new sf(Ji(l,c))}let sf=(()=>{class l{constructor(u){this.nativeElement=u}}return l.__NG_ELEMENT_ID__=c1,l})();function lE(l){return l instanceof sf?l.nativeElement:l}class cE{}let u1=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function d1(){const l=ye(),u=ji(hi().index,l);return(Tr(u)?u:l)[Wt]}(),l})(),h1=(()=>{class l{}return l.\u0275prov=ht({token:l,providedIn:"root",factory:()=>null}),l})();class v_{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const f1=new v_("15.2.10"),uE={},dE="ngOriginalError";function hE(l){return l[dE]}class b_{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&hE(c);for(;u&&hE(u);)u=hE(u);return u||null}}function xd(l){return l.ownerDocument}function ec(l){return l instanceof Function?l():l}function tc(l,c,u){let h=l.length;for(;;){const p=l.indexOf(c,u);if(-1===p)return p;if(0===p||l.charCodeAt(p-1)<=32){const _=c.length;if(p+_===h||l.charCodeAt(p+_)<=32)return p}u=p+1}}const v1="ng-template";function gE(l,c,u){let h=0,p=!0;for(;h<l.length;){let _=l[h++];if("string"==typeof _&&p){const b=l[h++];if(u&&"class"===_&&-1!==tc(b.toLowerCase(),c,0))return!0}else{if(1===_){for(;h<l.length&&"string"==typeof(_=l[h++]);)if(_.toLowerCase()===c)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function ab(l){return 4===l.type&&l.value!==v1}function lb(l,c,u){return c===(4!==l.type||u?l.value:v1)}function _E(l,c,u){let h=4;const p=l.attrs||[],_=function w1(l){for(let c=0;c<l.length;c++)if(Vh(l[c]))return c;return l.length}(p);let b=!1;for(let E=0;E<c.length;E++){const T=c[E];if("number"!=typeof T){if(!b)if(4&h){if(h=2|1&h,""!==T&&!lb(l,T,u)||""===T&&1===c.length){if(Wo(h))return!1;b=!0}}else{const M=8&h?T:c[++E];if(8&h&&null!==l.attrs){if(!gE(l.attrs,M,u)){if(Wo(h))return!1;b=!0}continue}const z=yE(8&h?"class":T,p,ab(l),u);if(-1===z){if(Wo(h))return!1;b=!0;continue}if(""!==M){let X;X=z>_?"":p[z+1].toLowerCase();const se=8&h?X:null;if(se&&-1!==tc(se,M,0)||2&h&&M!==X){if(Wo(h))return!1;b=!0}}}}else{if(!b&&!Wo(h)&&!Wo(T))return!1;if(b&&Wo(T))continue;b=!1,h=T|1&h}}return Wo(h)||b}function Wo(l){return 0==(1&l)}function yE(l,c,u,h){if(null===c)return-1;let p=0;if(h||!u){let _=!1;for(;p<c.length;){const b=c[p];if(b===l)return p;if(3===b||6===b)_=!0;else{if(1===b||2===b){let E=c[++p];for(;"string"==typeof E;)E=c[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=_?1:2}return-1}return function x1(l,c){let u=l.indexOf(4);if(u>-1)for(u++;u<l.length;){const h=l[u];if("number"==typeof h)return-1;if(h===c)return u;u++}return-1}(c,l)}function b1(l,c,u=!1){for(let h=0;h<c.length;h++)if(_E(l,c[h],u))return!0;return!1}function C1(l,c){e:for(let u=0;u<c.length;u++){const h=c[u];if(l.length===h.length){for(let p=0;p<l.length;p++)if(l[p]!==h[p])continue e;return!0}}return!1}function vE(l,c){return l?":not("+c.trim()+")":c}function E1(l){let c=l[0],u=1,h=2,p="",_=!1;for(;u<l.length;){let b=l[u];if("string"==typeof b)if(2&h){const E=l[++u];p+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!Wo(b)&&(c+=vE(_,p),p=""),h=b,_=_||!Wo(h);u++}return""!==p&&(c+=vE(_,p)),c}const on={};function S1(l){wE(zt(),ye(),pr()+l,!1)}function wE(l,c,u,h){if(!h)if(3==(3&c[Vt])){const _=l.preOrderCheckHooks;null!==_&&Ku(c,_,u)}else{const _=l.preOrderHooks;null!==_&&Nh(c,_,0,u)}$s(u)}function ub(l,c=null,u=null,h){const p=A1(l,c,u,h);return p.resolveInjectorInitializers(),p}function A1(l,c=null,u=null,h,p=new Set){const _=[u||J,QC(l)];return h=h||("object"==typeof l?void 0:we(l)),new s1(_,c||m_(),h||null,p)}let lf=(()=>{class l{static create(u,h){if(Array.isArray(u))return ub({name:""},h,u,"");{const p=u.name??"";return ub({name:p},u.parent,u.providers,p)}}}return l.THROW_IF_NOT_FOUND=oi,l.NULL=new gs,l.\u0275prov=ht({token:l,providedIn:"any",factory:()=>$t(nb)}),l.__NG_ELEMENT_ID__=-1,l})();function rm(l,c=gt.Default){const u=ye();return null===u?$t(l,c):jh(hi(),u,ne(l),c)}function N1(){throw new Error("invalid")}function gb(l,c){const u=l.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const _=u[h+1];if(-1!==_){const b=l.data[_];kh(u[h]),b.contentQueries(2,c[_],_)}}}function D_(l,c,u,h,p,_,b,E,T,M,P){const z=c.blueprint.slice();return z[Hi]=p,z[Vt]=76|h,(null!==P||l&&1024&l[Vt])&&(z[Vt]|=1024),Ll(z),z[jn]=z[as]=l,z[ri]=u,z[ci]=b||l&&l[ci],z[Wt]=E||l&&l[Wt],z[Sc]=T||l&&l[Sc]||null,z[Il]=M||l&&l[Il]||null,z[Gi]=_,z[ao]=function Hp(){return pd++}(),z[di]=P,z[ui]=2==c.type?l[ui]:z,z}function uf(l,c,u,h,p){let _=l.data[c];if(null===_)_=function S_(l,c,u,h,p){const _=Sh(),b=Oc(),T=l.data[c]=function U1(l,c,u,h,p,_){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,u,c,h,p);return null===l.firstChild&&(l.firstChild=T),null!==_&&(b?null==_.child&&null!==T.parent&&(_.child=T):null===_.next&&(_.next=T,T.prev=_)),T}(l,c,u,h,p),function Ih(){return Ut.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=u,_.value=h,_.attrs=p;const b=function qa(){const l=Ut.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return ds(_,!0),_}function sm(l,c,u,h){if(0===u)return-1;const p=c.length;for(let _=0;_<u;_++)c.push(h),l.blueprint.push(h),l.data.push(null);return p}function _b(l,c,u){Ya(c);try{const h=l.viewQuery;null!==h&&I_(1,h,u);const p=l.template;null!==p&&ME(l,c,p,1,u),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&gb(l,c),l.staticViewQueries&&I_(2,l.viewQuery,u);const _=l.components;null!==_&&function L1(l,c){for(let u=0;u<c.length;u++)Sb(l,c[u])}(c,_)}catch(h){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),h}finally{c[Vt]&=-5,Oh()}}function om(l,c,u,h){const p=c[Vt];if(128!=(128&p)){Ya(c);try{Ll(c),function Lo(l){return Ut.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==u&&ME(l,c,u,2,h);const b=3==(3&p);if(b){const M=l.preOrderCheckHooks;null!==M&&Ku(c,M,null)}else{const M=l.preOrderHooks;null!==M&&Nh(c,M,0,null),Lh(c,0)}if(function UE(l){for(let c=Da(l);null!==c;c=jp(c)){if(!c[Ml])continue;const u=c[Qr];for(let h=0;h<u.length;h++){const p=u[h];512&p[Vt]||za(p[jn],1),p[Vt]|=512}}}(c),function A_(l){for(let c=Da(l);null!==c;c=jp(c))for(let u=Qi;u<c.length;u++){const h=c[u],p=h[tt];Fo(h)&&om(p,h,p.template,h[ri])}}(c),null!==l.contentQueries&&gb(l,c),b){const M=l.contentCheckHooks;null!==M&&Ku(c,M)}else{const M=l.contentHooks;null!==M&&Nh(c,M,1),Lh(c,1)}!function fV(l,c){const u=l.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)$s(~p);else{const _=p,b=u[++h],E=u[++h];Mh(b,_),E(2,c[_])}}}finally{$s(-1)}}(l,c);const E=l.components;null!==E&&function pV(l,c){for(let u=0;u<c.length;u++)HE(l,c[u])}(c,E);const T=l.viewQuery;if(null!==T&&I_(2,T,h),b){const M=l.viewCheckHooks;null!==M&&Ku(c,M)}else{const M=l.viewHooks;null!==M&&Nh(c,M,2),Lh(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[Vt]&=-41,512&c[Vt]&&(c[Vt]&=-513,za(c[jn],-1))}finally{Oh()}}}function ME(l,c,u,h,p){const _=pr(),b=2&h;try{$s(-1),b&&c.length>On&&wE(l,c,On,!1),Qn(b?2:0,p),u(h,p)}finally{$s(_),Qn(b?3:1,p)}}function yb(l,c,u){if(ca(c)){const p=c.directiveEnd;for(let _=c.directiveStart;_<p;_++){const b=l.data[_];b.contentQueries&&b.contentQueries(1,u[_],_)}}}function vb(l,c,u){Eh()&&(function Y1(l,c,u,h){const p=u.directiveStart,_=u.directiveEnd;Tc(u)&&function gV(l,c,u){const h=Ji(c,l),p=kE(u),_=l[ci],b=Tb(l,D_(l,p,null,u.onPush?32:16,h,c,_,_.createRenderer(h,u),null,null,null));l[c.index]=b}(c,u,l.data[p+u.componentOffset]),l.firstCreatePass||td(u,c),ue(h,c);const b=u.initialInputs;for(let E=p;E<_;E++){const T=l.data[E],M=Jn(c,l,E,u);ue(M,c),null!==b&&VE(0,E-p,M,T,0,b),Ar(T)&&(ji(u.index,c)[ri]=Jn(c,l,E,u))}}(l,c,u,Ji(u,c)),64==(64&u.flags)&&NE(l,c,u))}function bb(l,c,u=Ji){const h=c.localNames;if(null!==h){let p=c.index+1;for(let _=0;_<h.length;_+=2){const b=h[_+1],E=-1===b?u(c,l):l[b];l[p++]=E}}}function kE(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=wb(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function wb(l,c,u,h,p,_,b,E,T,M){const P=On+h,z=P+p,X=function B1(l,c){const u=[];for(let h=0;h<c;h++)u.push(h<l?null:on);return u}(P,z),se="function"==typeof M?M():M;return X[tt]={type:l,blueprint:X,template:u,queries:null,viewQuery:E,declTNode:c,data:X.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:T,consts:se,incompleteFirstPass:!1}}function RE(l,c,u,h){const p=GE(c);null===u?p.push(h):(p.push(u),l.firstCreatePass&&Ib(l).push(h,p.length-1))}function OE(l,c,u,h){for(let p in l)if(l.hasOwnProperty(p)){u=null===u?{}:u;const _=l[p];null===h?PE(u,c,p,_):h.hasOwnProperty(p)&&PE(u,c,h[p],_)}return u}function PE(l,c,u,h){l.hasOwnProperty(u)?l[u].push(c,h):l[u]=[c,h]}function _o(l,c,u,h,p,_,b,E){const T=Ji(c,u);let P,M=c.inputs;!E&&null!=M&&(P=M[h])?(hf(l,u,P,h,p),Tc(c)&&function j1(l,c){const u=ji(c,l);16&u[Vt]||(u[Vt]|=32)}(u,c.index)):3&c.type&&(h=function G1(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(h),p=null!=b?b(p,c.value||"",h):p,_.setProperty(T,h,p))}function xb(l,c,u,h){if(Eh()){const p=null===h?null:{"":-1},_=function Z1(l,c){const u=l.directiveRegistry;let h=null,p=null;if(u)for(let _=0;_<u.length;_++){const b=u[_];if(b1(c,b.selectors,!1))if(h||(h=[]),Ar(b))if(null!==b.findHostDirectiveDefs){const E=[];p=p||new Map,b.findHostDirectiveDefs(b,E,p),h.unshift(...E,b),T_(l,c,E.length)}else h.unshift(b),T_(l,c,0);else p=p||new Map,b.findHostDirectiveDefs?.(b,h,p),h.push(b)}return null===h?null:[h,p]}(l,u);let b,E;null===_?b=E=null:[b,E]=_,null!==b&&FE(l,c,u,b,p,E),p&&function LE(l,c,u){if(c){const h=l.localNames=[];for(let p=0;p<c.length;p+=2){const _=u[c[p+1]];if(null==_)throw new xe(-301,!1);h.push(c[p],_)}}}(u,h,p)}u.mergedAttrs=pa(u.mergedAttrs,u.attrs)}function FE(l,c,u,h,p,_){for(let M=0;M<h.length;M++)Vo(td(u,c),l,h[M].type);!function Cb(l,c,u){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+u,l.providerIndexes=c}(u,l.data.length,h.length);for(let M=0;M<h.length;M++){const P=h[M];P.providersResolver&&P.providersResolver(P)}let b=!1,E=!1,T=sm(l,c,h.length,null);for(let M=0;M<h.length;M++){const P=h[M];u.mergedAttrs=pa(u.mergedAttrs,P.hostAttrs),K1(l,u,c,T,P),W1(T,P,p),null!==P.contentQueries&&(u.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(u.flags|=64);const z=P.type.prototype;!b&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((l.preOrderHooks??(l.preOrderHooks=[])).push(u.index),b=!0),!E&&(z.ngOnChanges||z.ngDoCheck)&&((l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(u.index),E=!0),T++}!function H1(l,c,u){const p=c.directiveEnd,_=l.data,b=c.attrs,E=[];let T=null,M=null;for(let P=c.directiveStart;P<p;P++){const z=_[P],X=u?u.get(z):null,Ee=X?X.outputs:null;T=OE(z.inputs,P,T,X?X.inputs:null),M=OE(z.outputs,P,M,Ee);const $e=null===T||null===b||ab(c)?null:Q1(T,P,b);E.push($e)}null!==T&&(T.hasOwnProperty("class")&&(c.flags|=8),T.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=E,c.inputs=T,c.outputs=M}(l,u,_)}function NE(l,c,u){const h=u.directiveStart,p=u.directiveEnd,_=u.index,b=function Xg(){return Ut.lFrame.currentDirectiveIndex}();try{$s(_);for(let E=h;E<p;E++){const T=l.data[E],M=c[E];fi(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&ll(T,M)}}finally{$s(-1),fi(b)}}function ll(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function T_(l,c,u){c.componentOffset=u,(l.components??(l.components=[])).push(c.index)}function W1(l,c,u){if(u){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)u[c.exportAs[h]]=l;Ar(c)&&(u[""]=l)}}function K1(l,c,u,h,p){l.data[h]=p;const _=p.factory||(p.factory=lo(p.type)),b=new ho(_,Ar(p),rm);l.blueprint[h]=b,u[h]=b,function q1(l,c,u,h,p){const _=p.hostBindings;if(_){let b=l.hostBindingOpCodes;null===b&&(b=l.hostBindingOpCodes=[]);const E=~c.index;(function $1(l){let c=l.length;for(;c>0;){const u=l[--c];if("number"==typeof u&&u<0)return u}return 0})(b)!=E&&b.push(E),b.push(u,h,_)}}(l,c,h,sm(l,u,p.hostVars,on),p)}function cl(l,c,u,h,p,_){const b=Ji(l,c);!function BE(l,c,u,h,p,_,b){if(null==_)l.removeAttribute(c,p,u);else{const E=null==b?Be(_):b(_,h||"",p);l.setAttribute(c,p,E,u)}}(c[Wt],b,_,l.value,u,h,p)}function VE(l,c,u,h,p,_){const b=_[c];if(null!==b){const E=h.setInput;for(let T=0;T<b.length;){const M=b[T++],P=b[T++],z=b[T++];null!==E?h.setInput(u,z,M,P):u[P]=z}}}function Q1(l,c,u){let h=null,p=0;for(;p<u.length;){const _=u[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(l.hasOwnProperty(_)){null===h&&(h=[]);const b=l[_];for(let E=0;E<b.length;E+=2)if(b[E]===c){h.push(_,b[E+1],u[p+1]);break}}p+=2}else p+=2;else p+=4}return h}function Eb(l,c,u,h){return[l,!0,!1,c,null,0,h,u,null,null]}function HE(l,c){const u=ji(c,l);if(Fo(u)){const h=u[tt];48&u[Vt]?om(h,u,h.template,u[ri]):u[Mo]>0&&Db(u)}}function Db(l){for(let h=Da(l);null!==h;h=jp(h))for(let p=Qi;p<h.length;p++){const _=h[p];if(Fo(_))if(512&_[Vt]){const b=_[tt];om(b,_,b.template,_[ri])}else _[Mo]>0&&Db(_)}const u=l[tt].components;if(null!==u)for(let h=0;h<u.length;h++){const p=ji(u[h],l);Fo(p)&&p[Mo]>0&&Db(p)}}function Sb(l,c){const u=ji(c,l),h=u[tt];(function _V(l,c){for(let u=c.length;u<l.blueprint.length;u++)c.push(l.blueprint[u])})(h,u),_b(h,u,u[ri])}function Tb(l,c){return l[os]?l[oo][En]=c:l[os]=c,l[oo]=c,c}function Ab(l){for(;l;){l[Vt]|=32;const c=Jl(l);if(Ro(l)&&!c)return l;l=c}return null}function df(l,c,u,h=!0){const p=c[ci];p.begin&&p.begin();try{om(l,c,l.template,u)}catch(b){throw h&&ic(c,b),b}finally{p.end&&p.end()}}function I_(l,c,u){kh(0),c(l,u)}function GE(l){return l[Wr]||(l[Wr]=[])}function Ib(l){return l.cleanup||(l.cleanup=[])}function jE(l,c,u){return(null===l||Ar(l))&&(u=function da(l){for(;Array.isArray(l);){if("object"==typeof l[Vu])return l;l=l[Hi]}return null}(u[c.index])),u[Wt]}function ic(l,c){const u=l[Il],h=u?u.get(b_,null):null;h&&h.handleError(c)}function hf(l,c,u,h,p){for(let _=0;_<u.length;){const b=u[_++],E=u[_++],T=c[b],M=l.data[b];null!==M.setInput?M.setInput(T,p,h,E):T[E]=p}}function ul(l,c,u){const h=ha(c,l);!function o_(l,c,u){l.setValue(c,u)}(l[Wt],h,u)}function M_(l,c,u){let h=u?l.styles:null,p=u?l.classes:null,_=0;if(null!==c)for(let b=0;b<c.length;b++){const E=c[b];"number"==typeof E?_=E:1==_?p=Ce(p,E):2==_&&(h=Ce(h,E+": "+c[++b]+";"))}u?l.styles=h:l.stylesWithoutHost=h,u?l.classes=p:l.classesWithoutHost=p}function Mb(l,c,u,h,p=!1){for(;null!==u;){const _=c[u.index];if(null!==_&&h.push(Di(_)),cs(_))for(let E=Qi;E<_.length;E++){const T=_[E],M=T[tt].firstChild;null!==M&&Mb(T[tt],T,M,h)}const b=u.type;if(8&b)Mb(l,c,u.child,h);else if(32&b){const E=rl(u,c);let T;for(;T=E();)h.push(T)}else if(16&b){const E=Wp(c,u);if(Array.isArray(E))h.push(...E);else{const T=Jl(c[ui]);Mb(T[tt],T,E,h,!0)}}u=p?u.projectionNext:u.next}return h}class k_{get rootNodes(){const c=this._lView,u=c[tt];return Mb(u,c,u.firstChild,[])}constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ri]}set context(c){this._lView[ri]=c}get destroyed(){return 128==(128&this._lView[Vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[jn];if(cs(c)){const u=c[ko],h=u?u.indexOf(this):-1;h>-1&&(k(c,h),Zl(u,h))}this._attachedToViewContainer=!1}N(this._lView[tt],this._lView)}onDestroy(c){RE(this._lView[tt],this._lView,null,c)}markForCheck(){Ab(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vt]&=-65}reattach(){this._lView[Vt]|=64}detectChanges(){df(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BM(l,c){d_(l,c,c[Wt],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class X1 extends k_{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;df(c[tt],c,c[ri],!1)}checkNoChanges(){}get context(){return null}}class kb extends em{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=bt(c);return new am(u,this.ngModule)}}function Rb(l){const c=[];for(let u in l)l.hasOwnProperty(u)&&c.push({propName:l[u],templateName:u});return c}class dl{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,h){h=Ki(h);const p=this.injector.get(c,uE,h);return p!==uE||u===uE?p:this.parentInjector.get(c,u,h)}}class am extends Xp{get inputs(){return Rb(this.componentDef.inputs)}get outputs(){return Rb(this.componentDef.outputs)}constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function D1(l){return l.map(E1).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}create(c,u,h,p){let _=(p=p||this.ngModule)instanceof al?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new dl(c,_):c,E=b.get(cE,null);if(null===E)throw new xe(407,!1);const T=b.get(h1,null),M=E.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",z=h?function V1(l,c,u){return l.selectRootElement(c,u===V.ShadowDom)}(M,h,this.componentDef.encapsulation):a_(M,P,function Cd(l){const c=l.toLowerCase();return"svg"===c?Fl:"math"===c?"math":null}(P)),X=this.componentDef.onPush?288:272,se=wb(0,null,null,1,0,null,null,null,null,null),Ee=D_(null,se,null,X,null,null,E,M,T,b,null);let $e,et;Ya(Ee);try{const _t=this.componentDef;let Pt,Ne=null;_t.findHostDirectiveDefs?(Pt=[],Ne=new Map,_t.findHostDirectiveDefs(_t,Pt,Ne),Pt.push(_t)):Pt=[_t];const Zt=function ek(l,c){const u=l[tt],h=On;return l[h]=c,uf(u,h,2,"#host",null)}(Ee,z),gi=function tk(l,c,u,h,p,_,b,E){const T=p[tt];!function Ed(l,c,u,h){for(const p of l)c.mergedAttrs=pa(c.mergedAttrs,p.hostAttrs);null!==c.mergedAttrs&&(M_(c,c.mergedAttrs,!0),null!==u&&jM(h,u,c))}(h,l,c,b);const M=_.createRenderer(c,u),P=D_(p,kE(u),null,u.onPush?32:16,p[l.index],l,_,M,E||null,null,null);return T.firstCreatePass&&T_(T,l,h.length-1),Tb(p,P),p[l.index]=P}(Zt,z,_t,Pt,Ee,E,M);et=kc(se,On),z&&function cu(l,c,u,h){if(h)Ka(l,u,["ng-version",f1.full]);else{const{attrs:p,classes:_}=function bE(l){const c=[],u=[];let h=1,p=2;for(;h<l.length;){let _=l[h];if("string"==typeof _)2===p?""!==_&&c.push(_,l[++h]):8===p&&u.push(_);else{if(!Wo(p))break;p=_}h++}return{attrs:c,classes:u}}(c.selectors[0]);p&&Ka(l,u,p),_&&_.length>0&&GM(l,u,_.join(" "))}}(M,_t,z,h),void 0!==u&&function qE(l,c,u){const h=l.projection=[];for(let p=0;p<c.length;p++){const _=u[p];h.push(null!=_?Array.from(_):null)}}(et,this.ngContentSelectors,u),$e=function nk(l,c,u,h,p,_){const b=hi(),E=p[tt],T=Ji(b,p);FE(E,p,b,u,null,h);for(let P=0;P<u.length;P++)ue(Jn(p,E,b.directiveStart+P,b),p);NE(E,p,b),T&&ue(T,p);const M=Jn(p,E,b.directiveStart+b.componentOffset,b);if(l[ri]=p[ri]=M,null!==_)for(const P of _)P(M,c);return yb(E,b,l),M}(gi,_t,Pt,Ne,Ee,[_s]),_b(se,Ee,null)}finally{Oh()}return new zE(this.componentType,$e,rf(et,Ee),Ee,et)}}class zE extends iV{constructor(c,u,h,p,_){super(),this.location=h,this._rootLView=p,this._tNode=_,this.instance=u,this.hostView=this.changeDetectorRef=new X1(p),this.componentType=c}setInput(c,u){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[c])){const _=this._rootLView;hf(_[tt],_,p,c,u),Ab(ji(this._tNode.index,_))}}get injector(){return new el(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function _s(){const l=hi();Bc(ye()[tt],l)}function Ob(l){let c=function rc(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),u=!0;const h=[l];for(;c;){let p;if(Ar(l))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);p=c.\u0275dir}if(p){if(u){h.push(p);const b=l;b.inputs=O_(l.inputs),b.declaredInputs=O_(l.declaredInputs),b.outputs=O_(l.outputs);const E=p.hostBindings;E&&ZE(l,E);const T=p.viewQuery,M=p.contentQueries;if(T&&$E(l,T),M&&YE(l,M),Se(l.inputs,p.inputs),Se(l.declaredInputs,p.declaredInputs),Se(l.outputs,p.outputs),Ar(p)&&p.data.animation){const P=l.data;P.animation=(P.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let b=0;b<_.length;b++){const E=_[b];E&&E.ngInherit&&E(l),E===Ob&&(u=!1)}}c=Object.getPrototypeOf(c)}!function R_(l){let c=0,u=null;for(let h=l.length-1;h>=0;h--){const p=l[h];p.hostVars=c+=p.hostVars,p.hostAttrs=pa(p.hostAttrs,u=pa(u,p.hostAttrs))}}(h)}function O_(l){return l===O?{}:l===J?[]:l}function $E(l,c){const u=l.viewQuery;l.viewQuery=u?(h,p)=>{c(h,p),u(h,p)}:c}function YE(l,c){const u=l.contentQueries;l.contentQueries=u?(h,p,_)=>{c(h,p,_),u(h,p,_)}:c}function ZE(l,c){const u=l.hostBindings;l.hostBindings=u?(h,p)=>{c(h,p),u(h,p)}:c}function cm(l){return!!P_(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function P_(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Ta(l,c,u){return l[c]=u}function es(l,c,u){return!Object.is(l[c],u)&&(l[c]=u,!0)}function sc(l,c,u,h){const p=es(l,c,u);return es(l,c+1,h)||p}function Dd(l,c,u,h,p){const _=sc(l,c,u,h);return es(l,c+2,p)||_}function F_(l,c,u,h){const p=ye();return es(p,uo(),c)&&(zt(),cl(zn(),p,l,c,u,h)),F_}function gr(l,c,u,h){return es(l,uo(),u)?c+Be(u)+h:on}function iD(l,c,u,h,p,_,b,E){const T=ye(),M=zt(),P=l+On,z=M.firstCreatePass?function xV(l,c,u,h,p,_,b,E,T){const M=c.consts,P=uf(c,l,4,b||null,co(M,E));xb(c,u,P,co(M,T)),Bc(c,P);const z=P.tView=wb(2,P,h,p,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,M);return null!==c.queries&&(c.queries.template(c,P),z.queries=c.queries.embeddedTView(P)),P}(P,M,T,c,u,h,p,_,b):M.data[P];ds(z,!1);const X=T[Wt].createComment("");Xh(M,T,X,z),ue(X,T),Tb(T,T[P]=Eb(X,T,X,z)),kl(z)&&vb(M,T,z),null!=b&&bb(T,z,E)}function sD(l){return Ir(function Ah(){return Ut.lFrame.contextLView}(),On+l)}function Bb(l,c,u){const h=ye();return es(h,uo(),c)&&_o(zt(),zn(),h,l,c,h[Wt],u,!1),Bb}function Vb(l,c,u,h,p){const b=p?"class":"style";hf(l,u,c.inputs[b],b,h)}function du(l,c,u,h){const p=ye(),_=zt(),b=On+l,E=p[Wt],T=_.firstCreatePass?function Ub(l,c,u,h,p,_){const b=c.consts,T=uf(c,l,2,h,co(b,p));return xb(c,u,T,co(b,_)),null!==T.attrs&&M_(T,T.attrs,!1),null!==T.mergedAttrs&&M_(T,T.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,T),T}(b,_,p,c,u,h):_.data[b],M=p[b]=a_(E,c,function Fh(){return Ut.lFrame.currentNamespace}()),P=kl(T);return ds(T,!0),jM(E,M,T),32!=(32&T.flags)&&Xh(_,p,M,T),0===function Gu(){return Ut.lFrame.elementDepthCount}()&&ue(M,p),function ju(){Ut.lFrame.elementDepthCount++}(),P&&(vb(_,p,T),yb(_,T,p)),null!==h&&bb(p,T),du}function Id(){let l=hi();Oc()?Th():(l=l.parent,ds(l,!1));const c=l;!function zu(){Ut.lFrame.elementDepthCount--}();const u=zt();return u.firstCreatePass&&(Bc(u,l),ca(l)&&u.queries.elementEnd(l)),null!=c.classesWithoutHost&&function fo(l){return 0!=(8&l.flags)}(c)&&Vb(u,c,ye(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Qu(l){return 0!=(16&l.flags)}(c)&&Vb(u,c,ye(),c.stylesWithoutHost,!1),Id}function hu(l,c,u,h){return du(l,c,u,h),Id(),hu}function pf(l,c,u){const h=ye(),p=zt(),_=l+On,b=p.firstCreatePass?function fm(l,c,u,h,p){const _=c.consts,b=co(_,h),E=uf(c,l,8,"ng-container",b);return null!==b&&M_(E,b,!0),xb(c,u,E,co(_,p)),null!==c.queries&&c.queries.elementStart(c,E),E}(_,p,h,c,u):p.data[_];ds(b,!0);const E=h[_]=h[Wt].createComment("");return Xh(p,h,E,b),ue(E,h),kl(b)&&(vb(p,h,b),yb(p,b,h)),null!=u&&bb(h,b),pf}function L_(){let l=hi();const c=zt();return Oc()?Th():(l=l.parent,ds(l,!1)),c.firstCreatePass&&(Bc(c,l),ca(l)&&c.queries.elementEnd(l)),L_}function pm(l,c,u){return pf(l,c,u),L_(),pm}function oD(){return ye()}function mf(l){return!!l&&"function"==typeof l.then}function Hb(l){return!!l&&"function"==typeof l.subscribe}const Gb=Hb;function gf(l,c,u,h){const p=ye(),_=zt(),b=hi();return ck(_,p,p[Wt],b,l,c,h),gf}function fu(l,c){const u=hi(),h=ye(),p=zt();return ck(p,h,jE(Pc(p.data),u,h),u,l,c),fu}function ck(l,c,u,h,p,_,b){const E=kl(h),M=l.firstCreatePass&&Ib(l),P=c[ri],z=GE(c);let X=!0;if(3&h.type||b){const $e=Ji(h,c),et=b?b($e):$e,_t=z.length,Pt=b?Zt=>b(Di(Zt[h.index])):h.index;let Ne=null;if(!b&&E&&(Ne=function CV(l,c,u,h){const p=l.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const b=p[_];if(b===u&&p[_+1]===h){const E=c[Wr],T=p[_+2];return E.length>T?E[T]:null}"string"==typeof b&&(_+=2)}return null}(l,c,p,h.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=_,Ne.__ngLastListenerFn__=_,X=!1;else{_=uk(h,c,P,_,!1);const Zt=u.listen(et,p,_);z.push(_,Zt),M&&M.push(p,Pt,_t,_t+1)}}else _=uk(h,c,P,_,!1);const se=h.outputs;let Ee;if(X&&null!==se&&(Ee=se[p])){const $e=Ee.length;if($e)for(let et=0;et<$e;et+=2){const gi=c[Ee[et]][Ee[et+1]].subscribe(_),rr=z.length;z.push(_,gi),M&&M.push(p,h.index,rr,-(rr+1))}}}function jb(l,c,u,h){try{return Qn(6,c,u),!1!==u(h)}catch(p){return ic(l,p),!1}finally{Qn(7,c,u)}}function uk(l,c,u,h,p){return function _(b){if(b===Function)return h;Ab(l.componentOffset>-1?ji(l.index,c):c);let T=jb(c,u,h,b),M=_.__ngNextListenerFn__;for(;M;)T=jb(c,u,M,b)&&T,M=M.__ngNextListenerFn__;return p&&!1===T&&(b.preventDefault(),b.returnValue=!1),T}}function pu(l=1){return function Zu(l){return(Ut.lFrame.contextLView=function Ph(l,c){for(;l>0;)c=c[as],l--;return c}(l,Ut.lFrame.contextLView))[ri]}(l)}function mm(l,c){let u=null;const h=function oV(l){const c=l.attrs;if(null!=c){const u=c.indexOf(5);if(!(1&u))return c[u+1]}return null}(l);for(let p=0;p<c.length;p++){const _=c[p];if("*"!==_){if(null===h?b1(l,_,!0):C1(h,_))return p}else u=p}return u}function gm(l){const c=ye()[ui][Gi];if(!c.projection){const h=c.projection=tl(l?l.length:1,null),p=h.slice();let _=c.child;for(;null!==_;){const b=l?mm(_,l):0;null!==b&&(p[b]?p[b].projectionNext=_:h[b]=_,p[b]=_),_=_.next}}}function _f(l,c=0,u){const h=ye(),p=zt(),_=uf(p,On+l,16,null,u||null);null===_.projection&&(_.projection=c),Th(),32!=(32&_.flags)&&function kB(l,c,u){VM(c[Wt],0,c,u,nt(l,u,c),l_(u.parent||c[Gi],u,c))}(p,h,_)}function V_(l,c){return l<<17|c<<2}function Md(l){return l>>17&32767}function dD(l){return 2|l}function vf(l){return(131068&l)>>2}function vm(l,c){return-131069&l|c<<2}function U_(l){return 1|l}function bf(l,c,u,h,p){const _=l[u+1],b=null===c;let E=h?Md(_):vf(_),T=!1;for(;0!==E&&(!1===T||b);){const P=l[E+1];bm(l[E],c)&&(T=!0,l[E+1]=h?U_(P):dD(P)),E=h?Md(P):vf(P)}T&&(l[u+1]=h?dD(_):U_(_))}function bm(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&nl(l,c)>=0}const _r={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yb(l){return l.substring(_r.key,_r.keyEnd)}function fD(l,c){const u=_r.textEnd;return u===c?-1:(c=_r.keyEnd=function TV(l,c,u){for(;c<u&&l.charCodeAt(c)>32;)c++;return c}(l,_r.key=c,u),xm(l,c,u))}function xm(l,c,u){for(;c<u&&l.charCodeAt(c)<=32;)c++;return c}function H_(l,c,u){return Ma(l,c,u,!1),H_}function Qb(l,c){return Ma(l,c,null,!0),Qb}function vk(l){Ko(n0,Ia,l,!0)}function Ia(l,c){for(let u=function SV(l){return function mk(l){_r.key=0,_r.keyEnd=0,_r.value=0,_r.valueEnd=0,_r.textEnd=l.length}(l),fD(l,xm(l,0,_r.textEnd))}(c);u>=0;u=fD(c,u))hs(l,Yb(c),!0)}function Ma(l,c,u,h){const p=ye(),_=zt(),b=qs(2);_.firstUpdatePass&&Jb(_,l,b,h),c!==on&&es(p,b,c)&&yD(_,_.data[pr()],p,p[Wt],l,p[b+1]=function vD(l,c){return null==l||""===l||("string"==typeof c?l+=c:"object"==typeof l&&(l=we(su(l)))),l}(c,u),h,b)}function Ko(l,c,u,h){const p=zt(),_=qs(2);p.firstUpdatePass&&Jb(p,null,_,h);const b=ye();if(u!==on&&es(b,_,u)){const E=p.data[pr()];if(bD(E,h)&&!mD(p,_)){let T=h?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(u=Ce(T,u||"")),Vb(p,E,b,u,h)}else!function _D(l,c,u,h,p,_,b,E){p===on&&(p=J);let T=0,M=0,P=0<p.length?p[0]:null,z=0<_.length?_[0]:null;for(;null!==P||null!==z;){const X=T<p.length?p[T+1]:void 0,se=M<_.length?_[M+1]:void 0;let $e,Ee=null;P===z?(T+=2,M+=2,X!==se&&(Ee=z,$e=se)):null===z||null!==P&&P<z?(T+=2,Ee=P):(M+=2,Ee=z,$e=se),null!==Ee&&yD(l,c,u,h,Ee,$e,b,E),P=T<p.length?p[T]:null,z=M<_.length?_[M]:null}}(p,E,b,b[Wt],b[_+1],b[_+1]=function t0(l,c,u){if(null==u||""===u)return J;const h=[],p=su(u);if(Array.isArray(p))for(let _=0;_<p.length;_++)l(h,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&l(h,_,p[_]);else"string"==typeof p&&c(h,p);return h}(l,c,u),h,_)}}function mD(l,c){return c>=l.expandoStartIndex}function Jb(l,c,u,h){const p=l.data;if(null===p[u+1]){const _=p[pr()],b=mD(l,u);bD(_,h)&&null===c&&!b&&(c=!1),c=function Xb(l,c,u,h){const p=Pc(l);let _=h?c.residualClasses:c.residualStyles;if(null===p)0===(h?c.classBindings:c.styleBindings)&&(u=Cm(u=mu(null,l,c,u,h),c.attrs,h),_=null);else{const b=c.directiveStylingLast;if(-1===b||l[b]!==p)if(u=mu(p,l,c,u,h),null===_){let T=function bk(l,c,u){const h=u?c.classBindings:c.styleBindings;if(0!==vf(h))return l[Md(h)]}(l,c,h);void 0!==T&&Array.isArray(T)&&(T=mu(null,l,c,T[1],h),T=Cm(T,c.attrs,h),function e0(l,c,u,h){l[Md(u?c.classBindings:c.styleBindings)]=h}(l,c,h,T))}else _=function wk(l,c,u){let h;const p=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<p;_++)h=Cm(h,l[_].hostAttrs,u);return Cm(h,c.attrs,u)}(l,c,h)}return void 0!==_&&(h?c.residualClasses=_:c.residualStyles=_),u}(p,_,c,h),function DV(l,c,u,h,p,_){let b=_?c.classBindings:c.styleBindings,E=Md(b),T=vf(b);l[h]=u;let P,M=!1;if(Array.isArray(u)?(P=u[1],(null===P||nl(u,P)>0)&&(M=!0)):P=u,p)if(0!==T){const X=Md(l[E+1]);l[h+1]=V_(X,E),0!==X&&(l[X+1]=vm(l[X+1],h)),l[E+1]=function $b(l,c){return 131071&l|c<<17}(l[E+1],h)}else l[h+1]=V_(E,0),0!==E&&(l[E+1]=vm(l[E+1],h)),E=h;else l[h+1]=V_(T,0),0===E?E=h:l[T+1]=vm(l[T+1],h),T=h;M&&(l[h+1]=dD(l[h+1])),bf(l,P,h,!0),bf(l,P,h,!1),function fk(l,c,u,h,p){const _=p?l.residualClasses:l.residualStyles;null!=_&&"string"==typeof c&&nl(_,c)>=0&&(u[h+1]=U_(u[h+1]))}(c,P,l,h,_),b=V_(E,T),_?c.classBindings=b:c.styleBindings=b}(p,_,c,u,b,h)}}function mu(l,c,u,h,p){let _=null;const b=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<b&&(_=c[E],h=Cm(h,_.hostAttrs,p),_!==l);)E++;return null!==l&&(u.directiveStylingLast=E),h}function Cm(l,c,u){const h=u?1:2;let p=-1;if(null!==c)for(let _=0;_<c.length;_++){const b=c[_];"number"==typeof b?p=b:p===h&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),hs(l,b,!!u||c[++_]))}return void 0===l?null:l}function n0(l,c,u){const h=String(c);""!==h&&!h.includes(" ")&&hs(l,h,u)}function yD(l,c,u,h,p,_,b,E){if(!(3&c.type))return;const T=l.data,M=T[E+1],P=function hk(l){return 1==(1&l)}(M)?G_(T,c,u,p,vf(M),b):void 0;j_(P)||(j_(_)||function dk(l){return 2==(2&l)}(M)&&(_=G_(T,null,u,p,E,b)),function UM(l,c,u,h,p){if(c)p?l.addClass(u,h):l.removeClass(u,h);else{let _=-1===h.indexOf("-")?void 0:Hr.DashCase;null==p?l.removeStyle(u,h,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=Hr.Important),l.setStyle(u,h,p,_))}}(h,b,ha(pr(),u),p,_))}function G_(l,c,u,h,p,_){const b=null===c;let E;for(;p>0;){const T=l[p],M=Array.isArray(T),P=M?T[1]:T,z=null===P;let X=u[p+1];X===on&&(X=z?J:void 0);let se=z?wa(X,h):P===h?X:void 0;if(M&&!j_(se)&&(se=wa(T,h)),j_(se)&&(E=se,b))return E;const Ee=l[p+1];p=b?Md(Ee):vf(Ee)}if(null!==c){let T=_?c.residualClasses:c.residualStyles;null!=T&&(E=wa(T,h))}return E}function j_(l){return void 0!==l}function bD(l,c){return 0!=(l.flags&(c?8:16))}function z_(l,c=""){const u=ye(),h=zt(),p=l+On,_=h.firstCreatePass?uf(h,p,1,c,null):h.data[p],b=u[p]=function s_(l,c){return l.createText(c)}(u[Wt],c);Xh(h,u,b,_),ds(_,!1)}function r0(l){return q_("",l,""),r0}function q_(l,c,u){const h=ye(),p=gr(h,l,c,u);return p!==on&&ul(h,pr(),p),q_}function $_(l,c,u,h,p){const _=ye(),b=function Ms(l,c,u,h,p,_){const E=sc(l,Ur(),u,p);return qs(2),E?c+Be(u)+h+Be(p)+_:on}(_,l,c,u,h,p);return b!==on&&ul(_,pr(),b),$_}function s0(l,c,u,h,p,_,b){const E=ye(),T=function Td(l,c,u,h,p,_,b,E){const M=Dd(l,Ur(),u,p,b);return qs(3),M?c+Be(u)+h+Be(p)+_+Be(b)+E:on}(E,l,c,u,h,p,_,b);return T!==on&&ul(E,pr(),T),s0}function xD(l,c,u){Ko(hs,Ia,gr(ye(),l,c,u),!0)}function ID(l,c,u){const h=ye();return es(h,uo(),c)&&_o(zt(),zn(),h,l,c,h[Wt],u,!0),ID}function f0(l,c,u){const h=ye();if(es(h,uo(),c)){const _=zt(),b=zn();_o(_,b,h,l,c,jE(Pc(_.data),b,h),u,!0)}return f0}const kd=void 0;var Fk=["en",[["a","p"],["AM","PM"],kd],[["AM","PM"],kd,kd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kd,"{1} 'at' {0}",kd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function MV(l){const u=Math.floor(Math.abs(l)),h=l.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let wf={};function p0(l){const c=function Em(l){return l.toLowerCase().replace(/_/g,"-")}(l);let u=kD(c);if(u)return u;const h=c.split("-")[0];if(u=kD(h),u)return u;if("en"===h)return Fk;throw new xe(701,!1)}function MD(l){return p0(l)[kt.PluralCase]}function kD(l){return l in wf||(wf[l]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[l]),wf[l]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const _u="en-US";let RD=_u;function km(l,c,u,h,p){if(l=ne(l),Array.isArray(l))for(let _=0;_<l.length;_++)km(l[_],c,u,h,p);else{const _=zt(),b=ye();let E=wd(l)?l:ne(l.provide),T=rE(l);const M=hi(),P=1048575&M.providerIndexes,z=M.directiveStart,X=M.providerIndexes>>20;if(wd(l)||!l.multi){const se=new ho(T,p,rm),Ee=iy(E,c,p?P:P+X,z);-1===Ee?(Vo(td(M,b),_,E),C0(_,l,c.length),c.push(E),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),u.push(se),b.push(se)):(u[Ee]=se,b[Ee]=se)}else{const se=iy(E,c,P+X,z),Ee=iy(E,c,P,P+X),et=Ee>=0&&u[Ee];if(p&&!et||!p&&!(se>=0&&u[se])){Vo(td(M,b),_,E);const _t=function Ld(l,c,u,h,p){const _=new ho(l,u,rm);return _.multi=[],_.index=c,_.componentProviders=0,E0(_,p,h&&!u),_}(p?ml:Rm,u.length,p,h,T);!p&&et&&(u[Ee].providerFactory=_t),C0(_,l,c.length,0),c.push(E),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),u.push(_t),b.push(_t)}else C0(_,l,se>-1?se:Ee,E0(u[p?Ee:se],T,!p&&h));!p&&h&&et&&u[Ee].componentProviders++}}}function C0(l,c,u,h){const p=wd(c),_=function ib(l){return!!l.useClass}(c);if(p||_){const T=(_?ne(c.useClass):c).prototype.ngOnDestroy;if(T){const M=l.destroyHooks||(l.destroyHooks=[]);if(!p&&c.multi){const P=M.indexOf(u);-1===P?M.push(u,[h,T]):M[P+1].push(h,T)}else M.push(u,T)}}}function E0(l,c,u){return u&&l.componentProviders++,l.multi.push(c)-1}function iy(l,c,u,h){for(let p=u;p<h;p++)if(c[p]===l)return p;return-1}function Rm(l,c,u,h){return Om(this.multi,[])}function ml(l,c,u,h){const p=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=Jn(u,u[tt],this.providerFactory.index,h);_=E.slice(0,b),Om(p,_);for(let T=b;T<E.length;T++)_.push(E[T])}else _=[],Om(p,_);return _}function Om(l,c){for(let u=0;u<l.length;u++)c.push((0,l[u])());return c}function Pm(l,c=[]){return u=>{u.providersResolver=(h,p)=>function Kk(l,c,u){const h=zt();if(h.firstCreatePass){const p=Ar(l);km(u,h.data,h.blueprint,p,!0),km(c,h.data,h.blueprint,p,!1)}}(h,p?p(l):l,c)}}class cc{}class ry{}function Qk(l,c){return new rS(l,c??null)}class rS extends cc{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kb(this);const h=Ui(c);this._bootstrapComponents=ec(h.bootstrap),this._r3Injector=A1(c,u,[{provide:cc,useValue:this},{provide:em,useValue:this.componentFactoryResolver}],we(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class D0 extends ry{constructor(c){super(),this.moduleType=c}create(c){return new rS(this.moduleType,c)}}class Jk extends cc{constructor(c,u,h){super(),this.componentFactoryResolver=new kb(this),this.instance=null;const p=new s1([...c,{provide:cc,useValue:this},{provide:em,useValue:this.componentFactoryResolver}],u||m_(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function S0(l,c,u=null){return new Jk(l,c,u).injector}let Xk=(()=>{class l{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=nf(0,u.type),p=h.length>0?S0([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,p)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=ht({token:l,providedIn:"environment",factory:()=>new l($t(al))}),l})();function sS(l){l.getStandaloneInjector=c=>c.get(Xk).getOrCreateStandaloneInjector(l)}function gl(l,c,u){const h=Xi()+l,p=ye();return p[h]===on?Ta(p,h,u?c.call(u):c()):function ff(l,c){return l[c]}(p,h)}function M0(l,c,u,h){return pS(ye(),Xi(),l,c,u,h)}function dS(l,c,u,h,p){return mS(ye(),Xi(),l,c,u,h,p)}function dc(l,c){const u=l[c];return u===on?void 0:u}function pS(l,c,u,h,p,_){const b=c+u;return es(l,b,p)?Ta(l,b+1,_?h.call(_,p):h(p)):dc(l,b+1)}function mS(l,c,u,h,p,_,b){const E=c+u;return sc(l,E,p,_)?Ta(l,E+2,b?h.call(b,p,_):h(p,_)):dc(l,E+2)}function N0(l,c){const u=zt();let h;const p=l+On;u.firstCreatePass?(h=function gS(l,c){if(c)for(let u=c.length-1;u>=0;u--){const h=c[u];if(l===h.name)return h}}(c,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks??(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const _=h.factory||(h.factory=lo(h.type)),b=si(rm);try{const E=ql(!1),T=_();return ql(E),function rD(l,c,u,h){u>=l.data.length&&(l.data[u]=null,l.blueprint[u]=null),c[u]=h}(u,ye(),p,T),T}finally{si(b)}}function If(l,c,u){const h=l+On,p=ye(),_=Ir(p,h);return Bd(p,h)?pS(p,Xi(),c,_.transform,u,_):_.transform(u)}function Fm(l,c,u,h){const p=l+On,_=ye(),b=Ir(_,p);return Bd(_,p)?mS(_,Xi(),c,b.transform,u,h,b):b.transform(u,h)}function ly(l,c,u,h,p){const _=l+On,b=ye(),E=Ir(b,_);return Bd(b,_)?function ay(l,c,u,h,p,_,b,E){const T=c+u;return Dd(l,T,p,_,b)?Ta(l,T+3,E?h.call(E,p,_,b):h(p,_,b)):dc(l,T+3)}(b,Xi(),c,E.transform,u,h,p,E):E.transform(u,h,p)}function Bd(l,c){return l[tt].data[c].pure}function yS(l){return c=>{setTimeout(l,void 0,c)}}const hc=class _S extends s.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,h){let p=c,_=u||(()=>null),b=h;if(c&&"object"==typeof c){const T=c;p=T.next?.bind(T),_=T.error?.bind(T),b=T.complete?.bind(T)}this.__isAsync&&(_=yS(_),p&&(p=yS(p)),b&&(b=yS(b)));const E=super.subscribe({next:p,error:_,complete:b});return c instanceof Y.w0&&c.add(E),E}};function NV(){return this._results[Symbol.iterator]()}class L0{get changes(){return this._changes||(this._changes=new hc)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=L0.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=NV)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const h=this;h.dirty=!1;const p=function Jr(l){return l.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function ld(l,c,u){if(l.length!==c.length)return!1;for(let h=0;h<l.length;h++){let p=l[h],_=c[h];if(u&&(p=u(p),_=u(_)),_!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vd=(()=>{class l{}return l.__NG_ELEMENT_ID__=dR,l})();const cR=Vd,uR=class extends cR{constructor(c,u,h){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(c,u){const h=this._declarationTContainer.tView,p=D_(this._declarationLView,h,c,16,null,h.declTNode,null,null,null,null,u||null);p[aa]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[Kr];return null!==b&&(p[Kr]=b.createEmbeddedView(h)),_b(h,p,c),new k_(p)}};function dR(){return Mf(hi(),ye())}function Mf(l,c){return 4&l.type?new uR(c,l,rf(l,c)):null}let Rs=(()=>{class l{}return l.__NG_ELEMENT_ID__=vS,l})();function vS(){return Lm(hi(),ye())}const Nm=Rs,bS=class extends Nm{constructor(c,u,h){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=h}get element(){return rf(this._hostTNode,this._hostLView)}get injector(){return new el(this._hostTNode,this._hostLView)}get parentInjector(){const c=pi(this._hostTNode,this._hostLView);if(ma(c)){const u=zl(c,this._hostLView),h=Ja(c);return new el(u[tt].data[h+8],u)}return new el(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=wS(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-Qi}createEmbeddedView(c,u,h){let p,_;"number"==typeof h?p=h:null!=h&&(p=h.index,_=h.injector);const b=c.createEmbeddedView(u||{},_);return this.insert(b,p),b}createComponent(c,u,h,p,_){const b=c&&!function Zc(l){return"function"==typeof l}(c);let E;if(b)E=u;else{const z=u||{};E=z.index,h=z.injector,p=z.projectableNodes,_=z.environmentInjector||z.ngModuleRef}const T=b?c:new am(bt(c)),M=h||this.parentInjector;if(!_&&null==T.ngModule){const X=(b?M:this.parentInjector).get(al,null);X&&(_=X)}const P=T.create(M,p,void 0,_);return this.insert(P.hostView,E),P}insert(c,u){const h=c._lView,p=h[tt];if(function Ch(l){return cs(l[jn])}(h)){const P=this.indexOf(c);if(-1!==P)this.detach(P);else{const z=h[jn],X=new bS(z,z[Gi],z[jn]);X.detach(X.indexOf(c))}}const _=this._adjustIndex(u),b=this._lContainer;!function g(l,c,u,h){const p=Qi+h,_=u.length;h>0&&(u[p-1][En]=c),h<_-Qi?(c[En]=u[p],cd(u,Qi+h,c)):(u.push(c),c[En]=null),c[jn]=u;const b=c[aa];null!==b&&u!==b&&function y(l,c){const u=l[Qr];c[ui]!==c[jn][jn][ui]&&(l[Ml]=!0),null===u?l[Qr]=[c]:u.push(c)}(b,c);const E=c[Kr];null!==E&&E.insertView(l),c[Vt]|=64}(p,h,b,_);const E=u_(_,b),T=h[Wt],M=yd(T,b[Ha]);return null!==M&&function VC(l,c,u,h,p,_){h[Hi]=p,h[Gi]=c,d_(l,h,u,1,p,_)}(p,b[Gi],T,h,M,E),c.attachToViewContainerRef(),cd(cy(b),_,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=wS(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),h=k(this._lContainer,u);h&&(Zl(cy(this._lContainer),u),N(h[tt],h))}detach(c){const u=this._adjustIndex(c,-1),h=k(this._lContainer,u);return h&&null!=Zl(cy(this._lContainer),u)?new k_(h):null}_adjustIndex(c,u=0){return c??this.length+u}};function wS(l){return l[ko]}function cy(l){return l[ko]||(l[ko]=[])}function Lm(l,c){let u;const h=c[l.index];if(cs(h))u=h;else{let p;if(8&l.type)p=Di(h);else{const _=c[Wt];p=_.createComment("");const b=Ji(l,c);nn(_,yd(_,b),p,function Kv(l,c){return l.nextSibling(c)}(_,b),!1)}c[l.index]=u=Eb(h,c,p,l),Tb(c,u)}return new bS(u,l,c)}class B0{constructor(c){this.queryList=c,this.matches=null}clone(){return new B0(this.queryList)}setDirty(){this.queryList.setDirty()}}class V0{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const h=null!==c.contentQueries?c.contentQueries[0]:u.length,p=[];for(let _=0;_<h;_++){const b=u.getByIndex(_);p.push(this.queries[b.indexInDeclarationView].clone())}return new V0(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==SS(c,u).matches&&this.queries[u].setDirty()}}class Ud{constructor(c,u,h=null){this.predicate=c,this.flags=u,this.read=h}}class Hd{constructor(c=[]){this.queries=c}elementStart(c,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,_=this.getByIndex(h).embeddedTView(c,p);_&&(_.indexInDeclarationView=h,null!==u?u.push(_):u=[_])}return null!==u?new Hd(u):null}template(c,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class U0{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new U0(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const _=h[p];this.matchTNodeWithReadOption(c,u,hR(u,_)),this.matchTNodeWithReadOption(c,u,Xa(u,c,_,!1,!1))}else h===Vd?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,Xa(u,c,h,!1,!1))}matchTNodeWithReadOption(c,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===sf||p===Rs||p===Vd&&4&u.type)this.addMatch(u.index,-2);else{const _=Xa(u,c,p,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,h)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function hR(l,c){const u=l.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===c)return u[h+1];return null}function Vm(l,c,u,h){return-1===u?function Bm(l,c){return 11&l.type?rf(l,c):4&l.type?Mf(l,c):null}(c,l):-2===u?function fR(l,c,u){return u===sf?rf(c,l):u===Vd?Mf(c,l):u===Rs?Lm(c,l):void 0}(l,c,h):Jn(l,l[tt],u,c)}function xS(l,c,u,h){const p=c[Kr].queries[h];if(null===p.matches){const _=l.data,b=u.matches,E=[];for(let T=0;T<b.length;T+=2){const M=b[T];E.push(M<0?null:Vm(c,_[M],b[T+1],u.metadata.read))}p.matches=E}return p.matches}function H0(l,c,u,h){const p=l.queries.getByIndex(u),_=p.matches;if(null!==_){const b=xS(l,c,p,u);for(let E=0;E<_.length;E+=2){const T=_[E];if(T>0)h.push(b[E/2]);else{const M=_[E+1],P=c[-T];for(let z=Qi;z<P.length;z++){const X=P[z];X[aa]===X[jn]&&H0(X[tt],X,M,h)}if(null!==P[Qr]){const z=P[Qr];for(let X=0;X<z.length;X++){const se=z[X];H0(se[tt],se,M,h)}}}}}return h}function CS(l){const c=ye(),u=zt(),h=Vl();kh(h+1);const p=SS(u,h);if(l.dirty&&function Nl(l){return 4==(4&l[Vt])}(c)===(2==(2&p.metadata.flags))){if(null===p.matches)l.reset([]);else{const _=p.crossesNgTemplate?H0(u,c,h,[]):xS(u,c,p,h);l.reset(_,lE),l.notifyOnChanges()}return!0}return!1}function ES(l,c,u){const h=zt();h.firstCreatePass&&(Um(h,new Ud(l,c,u),-1),2==(2&c)&&(h.staticViewQueries=!0)),uy(h,ye(),c)}function DS(l,c,u,h){const p=zt();if(p.firstCreatePass){const _=hi();Um(p,new Ud(c,u,h),_.index),function kf(l,c){const u=l.contentQueries||(l.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(l.queries.length-1,c)}(p,l),2==(2&u)&&(p.staticContentQueries=!0)}uy(p,ye(),u)}function pR(){return function mR(l,c){return l[Kr].queries[c].queryList}(ye(),Vl())}function uy(l,c,u){const h=new L0(4==(4&u));RE(l,c,h,h.destroy),null===c[Kr]&&(c[Kr]=new V0),c[Kr].queries.push(new B0(h))}function Um(l,c,u){null===l.queries&&(l.queries=new Hd),l.queries.track(new U0(c,u))}function SS(l,c){return l.queries.getByIndex(c)}function TS(l,c){return Mf(l,c)}function dy(l){return!!Ui(l)}function Ym(...l){}const GS=new fn("Application Initializer");let fy=(()=>{class l{constructor(u){this.appInits=u,this.resolve=Ym,this.reject=Ym,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(mf(_))u.push(_);else if(Gb(_)){const b=new Promise((E,T)=>{_.subscribe({complete:E,error:T})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return l.\u0275fac=function(u){return new(u||l)($t(GS,8))},l.\u0275prov=ht({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const jS=new fn("AppId",{providedIn:"root",factory:function zS(){return`${Ff()}${Ff()}${Ff()}`}});function Ff(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qS=new fn("Platform Initializer"),RR=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),OR=new fn("AnimationModuleType");let PR=(()=>{class l{log(u){console.log(u)}warn(u){console.warn(u)}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=ht({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const py=new fn("LocaleId",{providedIn:"root",factory:()=>Kn(py,gt.Optional|gt.SkipSelf)||function FR(){return typeof $localize<"u"&&$localize.locale||_u}()}),ir=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class NR{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let YS=(()=>{class l{compileModuleSync(u){return new D0(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),_=ec(Ui(u).declarations).reduce((b,E)=>{const T=bt(E);return T&&b.push(new am(T)),b},[]);return new NR(h,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=ht({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const Nf=(()=>Promise.resolve(0))();function ZS(l){typeof Zone>"u"?Nf.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Qs{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hc(!1),this.onMicrotaskEmpty=new hc(!1),this.onStable=new hc(!1),this.onError=new hc(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function WS(){let l=gn.requestAnimationFrame,c=gn.cancelAnimationFrame;if(typeof Zone<"u"&&l&&c){const u=l[Zone.__symbol__("OriginalDelegate")];u&&(l=u);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function QS(l){const c=()=>{!function YV(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(gn,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,gy(l),l.isCheckStableRunning=!0,KS(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),gy(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,_,b,E)=>{try{return _y(l),u.invokeTask(p,_,b,E)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||l.shouldCoalesceRunChangeDetection)&&c(),JS(l)}},onInvoke:(u,h,p,_,b,E,T)=>{try{return _y(l),u.invoke(p,_,b,E,T)}finally{l.shouldCoalesceRunChangeDetection&&c(),JS(l)}},onHasTask:(u,h,p,_)=>{u.hasTask(p,_),h===p&&("microTask"==_.change?(l._hasPendingMicrotasks=_.microTask,gy(l),KS(l)):"macroTask"==_.change&&(l.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,h,p,_)=>(u.handleError(p,_),l.runOutsideAngular(()=>l.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qs.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Qs.isInAngularZone())throw new xe(909,!1)}run(c,u,h){return this._inner.run(c,u,h)}runTask(c,u,h,p){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+p,c,BR,Ym,Ym);try{return _.runTask(b,u,h)}finally{_.cancelTask(b)}}runGuarded(c,u,h){return this._inner.runGuarded(c,u,h)}runOutsideAngular(c){return this._outer.run(c)}}const BR={};function KS(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function gy(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function _y(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function JS(l){l._nesting--,KS(l)}class VR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hc,this.onMicrotaskEmpty=new hc,this.onStable=new hc,this.onError=new hc}run(c,u,h){return c.apply(u,h)}runGuarded(c,u,h){return c.apply(u,h)}runOutsideAngular(c){return c()}runTask(c,u,h,p){return c.apply(u,h)}}const XS=new fn(""),iw=new fn("");let eT,UR=(()=>{class l{constructor(u,h,p){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,eT||(function ZV(l){eT=l}(p),p.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qs.assertNotInAngularZone(),ZS(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ZS(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,p){return[]}}return l.\u0275fac=function(u){return new(u||l)($t(Qs),$t(HR),$t(iw))},l.\u0275prov=ht({token:l,factory:l.\u0275fac}),l})(),HR=(()=>{class l{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return eT?.findTestabilityInTree(this,u,h)??null}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275prov=ht({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const vo=!1;let jd=null;const rw=new fn("AllowMultipleToken"),sw=new fn("PlatformDestroyListeners"),tT=new fn("appBootstrapListener");class jR{constructor(c,u){this.name=c,this.token=u}}function $R(l,c,u=[]){const h=`Platform: ${c}`,p=new fn(h);return(_=[])=>{let b=iT();if(!b||b.injector.get(rw,!1)){const E=[...u,..._,{provide:p,useValue:!0}];l?l(E):function zR(l){if(jd&&!jd.get(rw,!1))throw new xe(400,!1);jd=l;const c=l.get(vy);(function ow(l){const c=l.get(qS,null);c&&c.forEach(u=>u())})(l)}(function yy(l=[],c){return lf.create({name:c,providers:[{provide:f_,useValue:"platform"},{provide:sw,useValue:new Set([()=>jd=null])},...l]})}(E,h))}return function Mn(l){const c=iT();if(!c)throw new xe(401,!1);return c}()}}function iT(){return jd?.get(vy)??null}let vy=(()=>{class l{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const p=function ys(l,c){let u;return u="noop"===l?new VR:("zone.js"===l?void 0:l)||new Qs(c),u}(h?.ngZone,function be(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:Qs,useValue:p}];return p.run(()=>{const b=lf.create({providers:_,parent:this.injector,name:u.moduleType.name}),E=u.create(b),T=E.injector.get(b_,null);if(!T)throw new xe(402,!1);return p.runOutsideAngular(()=>{const M=p.onError.subscribe({next:P=>{T.handleError(P)}});E.onDestroy(()=>{by(this._modules,E),M.unsubscribe()})}),function Jo(l,c,u){try{const h=u();return mf(h)?h.catch(p=>{throw c.runOutsideAngular(()=>l.handleError(p)),p}):h}catch(h){throw c.runOutsideAngular(()=>l.handleError(h)),h}}(T,p,()=>{const M=E.injector.get(fy);return M.runInitializers(),M.donePromise.then(()=>(function fl(l){ve(l,"Expected localeId to be defined"),"string"==typeof l&&(RD=l.toLowerCase().replace(/_/g,"-"))}(E.injector.get(py,_u)||_u),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,h=[]){const p=Xo({},h);return function nT(l,c,u){const h=new D0(u);return Promise.resolve(h)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(u){const h=u.injector.get(H);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new xe(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(sw,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(u){return new(u||l)($t(lf))},l.\u0275prov=ht({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function Xo(l,c){return Array.isArray(c)?c.reduce(Xo,l):{...l,...c}}let H=(()=>{class l{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,h,p){this._zone=u,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new F.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),b=new F.y(E=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Qs.assertNotInAngularZone(),ZS(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Qs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{T.unsubscribe(),M.unsubscribe()}});this.isStable=(0,oe.T)(_,b.pipe((0,he.B)()))}bootstrap(u,h){const p=u instanceof Xp;if(!this._injector.get(fy).done){!p&&dr(u);throw new xe(405,vo)}let b;b=p?u:this._injector.get(em).resolveComponentFactory(u),this.componentTypes.push(b.componentType);const E=function GR(l){return l.isBoundToModule}(b)?void 0:this._injector.get(cc),M=b.create(lf.NULL,[],h||b.selector,E),P=M.location.nativeElement,z=M.injector.get(XS,null);return z?.registerApplication(P),M.onDestroy(()=>{this.detachView(M.hostView),by(this.components,M),z?.unregisterApplication(P)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;by(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(tT,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>by(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new xe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(u){return new(u||l)($t(Qs),$t(al),$t(b_))},l.\u0275prov=ht({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function by(l,c){const u=l.indexOf(c);u>-1&&l.splice(u,1)}function aw(){return!1}let cw=(()=>{class l{}return l.__NG_ELEMENT_ID__=YR,l})();function YR(l){return function ZR(l,c,u){if(Tc(l)&&!u){const h=ji(l.index,c);return new k_(h,h)}return 47&l.type?new k_(c[ui],c):null}(hi(),ye(),16==(16&l))}class mw{constructor(){}supports(c){return cm(c)}create(c){return new _w(c)}}const gw=(l,c)=>c;class _w{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||gw}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,h=this._removalsHead,p=0,_=null;for(;u||h;){const b=!h||u&&u.currentIndex<bw(h,p,_)?u:h,E=bw(b,p,_),T=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)p++;else{_||(_=[]);const M=E-p,P=T-p;if(M!=P){for(let X=0;X<M;X++){const se=X<_.length?_[X]:_[X]=0,Ee=se+X;P<=Ee&&Ee<M&&(_[X]=se+1)}_[b.previousIndex]=P-M}}E!==T&&c(b,E,T)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!cm(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,_,b,u=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let E=0;E<this.length;E++)_=c[E],b=this._trackByFn(E,_),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,_,b,E)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,b,E),h=!0),u=u._next}else p=0,function Nb(l,c){if(Array.isArray(l))for(let u=0;u<l.length;u++)c(l[u]);else{const u=l[Symbol.iterator]();let h;for(;!(h=u.next()).done;)c(h.value)}}(c,E=>{b=this._trackByFn(p,E),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,E,b,p)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,b,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,h,p){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,_,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,_,p)):c=this._addAfter(new yw(u,h),_,p),c}_verifyReinsertion(c,u,h,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?c=this._reinsertAfter(_,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,_=c._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(c,u,h),this._addToMoves(c,h),c}_moveAfter(c,u,h){return this._unlink(c),this._insertAfter(c,u,h),this._addToMoves(c,h),c}_addAfter(c,u,h){return this._insertAfter(c,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,h){const p=null===u?this._itHead:u._next;return c._next=p,c._prev=u,null===p?this._itTail=c:p._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new xy),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,h=c._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xy),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class yw{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vw{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const u=c._prevDup,h=c._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class xy{constructor(){this.map=new Map}put(c){const u=c.trackById;let h=this.map.get(u);h||(h=new vw,this.map.set(u,h)),h.add(c)}get(c,u){const p=this.map.get(c);return p?p.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bw(l,c,u){const h=l.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+c+p}class aT{constructor(){}supports(c){return c instanceof Map||P_(c)}create(){return new Wm}}class Wm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||P_(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const h=c._prev;return u._next=c,u._prev=h,c._prev=u,h&&(h._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,u);const _=p._prev,b=p._next;return _&&(_._next=b),b&&(b._prev=_),p._next=null,p._prev=null,p}const h=new JR(c);return this._records.set(c,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(h=>u(c[h],h))}}class JR{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vf(){return new ww([new mw])}let ww=(()=>{class l{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new l(u)}static extend(u){return{provide:l,useFactory:h=>l.create(u,h||Vf()),deps:[[l,new kr,new Ds]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new xe(901,!1)}}return l.\u0275prov=ht({token:l,providedIn:"root",factory:Vf}),l})();function Km(){return new Qm([new aT])}let Qm=(()=>{class l{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new l(u)}static extend(u){return{provide:l,useFactory:h=>l.create(u,h||Km()),deps:[[l,new kr,new Ds]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(h)return h;throw new xe(901,!1)}}return l.\u0275prov=ht({token:l,providedIn:"root",factory:Km}),l})();const Cy=$R(null,"core",[]);let xw=(()=>{class l{constructor(u){}}return l.\u0275fac=function(u){return new(u||l)($t(H))},l.\u0275mod=ae({type:l}),l.\u0275inj=Et({}),l})();function Cw(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},3942:(vt,Ie,G)=>{G.d(Ie,{Z:()=>Xe});var s=G(2090),Y=G(4859),F=G(6881),oe=G(1877);class he{constructor(xe,Pe){this._delegate=xe,this.firebase=Pe,(0,F._addComponent)(xe,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(xe,Pe=F._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(xe);return!je.isInitialized()&&"EXPLICIT"===(null===(Be=je.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&je.initialize(),je.getImmediate({identifier:Pe})}_removeServiceInstance(xe,Pe=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(Pe)}_addComponent(xe){(0,F._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,F._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function Ce(){const lt=function we(lt){const xe={},Pe={__esModule:!0,initializeApp:function Ae(Ve,de={}){const rt=F.initializeApp(Ve,de);if((0,s.r3)(xe,rt.name))return xe[rt.name];const Mt=new lt(rt,Pe);return xe[rt.name]=Mt,Mt},app:je,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Fe(Ve){const de=Ve.name,rt=de.replace("-compat","");if(F._registerComponent(Ve)&&"PUBLIC"===Ve.type){const Mt=(ct=je())=>{if("function"!=typeof ct[rt])throw Se.create("invalid-app-argument",{appName:de});return ct[rt]()};void 0!==Ve.serviceProps&&(0,s.ZB)(Mt,Ve.serviceProps),Pe[rt]=Mt,lt.prototype[rt]=function(...ct){return this._getService.bind(this,de).apply(this,Ve.multipleInstances?ct:[])}}return"PUBLIC"===Ve.type?Pe[rt]:null},removeApp:function Be(Ve){delete xe[Ve]},useAsService:function qe(Ve,de){return"serverAuth"===de?null:de},modularAPIs:F}};function je(Ve){if(!(0,s.r3)(xe,Ve=Ve||F._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:Ve});return xe[Ve]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function Te(){return Object.keys(xe).map(Ve=>xe[Ve])}}),je.App=lt,Pe}(he);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function xe(Pe){(0,s.ZB)(lt,Pe)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),lt}(),K=new oe.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=Q;!function Me(lt){(0,F.registerVersion)("@firebase/app-compat","0.2.13",lt)}()},6881:(vt,Ie,G)=>{G.r(Ie),G.d(Ie,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Zr,_DEFAULT_ENTRY_NAME:()=>cr,_addComponent:()=>pt,_addOrOverwriteComponent:()=>Ht,_apps:()=>gn,_clearComponents:()=>Er,_components:()=>Qt,_getProvider:()=>Wi,_registerComponent:()=>oi,_removeServiceInstance:()=>Wn,deleteApp:()=>ai,getApp:()=>Vr,getApps:()=>$t,initializeApp:()=>en,onLog:()=>li,registerVersion:()=>Ki,setLogLevel:()=>Dr});var s=G(5861),Y=G(4859),F=G(1877),oe=G(2090);const he=(_e,ae)=>ae.some(Ue=>_e instanceof Ue);let te,Se;const Q=new WeakMap,K=new WeakMap,ne=new WeakMap,ze=new WeakMap,Me=new WeakMap;let xe={get(_e,ae,Ue){if(_e instanceof IDBTransaction){if("done"===ae)return K.get(_e);if("objectStoreNames"===ae)return _e.objectStoreNames||ne.get(_e);if("store"===ae)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return Ae(_e[ae])},set:(_e,ae,Ue)=>(_e[ae]=Ue,!0),has:(_e,ae)=>_e instanceof IDBTransaction&&("done"===ae||"store"===ae)||ae in _e};function je(_e){return"function"==typeof _e?function Be(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...ae){return _e.apply(Te(this),ae),Ae(Q.get(this))}:function(...ae){return Ae(_e.apply(Te(this),ae))}:function(ae,...Ue){const yt=_e.call(Te(this),ae,...Ue);return ne.set(yt,ae.sort?ae.sort():[ae]),Ae(yt)}}(_e):(_e instanceof IDBTransaction&&function lt(_e){if(K.has(_e))return;const ae=new Promise((Ue,yt)=>{const Ot=()=>{_e.removeEventListener("complete",tn),_e.removeEventListener("error",bt),_e.removeEventListener("abort",bt)},tn=()=>{Ue(),Ot()},bt=()=>{yt(_e.error||new DOMException("AbortError","AbortError")),Ot()};_e.addEventListener("complete",tn),_e.addEventListener("error",bt),_e.addEventListener("abort",bt)});K.set(_e,ae)}(_e),he(_e,function we(){return te||(te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,xe):_e)}function Ae(_e){if(_e instanceof IDBRequest)return function Xe(_e){const ae=new Promise((Ue,yt)=>{const Ot=()=>{_e.removeEventListener("success",tn),_e.removeEventListener("error",bt)},tn=()=>{Ue(Ae(_e.result)),Ot()},bt=()=>{yt(_e.error),Ot()};_e.addEventListener("success",tn),_e.addEventListener("error",bt)});return ae.then(Ue=>{Ue instanceof IDBCursor&&Q.set(Ue,_e)}).catch(()=>{}),Me.set(ae,_e),ae}(_e);if(ze.has(_e))return ze.get(_e);const ae=je(_e);return ae!==_e&&(ze.set(_e,ae),Me.set(ae,_e)),ae}const Te=_e=>Me.get(_e),Ve=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],rt=new Map;function Mt(_e,ae){if(!(_e instanceof IDBDatabase)||ae in _e||"string"!=typeof ae)return;if(rt.get(ae))return rt.get(ae);const Ue=ae.replace(/FromIndex$/,""),yt=ae!==Ue,Ot=de.includes(Ue);if(!(Ue in(yt?IDBIndex:IDBObjectStore).prototype)||!Ot&&!Ve.includes(Ue))return;const tn=function(){var bt=(0,s.Z)(function*(Cn,...un){const dr=this.transaction(Cn,Ot?"readwrite":"readonly");let Ui=dr.store;return yt&&(Ui=Ui.index(un.shift())),(yield Promise.all([Ui[Ue](...un),Ot&&dr.done]))[0]});return function(un){return bt.apply(this,arguments)}}();return rt.set(ae,tn),tn}!function Pe(_e){xe=_e(xe)}(_e=>({..._e,get:(ae,Ue,yt)=>Mt(ae,Ue)||_e.get(ae,Ue,yt),has:(ae,Ue)=>!!Mt(ae,Ue)||_e.has(ae,Ue)}));class ct{constructor(ae){this.container=ae}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function Kt(_e){return"VERSION"===_e.getComponent()?.type}(Ue)){const yt=Ue.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(Ue=>Ue).join(" ")}}const ft="@firebase/app",Bi=new F.Yd("@firebase/app"),cr="[DEFAULT]",Cr={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,Qt=new Map;function pt(_e,ae){try{_e.container.addComponent(ae)}catch(Ue){Bi.debug(`Component ${ae.name} failed to register with FirebaseApp ${_e.name}`,Ue)}}function Ht(_e,ae){_e.container.addOrOverwriteComponent(ae)}function oi(_e){const ae=_e.name;if(Qt.has(ae))return Bi.debug(`There were multiple attempts to register component ${ae}.`),!1;Qt.set(ae,_e);for(const Ue of gn.values())pt(Ue,_e);return!0}function Wi(_e,ae){const Ue=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),_e.container.getProvider(ae)}function Wn(_e,ae,Ue=cr){Wi(_e,ae).clearInstance(Ue)}function Er(){Qt.clear()}const Ei=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jt{constructor(ae,Ue,yt){this._isDeleted=!1,this._options=Object.assign({},ae),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ae){this._isDeleted=ae}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const Zr="9.23.0";function en(_e,ae={}){let Ue=_e;"object"!=typeof ae&&(ae={name:ae});const yt=Object.assign({name:cr,automaticDataCollectionEnabled:!1},ae),Ot=yt.name;if("string"!=typeof Ot||!Ot)throw Ei.create("bad-app-name",{appName:String(Ot)});if(Ue||(Ue=(0,oe.aH)()),!Ue)throw Ei.create("no-options");const tn=gn.get(Ot);if(tn){if((0,oe.vZ)(Ue,tn.options)&&(0,oe.vZ)(yt,tn.config))return tn;throw Ei.create("duplicate-app",{appName:Ot})}const bt=new Y.H0(Ot);for(const un of Qt.values())bt.addComponent(un);const Cn=new Jt(Ue,yt,bt);return gn.set(Ot,Cn),Cn}function Vr(_e=cr){const ae=gn.get(_e);if(!ae&&_e===cr&&(0,oe.aH)())return en();if(!ae)throw Ei.create("no-app",{appName:_e});return ae}function $t(){return Array.from(gn.values())}function ai(_e){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,s.Z)(function*(_e){const ae=_e.name;gn.has(ae)&&(gn.delete(ae),yield Promise.all(_e.container.getProviders().map(Ue=>Ue.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function Ki(_e,ae,Ue){var yt;let Ot=null!==(yt=Cr[_e])&&void 0!==yt?yt:_e;Ue&&(Ot+=`-${Ue}`);const tn=Ot.match(/\s|\//),bt=ae.match(/\s|\//);if(tn||bt){const Cn=[`Unable to register library "${Ot}" with version "${ae}":`];return tn&&Cn.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),tn&&bt&&Cn.push("and"),bt&&Cn.push(`version name "${ae}" contains illegal characters (whitespace or "/")`),void Bi.warn(Cn.join(" "))}oi(new Y.wA(`${Ot}-version`,()=>({library:Ot,version:ae}),"VERSION"))}function li(_e,ae){if(null!==_e&&"function"!=typeof _e)throw Ei.create("invalid-log-argument");(0,F.Am)(_e,ae)}function Dr(_e){(0,F.Ub)(_e)}const ur="firebase-heartbeat-database",Sr=1,Z="firebase-heartbeat-store";let $=null;function L(){return $||($=function Fe(_e,ae,{blocked:Ue,upgrade:yt,blocking:Ot,terminated:tn}={}){const bt=indexedDB.open(_e,ae),Cn=Ae(bt);return yt&&bt.addEventListener("upgradeneeded",un=>{yt(Ae(bt.result),un.oldVersion,un.newVersion,Ae(bt.transaction),un)}),Ue&&bt.addEventListener("blocked",un=>Ue(un.oldVersion,un.newVersion,un)),Cn.then(un=>{tn&&un.addEventListener("close",()=>tn()),Ot&&un.addEventListener("versionchange",dr=>Ot(dr.oldVersion,dr.newVersion,dr))}).catch(()=>{}),Cn}(ur,Sr,{upgrade:(_e,ae)=>{0===ae&&_e.createObjectStore(Z)}}).catch(_e=>{throw Ei.create("idb-open",{originalErrorMessage:_e.message})})),$}function O(){return(O=(0,s.Z)(function*(_e){try{return yield(yield L()).transaction(Z).objectStore(Z).get(st(_e))}catch(ae){if(ae instanceof oe.ZR)Bi.warn(ae.message);else{const Ue=Ei.create("idb-get",{originalErrorMessage:ae?.message});Bi.warn(Ue.message)}}})).apply(this,arguments)}function J(_e,ae){return De.apply(this,arguments)}function De(){return(De=(0,s.Z)(function*(_e,ae){try{const yt=(yield L()).transaction(Z,"readwrite");yield yt.objectStore(Z).put(ae,st(_e)),yield yt.done}catch(Ue){if(Ue instanceof oe.ZR)Bi.warn(Ue.message);else{const yt=Ei.create("idb-set",{originalErrorMessage:Ue?.message});Bi.warn(yt.message)}}})).apply(this,arguments)}function st(_e){return`${_e.name}!${_e.options.appId}`}class Xt{constructor(ae){this.container=ae,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new Yt(Ue),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var ae=this;return(0,s.Z)(function*(){const yt=ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=Ft();if(null===ae._heartbeatsCache&&(ae._heartbeatsCache=yield ae._heartbeatsCachePromise),ae._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!ae._heartbeatsCache.heartbeats.some(tn=>tn.date===Ot))return ae._heartbeatsCache.heartbeats.push({date:Ot,agent:yt}),ae._heartbeatsCache.heartbeats=ae._heartbeatsCache.heartbeats.filter(tn=>{const bt=new Date(tn.date).valueOf();return Date.now()-bt<=2592e6}),ae._storage.overwrite(ae._heartbeatsCache)})()}getHeartbeatsHeader(){var ae=this;return(0,s.Z)(function*(){if(null===ae._heartbeatsCache&&(yield ae._heartbeatsCachePromise),null===ae._heartbeatsCache||0===ae._heartbeatsCache.heartbeats.length)return"";const Ue=Ft(),{heartbeatsToSend:yt,unsentEntries:Ot}=function Ln(_e,ae=1024){const Ue=[];let yt=_e.slice();for(const Ot of _e){const tn=Ue.find(bt=>bt.agent===Ot.agent);if(tn){if(tn.dates.push(Ot.date),Vi(Ue)>ae){tn.dates.pop();break}}else if(Ue.push({agent:Ot.agent,dates:[Ot.date]}),Vi(Ue)>ae){Ue.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:yt}}(ae._heartbeatsCache.heartbeats),tn=(0,oe.L)(JSON.stringify({version:2,heartbeats:yt}));return ae._heartbeatsCache.lastSentHeartbeatDate=Ue,Ot.length>0?(ae._heartbeatsCache.heartbeats=Ot,yield ae._storage.overwrite(ae._heartbeatsCache)):(ae._heartbeatsCache.heartbeats=[],ae._storage.overwrite(ae._heartbeatsCache)),tn})()}}function Ft(){return(new Date).toISOString().substring(0,10)}class Yt{constructor(ae){this.app=ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ae=this;return(0,s.Z)(function*(){return(yield ae._canUseIndexedDBPromise)&&(yield function V(_e){return O.apply(this,arguments)}(ae.app))||{heartbeats:[]}})()}overwrite(ae){var Ue=this;return(0,s.Z)(function*(){var yt;if(yield Ue._canUseIndexedDBPromise){const tn=yield Ue.read();return J(Ue.app,{lastSentHeartbeatDate:null!==(yt=ae.lastSentHeartbeatDate)&&void 0!==yt?yt:tn.lastSentHeartbeatDate,heartbeats:ae.heartbeats})}})()}add(ae){var Ue=this;return(0,s.Z)(function*(){var yt;if(yield Ue._canUseIndexedDBPromise){const tn=yield Ue.read();return J(Ue.app,{lastSentHeartbeatDate:null!==(yt=ae.lastSentHeartbeatDate)&&void 0!==yt?yt:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...ae.heartbeats]})}})()}}function Vi(_e){return(0,oe.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function so(_e){oi(new Y.wA("platform-logger",ae=>new ct(ae),"PRIVATE")),oi(new Y.wA("heartbeat",ae=>new Xt(ae),"PRIVATE")),Ki(ft,"0.9.13",_e),Ki(ft,"0.9.13","esm2017"),Ki("fire-js","")}("")},4859:(vt,Ie,G)=>{G.d(Ie,{H0:()=>we,wA:()=>F,zt:()=>he});var s=G(5861),Y=G(2090);class F{constructor(Q,K,ne){this.name=Q,this.instanceFactory=K,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const oe="[DEFAULT]";class he{constructor(Q,K){this.name=Q,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const K=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(K)){const ne=new Y.BH;if(this.instancesDeferred.set(K,ne),this.isInitialized(K)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:K});ze&&ne.resolve(ze)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(Q){var K;const ne=this.normalizeInstanceIdentifier(Q?.identifier),ze=null!==(K=Q?.optional)&&void 0!==K&&K;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Me){if(ze)return null;throw Me}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function Se(Ce){return"EAGER"===Ce.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[K,ne]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(K);try{const Me=this.getOrInitializeService({instanceIdentifier:ze});ne.resolve(Me)}catch{}}}}clearInstance(Q=oe){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,s.Z)(function*(){const K=Array.from(Q.instances.values());yield Promise.all([...K.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...K.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=oe){return this.instances.has(Q)}getOptions(Q=oe){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:K={}}=Q,ne=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ne,options:K});for(const[Me,Xe]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Me)&&Xe.resolve(ze);return ze}onInit(Q,K){var ne;const ze=this.normalizeInstanceIdentifier(K),Me=null!==(ne=this.onInitCallbacks.get(ze))&&void 0!==ne?ne:new Set;Me.add(Q),this.onInitCallbacks.set(ze,Me);const Xe=this.instances.get(ze);return Xe&&Q(Xe,ze),()=>{Me.delete(Q)}}invokeOnInitCallbacks(Q,K){const ne=this.onInitCallbacks.get(K);if(ne)for(const ze of ne)try{ze(Q,K)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:K={}}){let ne=this.instances.get(Q);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=Q,Ce===oe?void 0:Ce),options:K}),this.instances.set(Q,ne),this.instancesOptions.set(Q,K),this.invokeOnInitCallbacks(ne,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,ne)}catch{}var Ce;return ne||null}normalizeInstanceIdentifier(Q=oe){return this.component?this.component.multipleInstances?Q:oe:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const K=this.getProvider(Q.name);if(K.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);K.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const K=new he(Q,this);return this.providers.set(Q,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Ie,G)=>{G.d(Ie,{Am:()=>Ce,Ub:()=>we,Yd:()=>Se,in:()=>Y});const s=[];var Y=(()=>{return(Q=Y||(Y={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",Y;var Q})();const F={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},oe=Y.INFO,he={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},te=(Q,K,...ne)=>{if(K<Q.logLevel)return;const ze=(new Date).toISOString(),Me=he[K];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Me](`[${ze}]  ${Q.name}:`,...ne)};class Se{constructor(K){this.name=K,this._logLevel=oe,this._logHandler=te,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in Y))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?F[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...K),this._logHandler(this,Y.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...K),this._logHandler(this,Y.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...K),this._logHandler(this,Y.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...K),this._logHandler(this,Y.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...K),this._logHandler(this,Y.ERROR,...K)}}function we(Q){s.forEach(K=>{K.setLogLevel(Q)})}function Ce(Q,K){for(const ne of s){let ze=null;K&&K.level&&(ze=F[K.level]),ne.userLogHandler=null===Q?null:(Me,Xe,...lt)=>{const xe=lt.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");Xe>=(ze??Me.logLevel)&&Q({level:Y[Xe].toLowerCase(),message:xe,args:lt,type:Me.name})}}}},259:(vt,Ie,G)=>{G.d(Ie,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=G(6881);(0,s.registerVersion)("firebase","9.23.0","app")},9260:(vt,Ie,G)=>{G.d(Ie,{Z:()=>s.Z});var s=G(3942);s.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(vt,Ie,G)=>{G.r(Ie);var s=G(5861),Y=G(3942),F=G(1389),oe=G(2090),Se=(G(6881),G(1877),G(4859));function we(){return window}const Ce=2e3;function K(){return K=(0,s.Z)(function*(L,V,O){var J;const{BuildInfo:De}=we();(0,F.as)(V.sessionId,"AuthEvent did not contain a session ID");const st=yield function Pe(L){return Be.apply(this,arguments)}(V.sessionId),Rt={};return(0,F.at)()?Rt.ibi=De.packageName:(0,F.au)()?Rt.apn=De.packageName:(0,F.av)(L,"operation-not-supported-in-this-environment"),De.displayName&&(Rt.appDisplayName=De.displayName),Rt.sessionId=st,(0,F.aw)(L,O,V.type,void 0,null!==(J=V.eventId)&&void 0!==J?J:void 0,Rt)}),K.apply(this,arguments)}function ze(){return(ze=(0,s.Z)(function*(L){const{BuildInfo:V}=we(),O={};(0,F.at)()?O.iosBundleId=V.packageName:(0,F.au)()?O.androidPackageName=V.packageName:(0,F.av)(L,"operation-not-supported-in-this-environment"),yield(0,F.ax)(L,O)})).apply(this,arguments)}function lt(){return(lt=(0,s.Z)(function*(L,V,O){const{cordova:J}=we();let De=()=>{};try{yield new Promise((st,Rt)=>{let Tt=null;function Xt(){var Yt;st();const Vi=null===(Yt=J.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof Vi&&Vi(),"function"==typeof O?.close&&O.close()}function Ft(){Tt||(Tt=window.setTimeout(()=>{Rt((0,F.az)(L,"redirect-cancelled-by-user"))},Ce))}function Ln(){"visible"===document?.visibilityState&&Ft()}V.addPassiveListener(Xt),document.addEventListener("resume",Ft,!1),(0,F.au)()&&document.addEventListener("visibilitychange",Ln,!1),De=()=>{V.removePassiveListener(Xt),document.removeEventListener("resume",Ft,!1),document.removeEventListener("visibilitychange",Ln,!1),Tt&&window.clearTimeout(Tt)}})}finally{De()}})).apply(this,arguments)}function Be(){return(Be=(0,s.Z)(function*(L){const V=function je(L){if((0,F.as)(/[0-9a-zA-Z]+/.test(L),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(L);const V=new ArrayBuffer(L.length),O=new Uint8Array(V);for(let J=0;J<L.length;J++)O[J]=L.charCodeAt(J);return O}(L),O=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(O)).map(De=>De.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ae=20;class Te extends F.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(V)),super.onEvent(V)}initialized(){var V=this;return(0,s.Z)(function*(){yield V.initPromise})()}}function Ve(L){return de.apply(this,arguments)}function de(){return(de=(0,s.Z)(function*(L){const V=yield ct()._get(Kt(L));return V&&(yield ct()._remove(Kt(L))),V})).apply(this,arguments)}function Mt(){const L=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<Ae;O++){const J=Math.floor(Math.random()*V.length);L.push(V.charAt(J))}return L.join("")}function ct(){return(0,F.aC)(F.b)}function Kt(L){return(0,F.aD)("authEvent",L.config.apiKey,L.name)}function Bi(L){if(!L?.includes("?"))return{};const[V,...O]=L.split("?");return(0,oe.zd)(O.join("?"))}const fe=class Gs{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(V){var O=this;return(0,s.Z)(function*(){const J=V._key();let De=O.eventManagers.get(J);return De||(De=new Te(V),O.eventManagers.set(J,De),O.attachCallbackListeners(V,De)),De})()}_openPopup(V){(0,F.av)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,O,J,De){var st=this;return(0,s.Z)(function*(){!function xe(L){var V,O,J,De,st,Rt,Tt,Xt,Ft,Ln;const Yt=we();(0,F.aA)("function"==typeof(null===(V=Yt?.universalLinks)||void 0===V?void 0:V.subscribe),L,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aA)(typeof(null===(O=Yt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aA)("function"==typeof(null===(st=null===(De=null===(J=Yt?.cordova)||void 0===J?void 0:J.plugins)||void 0===De?void 0:De.browsertab)||void 0===st?void 0:st.openUrl),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(Xt=null===(Tt=null===(Rt=Yt?.cordova)||void 0===Rt?void 0:Rt.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===Xt?void 0:Xt.isAvailable),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(Ln=null===(Ft=Yt?.cordova)||void 0===Ft?void 0:Ft.InAppBrowser)||void 0===Ln?void 0:Ln.open),L,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Rt=yield st._initialize(V);yield Rt.initialized(),Rt.resetRedirect(),(0,F.aG)(),yield st._originValidation(V);const Tt=function Fe(L,V,O=null){return{type:V,eventId:O,urlResponse:null,sessionId:Mt(),postBody:null,tenantId:L.tenantId,error:(0,F.az)(L,"no-auth-event")}}(V,J,De);yield function qe(L,V){return ct()._set(Kt(L),V)}(V,Tt);const Xt=yield function Q(L,V,O){return K.apply(this,arguments)}(V,Tt,O),Ft=yield function Me(L){const{cordova:V}=we();return new Promise(O=>{V.plugins.browsertab.isAvailable(J=>{let De=null;J?V.plugins.browsertab.openUrl(L):De=V.InAppBrowser.open(L,(0,F.ay)()?"_blank":"_system","location=yes"),O(De)})})}(Xt);return function Xe(L,V,O){return lt.apply(this,arguments)}(V,Rt,Ft)})()}_isIframeWebStorageSupported(V,O){throw new Error("Method not implemented.")}_originValidation(V){const O=V._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function ne(L){return ze.apply(this,arguments)}(V)),this.originValidationPromises[O]}attachCallbackListeners(V,O){const{universalLinks:J,handleOpenURL:De,BuildInfo:st}=we(),Rt=setTimeout((0,s.Z)(function*(){yield Ve(V),O.onEvent(ge())}),500),Tt=function(){var Ln=(0,s.Z)(function*(Yt){clearTimeout(Rt);const Vi=yield Ve(V);let so=null;Vi&&Yt?.url&&(so=function rt(L,V){var O,J;const De=function ro(L){const V=Bi(L),O=V.link?decodeURIComponent(V.link):void 0,J=Bi(O).link,De=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return Bi(De).link||De||J||O||L}(V);if(De.includes("/__/auth/callback")){const st=Bi(De),Rt=st.firebaseError?function ft(L){try{return JSON.parse(L)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,Tt=null===(J=null===(O=Rt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===J?void 0:J[1],Xt=Tt?(0,F.az)(Tt):null;return Xt?{type:L.type,eventId:L.eventId,tenantId:L.tenantId,error:Xt,urlResponse:null,sessionId:null,postBody:null}:{type:L.type,eventId:L.eventId,tenantId:L.tenantId,sessionId:L.sessionId,urlResponse:De,postBody:null}}return null}(Vi,Yt.url)),O.onEvent(so||ge())});return function(Vi){return Ln.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,Tt);const Xt=De,Ft=`${st.packageName.toLowerCase()}://`;we().handleOpenURL=function(){var Ln=(0,s.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(Ft)&&Tt({url:Yt}),"function"==typeof Xt)try{Xt(Yt)}catch(Vi){console.error(Vi)}});return function(Yt){return Ln.apply(this,arguments)}}()}};function ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.az)("no-auth-event")}}const He=1e3;function ut(){var L;return(null===(L=self?.location)||void 0===L?void 0:L.protocol)||null}function mn(L=(0,oe.z$)()){return!("file:"!==ut()&&"ionic:"!==ut()&&"capacitor:"!==ut()||!L.toLowerCase().match(/iphone|ipad|ipod|android/))}function yi(){try{const L=self.localStorage,V=F.aL();if(L)return L.setItem(V,"1"),L.removeItem(V),!function bn(L=(0,oe.z$)()){return function ln(){return(0,oe.w1)()&&11===document?.documentMode}()||function Hn(L=(0,oe.z$)()){return/Edge\/\d+/.test(L)}(L)}()||(0,oe.hl)()}catch{return Gn()&&(0,oe.hl)()}return!1}function Gn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zn(){return(function ht(){return"http:"===ut()||"https:"===ut()}()||(0,oe.ru)()||mn())&&!function Et(){return(0,oe.b$)()||(0,oe.UG)()}()&&yi()&&!Gn()}function vi(){return mn()&&typeof document<"u"}function ti(){return(ti=(0,s.Z)(function*(){return!!vi()&&new Promise(L=>{const V=setTimeout(()=>{L(!1)},He);document.addEventListener("deviceready",()=>{clearTimeout(V),L(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},js=F.aA,si="persistence";function Cr(L){return gn.apply(this,arguments)}function gn(){return(gn=(0,s.Z)(function*(L){yield L._initializationPromise;const V=pt(),O=F.aD(si,L.config.apiKey,L.name);V&&V.setItem(O,L._getPersistence())})).apply(this,arguments)}function pt(){var L;try{return(null===(L=function gt(){return typeof window<"u"?window:null}())||void 0===L?void 0:L.sessionStorage)||null}catch{return null}}const Ht=F.aA;class oi{constructor(){this.browserResolver=F.aC(F.k),this.cordovaResolver=F.aC(fe),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(V){var O=this;return(0,s.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,O,J,De){var st=this;return(0,s.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(V,O,J,De)})()}_openRedirect(V,O,J,De){var st=this;return(0,s.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(V,O,J,De)})()}_isIframeWebStorageSupported(V,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,O)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return vi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,s.Z)(function*(){if(V.underlyingResolver)return;const O=yield function Yr(){return ti.apply(this,arguments)}();V.underlyingResolver=O?V.cordovaResolver:V.browserResolver})()}}function Wi(L){return L.unwrap()}function Er(L){return Ei(L)}function Ei(L){const{_tokenResponse:V}=L instanceof oe.ZR?L.customData:L;if(!V)return null;if(!(L instanceof oe.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return F.P.credentialFromResult(L);const O=V.providerId;if(!O||O===F.p.PASSWORD)return null;let J;switch(O){case F.p.GOOGLE:J=F.V;break;case F.p.FACEBOOK:J=F.U;break;case F.p.GITHUB:J=F.W;break;case F.p.TWITTER:J=F.Z;break;default:const{oauthIdToken:De,oauthAccessToken:st,oauthTokenSecret:Rt,pendingToken:Tt,nonce:Xt}=V;return st||Rt||De||Tt?Tt?O.startsWith("saml.")?F.aO._create(O,Tt):F.L._fromParams({providerId:O,signInMethod:O,pendingToken:Tt,idToken:De,accessToken:st}):new F.X(O).credential({idToken:De,accessToken:st,rawNonce:Xt}):null}return L instanceof oe.ZR?J.credentialFromError(L):J.credentialFromResult(L)}function Jt(L,V){return V.catch(O=>{throw O instanceof oe.ZR&&function ii(L,V){var O;const J=null===(O=V.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new Vr(L,F.aq(L,V));else if(J){const De=Ei(V),st=V;De&&(st.credential=De,st.tenantId=J.tenantId||void 0,st.email=J.email||void 0,st.phoneNumber=J.phoneNumber||void 0)}}(L,O),O}).then(O=>{const De=O.user;return{operationType:O.operationType,credential:Er(O),additionalUserInfo:F.ao(O),user:$t.getOrCreate(De)}})}function Zr(L,V){return en.apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(L,V){const O=yield V;return{verificationId:O.verificationId,confirm:J=>Jt(L,O.confirm(J))}})).apply(this,arguments)}class Vr{constructor(V,O){this.resolver=O,this.auth=function Wn(L){return L.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return Jt(Wi(this.auth),this.resolver.resolveSignIn(V))}}class $t{constructor(V){this._delegate=V,this.multiFactor=F.ar(V)}static getOrCreate(V){return $t.USER_MAP.has(V)||$t.USER_MAP.set(V,new $t(V)),$t.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var O=this;return(0,s.Z)(function*(){return Jt(O.auth,F.a0(O._delegate,V))})()}linkWithPhoneNumber(V,O){var J=this;return(0,s.Z)(function*(){return Zr(J.auth,F.l(J._delegate,V,O))})()}linkWithPopup(V){var O=this;return(0,s.Z)(function*(){return Jt(O.auth,F.d(O._delegate,V,oi))})()}linkWithRedirect(V){var O=this;return(0,s.Z)(function*(){return yield Cr(F.aH(O.auth)),F.g(O._delegate,V,oi)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var O=this;return(0,s.Z)(function*(){return Jt(O.auth,F.a1(O._delegate,V))})()}reauthenticateWithPhoneNumber(V,O){return Zr(this.auth,F.r(this._delegate,V,O))}reauthenticateWithPopup(V){return Jt(this.auth,F.e(this._delegate,V,oi))}reauthenticateWithRedirect(V){var O=this;return(0,s.Z)(function*(){return yield Cr(F.aH(O.auth)),F.h(O._delegate,V,oi)})()}sendEmailVerification(V){return F.ae(this._delegate,V)}unlink(V){var O=this;return(0,s.Z)(function*(){return yield F.an(O._delegate,V),O})()}updateEmail(V){return F.aj(this._delegate,V)}updatePassword(V){return F.ak(this._delegate,V)}updatePhoneNumber(V){return F.u(this._delegate,V)}updateProfile(V){return F.ai(this._delegate,V)}verifyBeforeUpdateEmail(V,O){return F.af(this._delegate,V,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$t.USER_MAP=new WeakMap;const ai=F.aA;let Kn=(()=>{class L{constructor(O,J){if(this.app=O,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:De}=O.options;ai(De,"invalid-api-key",{appName:O.name}),ai(De,"invalid-api-key",{appName:O.name});const st=typeof window<"u"?oi:void 0;this._delegate=J.initialize({options:{persistence:li(De,O.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(F.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$t.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,J){F.I(this._delegate,O,J)}applyActionCode(O){return F.a5(this._delegate,O)}checkActionCode(O){return F.a6(this._delegate,O)}confirmPasswordReset(O,J){return F.a4(this._delegate,O,J)}createUserWithEmailAndPassword(O,J){var De=this;return(0,s.Z)(function*(){return Jt(De._delegate,F.a8(De._delegate,O,J))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return F.ad(this._delegate,O)}isSignInWithEmailLink(O){return F.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,s.Z)(function*(){ai(Zn(),O._delegate,"operation-not-supported-in-this-environment");const J=yield F.j(O._delegate,oi);return J?Jt(O._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function ve(L,V){(0,F.aH)(L)._logFramework(V)}(this._delegate,O)}onAuthStateChanged(O,J,De){const{next:st,error:Rt,complete:Tt}=Ki(O,J,De);return this._delegate.onAuthStateChanged(st,Rt,Tt)}onIdTokenChanged(O,J,De){const{next:st,error:Rt,complete:Tt}=Ki(O,J,De);return this._delegate.onIdTokenChanged(st,Rt,Tt)}sendSignInLinkToEmail(O,J){return F.aa(this._delegate,O,J)}sendPasswordResetEmail(O,J){return F.a3(this._delegate,O,J||void 0)}setPersistence(O){var J=this;return(0,s.Z)(function*(){let De;switch(function cr(L,V){js(Object.values(ni).includes(V),L,"invalid-persistence-type"),(0,oe.b$)()?js(V!==ni.SESSION,L,"unsupported-persistence-type"):(0,oe.UG)()?js(V===ni.NONE,L,"unsupported-persistence-type"):Gn()?js(V===ni.NONE||V===ni.LOCAL&&(0,oe.hl)(),L,"unsupported-persistence-type"):js(V===ni.NONE||yi(),L,"unsupported-persistence-type")}(J._delegate,O),O){case ni.SESSION:De=F.a;break;case ni.LOCAL:De=(yield F.aC(F.i)._isAvailable())?F.i:F.b;break;case ni.NONE:De=F.N;break;default:return F.av("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(De)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Jt(this._delegate,F._(this._delegate))}signInWithCredential(O){return Jt(this._delegate,F.$(this._delegate,O))}signInWithCustomToken(O){return Jt(this._delegate,F.a2(this._delegate,O))}signInWithEmailAndPassword(O,J){return Jt(this._delegate,F.a9(this._delegate,O,J))}signInWithEmailLink(O,J){return Jt(this._delegate,F.ac(this._delegate,O,J))}signInWithPhoneNumber(O,J){return Zr(this._delegate,F.s(this._delegate,O,J))}signInWithPopup(O){var J=this;return(0,s.Z)(function*(){return ai(Zn(),J._delegate,"operation-not-supported-in-this-environment"),Jt(J._delegate,F.c(J._delegate,O,oi))})()}signInWithRedirect(O){var J=this;return(0,s.Z)(function*(){return ai(Zn(),J._delegate,"operation-not-supported-in-this-environment"),yield Cr(J._delegate),F.f(J._delegate,O,oi)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return F.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return L.Persistence=ni,L})();function Ki(L,V,O){let J=L;"function"!=typeof L&&({next:J,error:V,complete:O}=L);const De=J;return{next:Rt=>De(Rt&&$t.getOrCreate(Rt)),error:V,complete:O}}function li(L,V){const O=function Qt(L,V){const O=pt();if(!O)return[];const J=F.aD(si,L,V);switch(O.getItem(J)){case ni.NONE:return[F.N];case ni.LOCAL:return[F.i,F.a];case ni.SESSION:return[F.a];default:return[]}}(L,V);if(typeof self<"u"&&!O.includes(F.i)&&O.push(F.i),typeof window<"u")for(const J of[F.b,F.a])O.includes(J)||O.push(J);return O.includes(F.N)||O.push(F.N),O}class Dr{constructor(){this.providerId="phone",this._delegate=new F.P(Wi(Y.Z.auth()))}static credential(V,O){return F.P.credential(V,O)}verifyPhoneNumber(V,O){return this._delegate.verifyPhoneNumber(V,O)}unwrap(){return this._delegate}}Dr.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,Dr.PROVIDER_ID=F.P.PROVIDER_ID;const ur=F.aA;class Sr{constructor(V,O,J=Y.Z.app()){var De;ur(null===(De=J.options)||void 0===De?void 0:De.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new F.R(V,O,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(L){L.INTERNAL.registerComponent(new Se.wA("auth-compat",V=>{const O=V.getProvider("app-compat").getImmediate(),J=V.getProvider("auth");return new Kn(O,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.Q,FacebookAuthProvider:F.U,GithubAuthProvider:F.W,GoogleAuthProvider:F.V,OAuthProvider:F.X,SAMLAuthProvider:F.Y,PhoneAuthProvider:Dr,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:Sr,TwitterAuthProvider:F.Z,Auth:Kn,AuthCredential:F.J,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),L.registerVersion("@firebase/auth-compat","0.4.2")}(Y.Z)},5861:(vt,Ie,G)=>{function s(F,oe,he,te,Se,we,Ce){try{var Q=F[we](Ce),K=Q.value}catch(ne){return void he(ne)}Q.done?oe(K):Promise.resolve(K).then(te,Se)}function Y(F){return function(){var oe=this,he=arguments;return new Promise(function(te,Se){var we=F.apply(oe,he);function Ce(K){s(we,te,Se,Ce,Q,"next",K)}function Q(K){s(we,te,Se,Ce,Q,"throw",K)}Ce(void 0)})}}G.d(Ie,{Z:()=>Y})},7582:(vt,Ie,G)=>{function oe(fe,ge){var ve={};for(var re in fe)Object.prototype.hasOwnProperty.call(fe,re)&&ge.indexOf(re)<0&&(ve[re]=fe[re]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(re=Object.getOwnPropertySymbols(fe);ke<re.length;ke++)ge.indexOf(re[ke])<0&&Object.prototype.propertyIsEnumerable.call(fe,re[ke])&&(ve[re[ke]]=fe[re[ke]])}return ve}function ne(fe,ge,ve,re){return new(ve||(ve=Promise))(function(He,ut){function ht(ln){try{Et(re.next(ln))}catch(Hn){ut(Hn)}}function mn(ln){try{Et(re.throw(ln))}catch(Hn){ut(Hn)}}function Et(ln){ln.done?He(ln.value):function ke(He){return He instanceof ve?He:new ve(function(ut){ut(He)})}(ln.value).then(ht,mn)}Et((re=re.apply(fe,ge||[])).next())})}function Ae(fe){return this instanceof Ae?(this.v=fe,this):new Ae(fe)}function Te(fe,ge,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,re=ve.apply(fe,ge||[]),He=[];return ke={},ut("next"),ut("throw"),ut("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function ut(bn){re[bn]&&(ke[bn]=function(yi){return new Promise(function(Gn,Zn){He.push([bn,yi,Gn,Zn])>1||ht(bn,yi)})})}function ht(bn,yi){try{!function mn(bn){bn.value instanceof Ae?Promise.resolve(bn.value.v).then(Et,ln):Hn(He[0][2],bn)}(re[bn](yi))}catch(Gn){Hn(He[0][3],Gn)}}function Et(bn){ht("next",bn)}function ln(bn){ht("throw",bn)}function Hn(bn,yi){bn(yi),He.shift(),He.length&&ht(He[0][0],He[0][1])}}function qe(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,ge=fe[Symbol.asyncIterator];return ge?ge.call(fe):(fe=function lt(fe){var ge="function"==typeof Symbol&&Symbol.iterator,ve=ge&&fe[ge],re=0;if(ve)return ve.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&re>=fe.length&&(fe=void 0),{value:fe&&fe[re++],done:!fe}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),ve={},re("next"),re("throw"),re("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function re(He){ve[He]=fe[He]&&function(ut){return new Promise(function(ht,mn){!function ke(He,ut,ht,mn){Promise.resolve(mn).then(function(Et){He({value:Et,done:ht})},ut)}(ht,mn,(ut=fe[He](ut)).done,ut.value)})}}}G.d(Ie,{FC:()=>Te,KL:()=>qe,_T:()=>oe,mG:()=>ne,qq:()=>Ae}),"function"==typeof SuppressedError&&SuppressedError}},vt=>{vt(vt.s=7450)}]);