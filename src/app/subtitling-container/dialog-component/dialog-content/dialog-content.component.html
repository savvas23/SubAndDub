<mat-card>
    <mat-card-header>
      <mat-card-title>Subtitle {{index + 1}}</mat-card-title>
      <button mat-icon-button matTooltip="Assign Person to this subtitle"
      [matMenuTriggerFor]="assignPersonMenu">
        <mat-icon>person</mat-icon>
      </button>
      <mat-menu #assignPersonMenu="matMenu">
        <ng-container *ngIf="persons; else noPersons">
          <div *ngFor="let person of persons" class="person-menu-item" mat-menu-item (click)="assignPerson(person)">
            <p class="mat-typography">{{person.name}}</p>
            <span [style.background]="person.color"></span>
          </div>
        </ng-container>
      <ng-template #noPersons>
          <p class="mat-typography">No persons created yet.</p>
      </ng-template>
    </mat-menu>
    <ng-container *ngIf="assignedPerson">
      <h3 class="mat-typography">{{assignedPerson.name}}</h3>
      <span class="person-item" [style.background]="assignedPerson.color"></span>
    </ng-container>
      <button (click)="deleteDialogBox(dialogId)" class="delete-action" mat-icon-button matTooltip="Delete Subtitle">
        <mat-icon>delete</mat-icon>
      </button>
    </mat-card-header>
    <mat-card-content>
        <mat-form-field subscriptSizing="dynamic">
          <textarea matInput [formControl]="getDialogControl('subtitles')" type="text"></textarea>
        </mat-form-field>
        <div fxLayout="column" fxLayoutGap="10px" fxFlex="30">
          <mat-form-field subscriptSizing="dynamic">
            <mat-label>From:</mat-label>
            <input matInput (input)="emitDialogId('start_time')" [formControl]="getDialogControl('start_time')" matTooltip="hh:mm:ss:ms" type="time" step="0.1">
          </mat-form-field>
          <mat-form-field subscriptSizing="dynamic">
            <mat-label>To:</mat-label>
            <input matInput (input)="emitDialogId('end_time')" [formControl]="getDialogControl('end_time')" matTooltip="hh:mm:ss:ms" type="time" step="0.1">
          </mat-form-field>
        </div>
    </mat-card-content>
</mat-card>